{"version":3,"sources":["webpack:///src/main.js","webpack:///webpack/bootstrap dff2eec7adbc7ed83084","webpack:///./src/main.ts","webpack:///./src/stores/widgetStore.ts","webpack:///node_modules/dojo-stores/createMemoryStore.ts","webpack:///node_modules/dojo-compose/compose.ts","webpack:///node_modules/dojo-compose/aspect.ts","webpack:///node_modules/dojo-shim/WeakMap.ts","webpack:///node_modules/dojo-shim/Symbol.ts","webpack:///node_modules/dojo-shim/support/util.ts","webpack:///node_modules/dojo-shim/support/global.ts","webpack:///node_modules/dojo-shim/support/has.ts","webpack:///node_modules/dojo-has/has.ts","webpack:///./~/process/browser.js","webpack:///node_modules/dojo-shim/iterator.ts","webpack:///node_modules/dojo-shim/string.ts","webpack:///node_modules/dojo-shim/support/decorators.ts","webpack:///node_modules/dojo-shim/array.ts","webpack:///node_modules/dojo-shim/number.ts","webpack:///node_modules/dojo-core/lang.ts","webpack:///node_modules/dojo-core/has.ts","webpack:///node_modules/dojo-core/global.ts","webpack:///node_modules/dojo-core/instrument.ts","webpack:///node_modules/dojo-shim/Promise.ts","webpack:///node_modules/dojo-shim/support/queue.ts","webpack:///./~/timers-browserify/main.js","webpack:///node_modules/dojo-compose/mixins/createDestroyable.ts","webpack:///./~/@reactivex/rxjs/dist/amd/Observable.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/root.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/@reactivex/rxjs/dist/amd/symbol/observable.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/toSubscriber.js","webpack:///./~/@reactivex/rxjs/dist/amd/Subscriber.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/isFunction.js","webpack:///./~/@reactivex/rxjs/dist/amd/Subscription.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/isArray.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/isObject.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/tryCatch.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/errorObject.js","webpack:///./~/@reactivex/rxjs/dist/amd/util/UnsubscriptionError.js","webpack:///./~/@reactivex/rxjs/dist/amd/symbol/rxSubscriber.js","webpack:///./~/@reactivex/rxjs/dist/amd/Observer.js","webpack:///./~/immutable/dist/immutable.js","webpack:///./src/widgets/card-details/createCardDetailsPage.ts","webpack:///src/util/d.ts","webpack:///./~/maquette/dist/maquette.js","webpack:///./src/widgets/card-details/createSeenWith.ts","webpack:///./src/widgets/card/createCard.ts","webpack:///src/bases/createWidgetBase.ts","webpack:///node_modules/dojo-shim/Map.ts","webpack:///node_modules/dojo-shim/object.ts","webpack:///node_modules/dojo-compose/bases/createStateful.ts","webpack:///node_modules/dojo-compose/bases/createCancelableEvent.ts","webpack:///node_modules/dojo-compose/bases/createEvented.ts","webpack:///node_modules/dojo-core/aspect.ts","webpack:///./src/widgets/card-details/createCardNavBar.ts","webpack:///src/mixins/createCssTransitionMixin.ts","webpack:///./src/widgets/card-details/createCardDescription.ts","webpack:///./src/widgets/cards/createCardsPage.ts","webpack:///./src/widgets/cards/createCardsList.ts","webpack:///./src/widgets/card/createCardSummary.ts","webpack:///./src/widgets/about/createAboutPage.ts","webpack:///./src/widgets/gameplay/createGameplayPage.ts","webpack:///./src/widgets/home/createHomePage.ts","webpack:///./~/maquette/src/css-transitions.js","webpack:///./src/widgets/navbar/createNavbar.ts","webpack:///./src/widgets/common/createSearchInput.ts","webpack:///./src/stores/cardStore.ts","webpack:///./src/actions/widgetStoreActions.ts","webpack:///node_modules/dojo-actions/createAction.ts","webpack:///node_modules/dojo-core/async/Task.ts","webpack:///node_modules/dojo-core/async/ExtensiblePromise.ts","webpack:///node_modules/dojo-compose/mixins/createStateful.ts","webpack:///node_modules/dojo-compose/mixins/createEvented.ts","webpack:///./src/routes.ts","webpack:///./src/actions/routeActions.ts","webpack:///node_modules/dojo-routing/history/createHashHistory.ts","webpack:///node_modules/dojo-core/on.ts","webpack:///node_modules/dojo-routing/createRouter.ts","webpack:///node_modules/dojo-core/UrlSearchParams.ts","webpack:///node_modules/dojo-routing/lib/path.ts","webpack:///node_modules/dojo-routing/createRoute.ts","webpack:///node_modules/dojo-app/createApp.ts","webpack:///node_modules/dojo-app/lib/realizeCustomElements.ts","webpack:///node_modules/dojo-app/lib/parseJsonAttribute.ts","webpack:///node_modules/dojo-app/lib/makeIdGenerator.ts","webpack:///src/projector.ts","webpack:///src/mixins/createVNodeEvented.ts","webpack:///node_modules/dojo-shim/Set.ts","webpack:///node_modules/dojo-core/queue.ts","webpack:///src/mixins/createParentListMixin.ts","webpack:///src/util/lang.ts","webpack:///node_modules/dojo-dom/dom.ts","webpack:///node_modules/dojo-dom/has.ts","webpack:///node_modules/dojo-app/lib/resolveListenersMap.ts","webpack:///node_modules/dojo-app/lib/moduleResolver.ts","webpack:///node_modules/dojo-app/lib/InstanceRegistry.ts","webpack:///node_modules/dojo-app/lib/factories.ts","webpack:///node_modules/dojo-app/lib/extractRegistrationElements.ts","webpack:///node_modules/dojo-app/lib/RegistryProvider.ts","webpack:///node_modules/dojo-core/IdentityRegistry.ts","webpack:///./src/widgets/common/createContainer.ts","webpack:///src/mixins/createStatefulChildrenMixin.ts","webpack:///src/mixins/createRenderableChildrenMixin.ts","webpack:///src/mixins/createRenderMixin.ts"],"names":["require","modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","parentJsonpFunction","window","chunkIds","moreModules","chunkId","i","callbacks","length","installedChunks","push","apply","_m","args","slice","templateId","a","b","c","this","concat","shift","0","e","callback","undefined","head","document","getElementsByTagName","script","createElement","type","charset","async","src","p","appendChild","m","Object","prototype","hasOwnProperty","fn","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","v","createApp_1","routes_1","cardStore_1","createNavbar_1","createContainer_1","createHomePage_1","createGameplayPage_1","createAboutPage_1","createCardsPage_1","createCardDetailsPage_1","widgetStore_1","app","default","defaultWidgetStore","registerStore","loadDefinition","widgets","options","tagName","Promise","resolve","realize","body","then","bindActions","start","createMemoryStore_1","defineProperty","value","data","sections","text","href","children","enterAnimation","exitAnimation","isThenable","wrapResult","store","result","Promise_1","storeMethods","forEach","method","_i","arguments","wrapError","reject","immutable_1","Observable_1","lang_1","WeakMap_1","compose_1","createDestroyable_1","dataWeakMap","itemObserverWeakMap","storeObserverWeakMap","createMemoryStore","idProperty","get","String","values","observe","Observable","observer","item","next","observers","observerArray","has","set","Map","error","Error","items","Array","from","payload","puts","deletes","beforeAll","afterAll","put","size","replace","OrderedMap","storeObservers","afterData","payload_1","add","assign","patch","partial","_this","delete","completeObservable","complete","completeStoreObservers","payload_2","fromArray","map","idx","instance","mixin","static","missingMethod","TypeError","assignFactoryName","assignFunctionName","Symbol_1","toStringTag","configurable","nameDescriptor","getOwnPropertyDescriptor","writable","assignProperties","overwrite","target","sources","source","defineProperties","getOwnPropertyNames","reduce","descriptors","key","sourceDescriptor","sourceValue","targetDescriptor","targetValue","isArray","current","array_1","includes","objectCreate","rebase","getInitFunctionNames","initFns","privateFactoryData","name","factoryDescriptor","className","assignAdviceMap","createPrivateFactoryData","_a","optionsAdvice","advice","factories","initFunction","proto","staticProperties","factoryData","base","optionsInitFns","initFn","Boolean","createFactory","constructor","SyntaxError","unshift","factoryPrototype","_loop_1","aspect","sourceMethod","aspect_1","before","after","around","staticMethods","DEFAULT_FACTORY_LABEL","freeze","isComposeFactory","extend","extension","instrument_1","deprecated","message","override","baseFactory","properties","keys","overlay","overlayFunction","aspectAdviceToAdviceMap","aspectAdvice","mapAdvice","adviceTuple","adviceMap","beforeAdvice","afterAdvice","aroundAdvice","objectKeys","isComposeMixinable","toMixin","mixinDescriptor","initialize","doFrom","doBefore","doAfter","doAround","create","_static","doExtend","doMixin","doOverride","doOverlay","doAspect","doStatic","doFactoryDescriptor","compose","getDispatcher","joinPoint","dispatcher","dispatchAdviceMap","previousArgs","currentArgs","previousResult","before_1","after_1","advise","AdviceType","Around","Before","After","__decorate","decorators","desc","d","r","Reflect","decorate","decorators_1","global_1","iterator_1","Shim","getUID","Math","floor","random","DELETED","generateName","startId","Date","now","WeakMap","iterable","Symbol","_frozenEntries","forOf","_getFrozenEntryIndex","entry","_name","frozenIndex","splice","isFrozen","hasClass","has_1","util_1","isSymbol","validateSymbol","InternalSymbol","objPrototype","globalSymbols","getSymbolName","created","postfix","getValueDescriptor","description","sym","__description__","__name__","keyFor","hasInstance","for","isConcatSpreadable","iterator","match","search","species","split","toPrimitive","unscopables","toString","valueOf","Exposed","SymbolShim","wellKnown","enumerable","wrapNative","nativeFunction","globalObject","Function","__export","has_2","fill","Number","POSITIVE_INFINITY","acosh","clz32","imul","Set","entries","key1","key2","setImmediate","postMessage","MutationObserver","WebKitMutationObserver","global","process","isStaticFeatureFunction","load","resourceId","config","normalize","skip","term","tokens","exists","feature","staticCache","testCache","testFunctions","globalScope","self","staticFeatures","DojoHasEnvironment","location","versions","node","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","title","browser","env","argv","version","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","isIterable","isArrayLike","ShimIterator","thisArg","doBreak","broken","done","l","char","code","charCodeAt","string_1","HIGH_SURROGATE_MIN","HIGH_SURROGATE_MAX","staticDone","list","_nextIndex","_nativeIterator","_list","LOW_SURROGATE_MIN","LOW_SURROGATE_MAX","normalizeSubstringArgs","position","isEnd","min","max","raw","callSite","substitutions","rawStrings","numSubstitutions","length_1","fromCodePoint","codePoints","fromCharCode","MAX_SIZE","codeUnits","index","codePoint","isValid","isFinite","RangeError","highSurrogate","lowSurrogate","codePointAt","first","second","repeat","count","Infinity","startsWith","end","endsWith","endPosition","indexOf","trueClass","falseClass","toLength","isNaN","number_1","MAX_SAFE_INTEGER","toInteger","abs","normalizeOffset","arrayLike","mapFunction","bind","Constructor","of","copyWithin","offset","direction","find","findIndex","searchElement","fromIndex","currentElement","isInteger","isSafeInteger","EPSILON","pow","MIN_SAFE_INTEGER","shouldDeepCopyObject","copyArray","inherited","_mixin","deep","kwArgs","mixins","deepAssign","deepMixin","duplicate","getPrototypeOf","isIdentical","lateBind","suppliedArgs","targetFunction","createHandle","destructor","destroy","createCompositeHandle","handles","handles_1","handle","requestAnimationFrame","ArrayBuffer","FormData","XMLHttpRequest","request","open","responseType","abort","_b","warn","url","DEFAULT_DEPRECATED_MESSAGE","warning","globalWarn","console","deprecatedAdvice","deprecatedDecorator","propertyKey","descriptor","originalFn_1","setWarn","queue_1","executor","state","isChained","isResolved","whenFinished","settle","newState","resolvedValue","queueMicroTask","onFulfilled","onRejected","all","fulfill","finish","populating","total","processItem","race","reason","catch","clearImmediate","executeTask","isActive","getQueueHandle","microTasks","microTaskQueued","checkMicroTaskQueue","queueTask","enqueue","addEventListener","event","stopPropagation","HostMutationObserver","node_1","queue_2","attributes","setAttribute","Timeout","clearFn","_id","_clearFn","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","destroyed","isDestroyable","handlesWeakMap","createDestroyable","own","root_1","observable_1","toSubscriber_1","subscribe","_isScalar","_subscribe","lift","operator","observable","observerOrNext","sink","toSubscriber","syncErrorThrowable","syncErrorThrown","syncErrorValue","PromiseCtor","root","Rx","subscription","err","unsubscribe","subscriber","$$observable","objectTypes","boolean","function","object","number","string","freeGlobal","nodeType","webpackPolyfill","deprecate","paths","Subscriber_1","rxSubscriber_1","nextOrObserver","Subscriber","$$rxSubscriber","__extends","__","isFunction_1","Subscription_1","Observer_1","_super","destinationOrNext","isStopped","destination","empty","SafeSubscriber","_next","_error","_complete","isUnsubscribed","Subscription","_parent","context","isFunction","_context","__tryOrSetError","__tryOrUnsub","parent","_unsubscribe","x","isArray_1","isObject_1","tryCatch_1","errorObject_1","UnsubscriptionError_1","errors","hasErrors","_subscriptions","trial","tryCatch","errorObject","sub","isObject","UnsubscriptionError","teardown","EMPTY","remove","subscriptions","subscriptionIndex","tryCatcher","tryCatchTarget","join","createClass","ctor","superClass","Iterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","MakeRef","SetRef","OwnerID","arrCopy","arr","newArr","ii","ensureSize","iter","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Iterator","iteratorValue","k","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iteratorFn","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","emptySequence","toSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","ArraySeq","_array","ObjectSeq","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iterator","_iteratorCache","isSeq","maybeSeq","IS_SEQ_SENTINEL","EMPTY_SEQ","seq","maybeIndexedSeqFromValue","seqIterate","reverse","useKeys","cache","_cache","maxIndex","__iterateUncached","seqIterator","__iteratorUncached","fromJS","json","converter","fromJSWith","","fromJSDefault","parentJSON","isPlainObj","toList","toMap","is","valueA","valueB","equals","deepEqual","__hash","notAssociative","every","flipped","cacheResult","_","allEqual","bSize","NOT_SET","Repeat","times","_value","EMPTY_REPEAT","invariant","condition","Range","step","_start","_end","_step","ceil","EMPTY_RANGE","Collection","KeyedCollection","IndexedCollection","SetCollection","smi","i32","hash","o","h","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashCode","hashJSObj","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","obj","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","objHashUID","isExtensible","uniqueID","documentElement","assertNotInfinite","emptyMap","isMap","withMutations","maybeMap","IS_MAP_SENTINEL","ArrayMapNode","ownerID","BitmapIndexedNode","bitmap","nodes","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","MapIterator","_type","_reverse","_stack","_root","mapIteratorFrame","mapIteratorValue","prev","__prev","makeMap","MapPrototype","__ownerID","__altered","EMPTY_MAP","updateMap","newRoot","newSize","didChangeSize","CHANGE_LENGTH","didAlter","DID_ALTER","updateNode","update","isLeafNode","mergeIntoNode","newNode","idx1","MASK","idx2","SHIFT","createNodes","packNodes","excluding","packedII","packedNodes","bit","expandNodes","including","expandedNodes","SIZE","mergeIntoMapWith","merger","iterables","iters","mergeIntoCollectionWith","deepMerger","existing","mergeDeep","deepMergerWith","mergeDeepWith","nextValue","collection","filter","mergeIntoMap","updateInDeepMap","keyPathIter","notSetValue","updater","isNotSet","existingValue","newValue","nextExisting","nextUpdated","popCount","setIn","val","canEdit","newArray","spliceIn","newLen","spliceOut","pop","List","emptyList","isList","makeList","VNode","toArray","setSize","maybeList","IS_LIST_SENTINEL","iterateList","iterateNodeOrLeaf","level","iterateLeaf","iterateNode","tailPos","tail","left","to","right","DONE","_origin","_capacity","getTailOffset","_tail","_level","origin","capacity","ListPrototype","EMPTY_LIST","updateList","setListBounds","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","editableVNode","listNodeFor","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","clear","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","removeAfter","removeBefore","beginIndex","mergeIntoListWith","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","EMPTY_ORDERED_MAP","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","this$0","ITERATE_ENTRIES","__iterator","ITERATE_VALUES","ITERATE_KEYS","mapFactory","mapper","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","iterations","countByFactory","grouper","groups","asMutable","asImmutable","groupByFactory","isKeyedIter","coerce","iterableClass","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","sum","flattenFactory","depth","flatSequence","flatDeep","currentDepth","stopped","stack","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","sort","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","some","s","validateEntry","resolveSize","forceIterator","keyPath","Record","defaultValues","hasInitialized","RecordType","setProps","RecordTypePrototype","_defaultValues","RecordPrototype","makeRecord","likeRecord","record","recordName","names","setProp","emptySet","isSet","maybeSet","IS_SET_SENTINEL","updateSet","__empty","__make","makeSet","SetPrototype","EMPTY_SET","OrderedSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","makeOrderedSet","OrderedSetPrototype","EMPTY_ORDERED_SET","Stack","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","makeStack","StackPrototype","_head","EMPTY_STACK","methods","keyCopier","getOwnPropertySymbols","keyMapper","entryMapper","not","neg","quoteString","JSON","stringify","defaultZipper","defaultNegComparator","hashIterable","ordered","keyed","hashMerge","murmurHashOfSize","SLICE$0","Keyed","Indexed","DELETE","ITERATOR_SYMBOL","KEYS","VALUES","ENTRIES","inspect","toSource","__toString","searchValue","lastIndexOf","other","possibleIndex","offsetValue","keyValues","updateIn","deleteIn","updatedValue","merge","mergeWith","mergeIn","mergeDeepIn","sortBy","mutable","wasAltered","__ensureOwner","iterate","removeIn","removed","MAX_ARRAY_MAP_SIZE","isEditable","newEntries","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","newBitmap","newNodes","newCount","MIN_HASH_ARRAY_MAP_SIZE","keyMatch","subNode","insert","oldSize","originIndex","newChild","removingFirst","oldChild","editable","sizeIndex","valueSeq","indexedIterable","defaultVal","_empty","fromKeys","keySeq","union","intersect","originalSet","subtract","peek","pushAll","toJS","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","findEntry","sideEffect","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","butLast","isEmpty","countBy","entriesSequence","filterNot","found","findKey","findLast","findLastEntry","findLastKey","flatMap","searchKey","getIn","searchKeyPath","nested","groupBy","hasIn","isSubset","isSuperset","keyOf","last","lastKeyOf","maxBy","minBy","rest","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","IterablePrototype","chain","contains","mapEntries","mapKeys","KeyedIterablePrototype","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","zipWith","Immutable","createWidgetBase_1","createCssTransitionMixin_1","createCardDescription_1","createCardNavBar_1","createSeenWith_1","d_1","createCardDetailsPage","classes","childNodeRenderers","cards","cardDescription","seenWith","cardNavBar","descriptionState","cardDescriptionView","jumbotron","seenWithView","tagNameOrFactory","child","render","maquette_1","createDom","updateDom","NAMESPACE_W3","NAMESPACE_SVG","NAMESPACE_XLINK","emptyArray","overrides","same","vnode1","vnode2","vnodeSelector","toTextVNode","domNode","appendChildren","parentSelector","insertions","main","missingTransition","DEFAULT_PROJECTION_OPTIONS","namespace","eventHandlerInterceptor","styleApplyer","styleName","style","transitions","enter","exit","applyDefaultProjectionOptions","projectorOptions","checkStyleValue","styleValue","setProperties","projectionOptions","propNames","propCount","propName","propValue","token","classList","classNames","classNameCount","j","styleNames","styleCount","oldPropValue","evt","setAttributeNS","updateProperties","previousProperties","propertiesUpdated","previousValue","previousOn","newStyleValue","oldStyleValue","findIndexOfChild","sameAs","nodeAdded","vNode","nodeToRemove","pointerEvents","removeDomNode","parentNode","removeChild","checkDistinguishable","childNodes","indexToCheck","parentVNode","operation","childNode","updateChildren","vnode","oldChildren","newChildren","oldChildrenLength","newChildrenLength","oldIndex","newIndex","textUpdated","findOldIndex","addChildren","initPropertiesAndChildren","textContent","afterCreate","insertBefore","createTextNode","charAt","createElementNS","previous","updated","newVNode","replaceChild","firstChild","afterUpdate","updateAnimation","createProjection","updatedVnode","selector","childIndex","argsLength","onlyChild","dom","append","beforeNode","element","createCache","cachedInputs","cachedOutcome","invalidate","inputs","calculation","createMapping","getSourceKey","createResult","updateResult","results","newSources","newKeys","oldTargets","sourceKey","searchIndex","createProjector","projector","propertyName","eventHandler","scheduleRender","scheduled","renderCompleted","projections","renderFunctions","doRender","renderNow","stop","cancelAnimationFrame","resume","renderMaquetteFunction","detach","createCard_1","createSeenWith","cardNodes","card","large","innerHTML","createCard","nodeAttributes","baseImageClass","imageClass","generateID","widgetCount","setState","isWNode","dNodeToVNode","dNode","internalState","widgetInternalStateMap","childrenMapKey","cachedChild","historicChildrenMap","currentChildrenMap","errorMsg","manageDetachedChildren","formatTagNameAndClasses","createStateful_1","Map_1","createWidget","getChildrenNodes","childrenWrappers","wrappers","getNodeAttributes","props","newProps","dirty","baseIdProp","data-widget-id","styles","widgetClasses","cachedVNode","widget","object_1","_values","_indexOfKey","length_2","value1","value2","substring","completeStatefulState","stateful","observedState","observedStateMap","statecomplete","createCancelableEvent_1","defaultPrevented","setStatefulState","previousState","stateWeakMap","eventObject","createEvented_1","createStateful","observeState","stateFrom","createCancelableEvent","cancelable","preventDefault","isActionable","do","resolveListener","listener","handlesArraytoHandle","listenersMap","createEvented","listenerMap","type_1","listeners","listenerMapArg_1","isMapLike","receiveArguments","advised","nextId","_c","methodName","executionId","newResults","createCardNavBar","createCssTransitionMixin","createButtonLink","iconClass","icon","buttonText","shareButtonConfig","createCardDescription","tagline","favouriteCount","cardImage","cardName","cardTagline","cardFavouriteCount","shareButtons","createCardsList_1","createCardsPage","cardsList","createCardSummary_1","createCardList","createCardSummary","score","cardPoints","createAboutPage","heading","createGameplayPage","createHomePage","mmLogo","browserSpecificTransitionEndEventName","determineBrowserSpecificStyleNames","init","testElement","cssTransitions","removeNode","finished","transitionEnd","removeEventListener","define","amd","listItem","createNavBarLink","createSearchInput_1","createNavbar","homeLink","sectionLinks","searchAction","favouriteAction","pageLinks","actionLinks","createSearchInput","input","cardStore","changeRecord","widgetStoreActions_1","putCard","getShuffledCards","temp","shuffledArray","pickRandomCards","numberToPick","exclude","filteredCards","cardType","getStates","cardStates","cardSummaryStates","createAction_1","isAction","Task_1","doFunctions","configureFunctions","createAction","doFn","enabled","isTask","enable","disable","configure","configuration","configureFn","cancel","ExtensiblePromise_1","Task","canceler","superResolve","superReject","_state","_cancel","finallyTask","runFinally","_finally","finally","task","unwrapPromises","unwrapped","ExtensiblePromise","_promise","handler","rejected","valueOrError","unobserve","createRoute_1","createRouter_1","createHashHistory_1","routeActions_1","cardDetailRoute","path","exec","params","gotoCardDetails","cardsRoute","gotoCards","homeRoute","gotoHome","aboutRoute","gotoAbout","gameplayRoute","gotoGameplay","history","router","on_1","privateStateMap","createHashHistory","prefix","privateState","browserLocation","pathname","dispatchEvent","ownerDocument","createEvent","nativeEvent","initEvent","bubbles","capture","pausable","paused","pause","hasBeenAppended","route","parentMap","createDeferral","promise","reportError","catchRejection","thenable","UrlSearchParams_1","path_1","createRouter","routes","add_1","dispatch","dispatchFromStart","canceled","deferrals","defer","success","parse","searchParams","segments","trailingSlash","redirect","fallback","dispatched","select","currentSelection","result_1","link","roots","hierarchy","parent_1","addLeadingSlash","leadingSlash","addTrailingSlash","currentPathValues","currentSearchParams","selection","rawPathValues","rawSearchParams","expectedSegments","searchParameters","namedOffset","expectedSegments_1","segment","isNamedSegment","literal","searchParameters_1","value_1","_d","_e","dispatchCurrent","started","contextFactory","lastDispatch","redirectCount","redirecting","sharedContext_1","parseQueryString","query","indexOfFirstEquals","decodeURIComponent","UrlSearchParams","getAll","encodedKey","encodeURIComponent","values_1","pathnameTokens","searchStart","hashStart","t","hasRemaining","isMatch","expected","deconstruct","parameters","consume","inSearchComponent","name_1","test","closing","next_1","computeDefaultParams","fromPathname","createRoute","hasTrailingSlash","computeParams","trailingSlashMustMatch","knownSearchParams","guard","matchResult","guardResult","remainingSelection","selected","remainingSegments_1","nestedResult","deconstructedPath","addIdentifier","identifiers","createCustomWidget","factoryHandle","registryProvider","customElementFactories","widgetFactories","widgetInstances","hasRegisteredFactory","hasRegisteredInstance","customFactory","registerWidgetFactory","getWidget","registerInstance","instanceRegistry","instanceHandle","addWidget","idHandle","register","IdentityRegistry_1","Set_1","extractRegistrationElements_1","factories_1","InstanceRegistry_1","makeIdGenerator_1","moduleResolver_1","realizeCustomElements_1","RegistryProvider_1","RegistryProvider","DEFAULT_ACTION_STORE","DEFAULT_WIDGET_STORE","generateWidgetId","createApp","defaultActionStore","storeFactories","addStore","registerAction","action","actionFactories","addAction","registryHandle","registerActionFactory","registerCustomElementFactory","isValidName","wrapped","normalizeName","registerStoreFactory","registerWidget","actions","customElements","stores","resolveMid","actions_1","definition","makeActionFactory","customElements_1","makeCustomElementFactory","stores_1","makeStoreFactory","widgets_1","makeWidgetFactory","defaultStores","definitionHandle","realizationHandle","getAction","hasAction","identifyAction","getCustomElementFactory","hasCustomElementFactory","getStore","hasStore","identifyStore","missingFactory","instances","hasWidget","identifyWidget","toAbsMid","reservedNames","toLowerCase","isCustomElement","registry","getCustomElementsByWidgetProjector","allElements","allElements_1","attrIs","getAttribute","widgetProjectors","inverseStack","discardFirstNode","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","custom","getIdFromAttributes","resolveListeners","str","parseJsonAttribute_1","valid","check","eventType","identifier","resolveListenersMap_1","resolveOptions","idFromAttributes","getTransitionOptionFromProjector","hasAttribute","resolveStateFromAttribute","getInitialState","realizeCustomElements","appendQueue","immediatePlaceholderLookup","projectors","managedWidgets","loadedWidgets","widgetProjectors_1","projector_1","projectorStateFrom","processing","isWidgetInstance","_factory","_listeners","_options","_store","projectorStore","initialState","generateId","appendQueue_1","widgets_2","attachedProjectors","immediatePlaceholders","immediatePlaceholders_1","placeholder","dom_1","place","Position","Replace","attach","projectors_1","managedWidgets_1","w","parseJsonAttribute","makeIdGenerator","createVNodeEvented_1","createParentListMixin_1","ProjectorState","projectorDataMap","noopHandle","emptyVNode","noopVNode","projectorData","childVNodes","afterInitialCreate","Attached","attachPromise","boundRender","attachHandle","Detached","setRoot","autoAttach","createStubbedProjector","defaultProjector","vnodeEvents","UNINITIALIZED_LISTENERS","createVNodeEvented","origFn","_setData","callbackfn","isMicroTaskQueued_1","queueAnimationTask","rafId","childrenMap","createParentMixin","getRemoveHandle","reference","insertInList","getIndex","insertInArray","valueReplacer","RegExp","valueReviver","regExpStr","regExp","flags","valueToString","stringToValue","isChild","getDestroyHandle","handle_1","handles_2","validateToken","addClass","targetElement","newClasses","classes_1","containsClass","applyFeatureClass","features","features_1","byId","getElementById","DOCUMENT_POSITION_CONTAINS","targetClass","fromString","html","unwrapElement","levels","fragment","useContextualFragment","master","tag","display","range","createRange","selectNode","tagWrap","wrap","wrappedHTML","pre","post","createContextualFragment","createDocumentFragment","relativeElement","ReferenceError","lastChild","nextSibling","FirstIn","removeClass","oldClasses","classes_2","toggleClass","force","func","children_1","property","attribute","caption","col","colgroup","optgroup","option","rp","rt","rtc","tbody","td","tfoot","th","thead","tr","param","tw","matches","msMatchesSelector","webkitMatchesSelector","carriesValue","withoutPromises","mixed","containsPromises","ref_1","flattened_1","resolveListenersMap","eventTypes","makeResolver","mid","member","__WEBPACK_AMD_REQUIRE_ARRAY__","__esModule","RESOLVE_CONTENTS","contents","member_1","Type","errorStrings","Action","Store","Widget","InstanceRegistry","identify","expectedType","resolveStore","isInstance","resolveFactory","factory_1","defaultExport","rawOptions","customElement","isFactoryResolver","resolver","getRegistrationTasks","tasks","TAG_NAMES","parsers","createActionDefinition","importName","loadMultipleActions","createCustomElementDefinition","createStoreDefinition","createWidgetDefinition","extractRegistrationElements","promises","isDefault","stateJson","optionsJson","listenersJson","underlyingRegistry","actionRegistry","storeRegistry","widgetRegistry","getState","IdentityRegistry","entryMap","idMap","existingEntry","existingId","createRenderMixin_1","createRenderableChildrenMixin_1","createStatefulChildrenMixin_1","createContainer","manageChildren","managementMap","currentChildrenIDs","generation","resolvingWidgets","childrenList","childrenIsList","widgetPromise","manageChildrenState","evtChildren","storedChildren","isCreateChildrenMap","createStatefulChildrenMixin","createChildren","management_1","registry_1","id_1","labels_1","label","childrenUID","createChild","tuple","createRenderableChildrenMixin","results_1"],"mappings":"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","file":"src/main.js","sourcesContent":["require = function () {};\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId])\n/******/ \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tvar _m = moreModules[moduleId];\n/******/\n/******/ \t\t\t// Check if module is deduplicated\n/******/ \t\t\tswitch(typeof _m) {\n/******/ \t\t\tcase \"object\":\n/******/ \t\t\t\t// Module can be created from a template\n/******/ \t\t\t\tmodules[moduleId] = (function(_m) {\n/******/ \t\t\t\t\tvar args = _m.slice(1), templateId = _m[0];\n/******/ \t\t\t\t\treturn function (a,b,c) {\n/******/ \t\t\t\t\t\tmodules[templateId].apply(this, [a,b,c].concat(args));\n/******/ \t\t\t\t\t};\n/******/ \t\t\t\t}(_m));\n/******/ \t\t\t\tbreak;\n/******/ \t\t\tcase \"function\":\n/******/ \t\t\t\t// Normal module\n/******/ \t\t\t\tmodules[moduleId] = _m;\n/******/ \t\t\t\tbreak;\n/******/ \t\t\tdefault:\n/******/ \t\t\t\t// Module is a copy of another module\n/******/ \t\t\t\tmodules[moduleId] = modules[_m];\n/******/ \t\t\t\tbreak;\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n/******/ \t\twhile(callbacks.length)\n/******/ \t\t\tcallbacks.shift().call(null, __webpack_require__);\n/******/\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded and loading chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \t// Array means \"loading\", array contains callbacks\n/******/ \tvar installedChunks = {\n/******/ \t\t0:0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] === 0)\n/******/ \t\t\treturn callback.call(null, __webpack_require__);\n/******/\n/******/ \t\t// an array means \"currently loading\".\n/******/ \t\tif(installedChunks[chunkId] !== undefined) {\n/******/ \t\t\tinstalledChunks[chunkId].push(callback);\n/******/ \t\t} else {\n/******/ \t\t\t// start chunk loading\n/******/ \t\t\tinstalledChunks[chunkId] = [callback];\n/******/ \t\t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\t\tvar script = document.createElement('script');\n/******/ \t\t\tscript.type = 'text/javascript';\n/******/ \t\t\tscript.charset = 'utf-8';\n/******/ \t\t\tscript.async = true;\n/******/\n/******/ \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({}[chunkId]||chunkId) + \".js\";\n/******/ \t\t\thead.appendChild(script);\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ((function(modules) {\n\t// Check all modules for deduplicated modules\n\tfor(var i in modules) {\n\t\tif(Object.prototype.hasOwnProperty.call(modules, i)) {\n\t\t\tswitch(typeof modules[i]) {\n\t\t\tcase \"function\": break;\n\t\t\tcase \"object\":\n\t\t\t\t// Module can be created from a template\n\t\t\t\tmodules[i] = (function(_m) {\n\t\t\t\t\tvar args = _m.slice(1), fn = modules[_m[0]];\n\t\t\t\t\treturn function (a,b,c) {\n\t\t\t\t\t\tfn.apply(this, [a,b,c].concat(args));\n\t\t\t\t\t};\n\t\t\t\t}(modules[i]));\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Module is a copy of another module\n\t\t\t\tmodules[i] = modules[modules[i]];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn modules;\n}([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(13);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(95), __webpack_require__(87), __webpack_require__(79), __webpack_require__(77), __webpack_require__(115), __webpack_require__(75), __webpack_require__(74), __webpack_require__(73), __webpack_require__(70), __webpack_require__(54), __webpack_require__(14), __webpack_require__(76)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createApp_1 = __webpack_require__(95);\n\t    var routes_1 = __webpack_require__(87);\n\t    var cardStore_1 = __webpack_require__(79);\n\t    var createNavbar_1 = __webpack_require__(77);\n\t    var createContainer_1 = __webpack_require__(115);\n\t    var createHomePage_1 = __webpack_require__(75);\n\t    var createGameplayPage_1 = __webpack_require__(74);\n\t    var createAboutPage_1 = __webpack_require__(73);\n\t    var createCardsPage_1 = __webpack_require__(70);\n\t    var createCardDetailsPage_1 = __webpack_require__(54);\n\t    var widgetStore_1 = __webpack_require__(14);\n\t    __webpack_require__(76);\n\t    var app = createApp_1.default({ defaultWidgetStore: widgetStore_1.default });\n\t    app.registerStore('cards-store', cardStore_1.default);\n\t    app.loadDefinition({\n\t        widgets: [\n\t            {\n\t                id: 'navbar',\n\t                factory: createNavbar_1.default\n\t            },\n\t            {\n\t                id: 'container',\n\t                factory: createContainer_1.default,\n\t                options: {\n\t                    tagName: 'main'\n\t                }\n\t            },\n\t            {\n\t                id: 'cardDetails',\n\t                factory: createCardDetailsPage_1.default\n\t            },\n\t            {\n\t                id: 'cards',\n\t                factory: createCardsPage_1.default\n\t            },\n\t            {\n\t                id: 'home',\n\t                factory: createHomePage_1.default\n\t            },\n\t            {\n\t                id: 'gameplay',\n\t                factory: createGameplayPage_1.default\n\t            },\n\t            {\n\t                id: 'about',\n\t                factory: createAboutPage_1.default\n\t            }\n\t        ]\n\t    });\n\t    Promise.resolve(app.realize(document.body))\n\t        .then(function () { return cardStore_1.bindActions(); })\n\t        .then(function () { return routes_1.default.start(); });\n\t});\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(15)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createMemoryStore_1 = __webpack_require__(15);\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createMemoryStore_1.default({\n\t        data: [\n\t            {\n\t                id: 'navbar',\n\t                sections: [\n\t                    { text: 'the cards', href: '#cards' },\n\t                    { text: 'gameplay', href: '#gameplay' },\n\t                    { text: 'about', href: '#about' }\n\t                ]\n\t            },\n\t            {\n\t                id: 'container',\n\t                children: []\n\t            },\n\t            {\n\t                id: 'cardDetails',\n\t                enterAnimation: 'fadeInSlideDown',\n\t                exitAnimation: 'fadeOutSlideUp'\n\t            },\n\t            {\n\t                id: 'cards',\n\t                enterAnimation: 'fadeIn',\n\t                exitAnimation: 'fadeOut'\n\t            },\n\t            {\n\t                id: 'home',\n\t                enterAnimation: 'fadeIn',\n\t                exitAnimation: 'fadeOut'\n\t            },\n\t            {\n\t                id: 'about',\n\t                enterAnimation: 'fadeIn',\n\t                exitAnimation: 'fadeOut'\n\t            },\n\t            {\n\t                id: 'gameplay',\n\t                enterAnimation: 'fadeIn',\n\t                exitAnimation: 'fadeOut'\n\t            }\n\t        ]\n\t    });\n\t});\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(53), __webpack_require__(38), __webpack_require__(30), __webpack_require__(34), __webpack_require__(18), __webpack_require__(16), __webpack_require__(37)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var immutable_1 = __webpack_require__(53);\n\t    var Observable_1 = __webpack_require__(38);\n\t    var lang_1 = __webpack_require__(30);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var compose_1 = __webpack_require__(16);\n\t    var createDestroyable_1 = __webpack_require__(37);\n\t    /**\n\t     * The weak map that contains the data for the stores\n\t     */\n\t    var dataWeakMap = new WeakMap_1.default();\n\t    /**\n\t     * The weak map that contains any observers for the stores\n\t     */\n\t    var itemObserverWeakMap = new WeakMap_1.default();\n\t    /**\n\t     *\n\t     */\n\t    var storeObserverWeakMap = new WeakMap_1.default();\n\t    /**\n\t     * The methods to decorate the MemoryStorePromise with\n\t     */\n\t    var storeMethods = ['get', 'put', 'add', 'patch', 'delete', 'fromArray'];\n\t    /**\n\t        * Returns true if a given value has a `then` method.\n\t        * @param {any} value The value to check if is Thenable\n\t        * @returns {is Thenable<T>} A type guard if the value is thenable\n\t        */\n\t    function isThenable(value) {\n\t        return value && typeof value.then === 'function';\n\t    }\n\t    /**\n\t     * Utility function that takes a result and generates a MemoryStorePromise\n\t     * @param store The store to use as a reference when decorating the Promise\n\t     * @param result The result to wrap, if Thenable, it will be decorated, otherwise a new Promise is created\n\t     */\n\t    function wrapResult(store, result) {\n\t        /* TODO: this all seems pretty expensive, there has to be a better way */\n\t        var p = (isThenable(result) ? result : Promise_1.default.resolve(result));\n\t        storeMethods.forEach(function (method) {\n\t            p[method] = function () {\n\t                var args = [];\n\t                for (var _i = 0; _i < arguments.length; _i++) {\n\t                    args[_i - 0] = arguments[_i];\n\t                }\n\t                return p.then(function () {\n\t                    return store[method].apply(store, args);\n\t                });\n\t            };\n\t        });\n\t        return p;\n\t    }\n\t    /**\n\t     * Utility function that takes an error and generates a rejected MemoryStorePromise\n\t     * @param store The store to use as a reference when decorating the Promise\n\t     * @param result The result to wrap\n\t     */\n\t    function wrapError(store, result) {\n\t        var p = (isThenable(result) ? result : Promise_1.default.reject(result));\n\t        storeMethods.forEach(function (method) {\n\t            p[method] = function () {\n\t                var args = [];\n\t                for (var _i = 0; _i < arguments.length; _i++) {\n\t                    args[_i - 0] = arguments[_i];\n\t                }\n\t                return p.then(function () {\n\t                    return store[method].apply(store, args);\n\t                });\n\t            };\n\t        });\n\t        return p;\n\t    }\n\t    /**\n\t     * Create a new instance of a MemoryStore\n\t     */\n\t    var createMemoryStore = compose_1.default({\n\t        idProperty: 'id',\n\t        get: function (id) {\n\t            var data = dataWeakMap.get(this);\n\t            if (id) {\n\t                return wrapResult(this, data && data.get(String(id)));\n\t            }\n\t            else {\n\t                return wrapResult(this, data.values());\n\t            }\n\t        },\n\t        observe: function (id) {\n\t            var store = this;\n\t            if (id) {\n\t                return new Observable_1.Observable(function subscribe(observer) {\n\t                    store.get(String(id)).then(function (item) {\n\t                        if (item) {\n\t                            observer.next(item);\n\t                            var observers = itemObserverWeakMap.get(store);\n\t                            var observerArray = observers && observers.has(String(id)) ? observers.get(String(id)) : [];\n\t                            observerArray.push(observer);\n\t                            itemObserverWeakMap.set(store, (observers ? observers : immutable_1.Map()).set(String(id), observerArray));\n\t                        }\n\t                        else {\n\t                            observer.error(new Error(\"ID \\\"\" + id + \"\\\" not found in store\"));\n\t                        }\n\t                    });\n\t                });\n\t            }\n\t            else {\n\t                return new Observable_1.Observable(function subscribe(observer) {\n\t                    var data = dataWeakMap.get(store);\n\t                    var observers = storeObserverWeakMap.get(store) || [];\n\t                    var values = data.values();\n\t                    var items = Array.from(values);\n\t                    var payload = {\n\t                        puts: items,\n\t                        deletes: [],\n\t                        beforeAll: [],\n\t                        afterAll: items\n\t                    };\n\t                    observer.next(payload);\n\t                    observers.push(observer);\n\t                    storeObserverWeakMap.set(store, observers);\n\t                });\n\t            }\n\t        },\n\t        put: function (item, options) {\n\t            var store = this;\n\t            var data = dataWeakMap.get(store);\n\t            var beforeAll = data ? data.values() : [];\n\t            var idProperty = store.idProperty;\n\t            var id = options && 'id' in options ? options.id :\n\t                idProperty in item ? item[idProperty] :\n\t                    data ? data.size : 0;\n\t            if (options && options.replace === false && data && data.has(String(id))) {\n\t                return wrapError(store, Error(\"Duplicate ID \\\"\" + id + \"\\\" when pragma \\\"replace\\\" is false\"));\n\t            }\n\t            item[idProperty] = id;\n\t            dataWeakMap.set(store, (data ? data : immutable_1.OrderedMap()).set(String(id), item));\n\t            var observers = itemObserverWeakMap.get(store);\n\t            if (observers && observers.has(String(id))) {\n\t                observers.get(String(id)).forEach(function (observer) { return observer.next(item); });\n\t            }\n\t            var storeObservers = storeObserverWeakMap.get(store);\n\t            if (storeObservers) {\n\t                var afterData = dataWeakMap.get(store);\n\t                var afterAll = afterData.values();\n\t                var payload_1 = {\n\t                    puts: [item],\n\t                    deletes: [],\n\t                    beforeAll: Array.from(beforeAll),\n\t                    afterAll: Array.from(afterAll)\n\t                };\n\t                storeObservers.forEach(function (observer) {\n\t                    observer.next(payload_1);\n\t                });\n\t            }\n\t            return wrapResult(store, item);\n\t        },\n\t        add: function (item, options) {\n\t            return this.put(item, lang_1.assign(options ? options : {}, { replace: false }));\n\t        },\n\t        patch: function (partial, options) {\n\t            var _this = this;\n\t            var idProperty = this.idProperty;\n\t            var id = options && 'id' in options ? options.id : partial[idProperty];\n\t            if (!id) {\n\t                return wrapError(this, new Error(\"Object ID must either be passed in \\\"partial.\" + idProperty + \"\\\" or \\\"options.id\\\"\"));\n\t            }\n\t            return wrapResult(this, this.get(id).then(function (item) {\n\t                if (item === void 0) { item = {}; }\n\t                options = options || {};\n\t                options.id = id;\n\t                return _this.put(lang_1.assign(item, partial), options);\n\t            }));\n\t        },\n\t        delete: function (item) {\n\t            var store = this;\n\t            var idProperty = store.idProperty;\n\t            var data = dataWeakMap.get(store);\n\t            var beforeAll = data ? data.values() : [];\n\t            /**\n\t             * Complete any observers associated with this items id\n\t             */\n\t            function completeObservable(id) {\n\t                var observers = itemObserverWeakMap.get(store);\n\t                if (observers && observers.has(String(id))) {\n\t                    observers.get(String(id)).forEach(function (observer) { return observer.complete(); });\n\t                    itemObserverWeakMap.set(store, observers.delete(id));\n\t                }\n\t            }\n\t            function completeStoreObservers() {\n\t                var storeObservers = storeObserverWeakMap.get(store);\n\t                if (storeObservers) {\n\t                    var afterData = dataWeakMap.get(store);\n\t                    var afterAll = afterData.values();\n\t                    var payload_2 = {\n\t                        puts: [],\n\t                        deletes: [item],\n\t                        beforeAll: Array.from(beforeAll),\n\t                        afterAll: Array.from(afterAll)\n\t                    };\n\t                    storeObservers.forEach(function (observer) {\n\t                        observer.next(payload_2);\n\t                    });\n\t                }\n\t            }\n\t            if (typeof item === 'object') {\n\t                if (idProperty in item && data && data.has(String(item[idProperty]))) {\n\t                    dataWeakMap.set(store, data.delete(String(item[idProperty])));\n\t                    completeObservable(item[idProperty]);\n\t                    completeStoreObservers();\n\t                    return wrapResult(store, true);\n\t                }\n\t            }\n\t            else {\n\t                if (data && data.has(String(item))) {\n\t                    dataWeakMap.set(store, data.delete(String(item)));\n\t                    completeObservable(item);\n\t                    completeStoreObservers();\n\t                    return wrapResult(store, true);\n\t                }\n\t            }\n\t            return wrapResult(store, false);\n\t        },\n\t        fromArray: function (items) {\n\t            var store = this;\n\t            var map = {};\n\t            var idProperty = store.idProperty;\n\t            items.forEach(function (item, idx) {\n\t                var id = idProperty in item ? item[idProperty] : idx;\n\t                item[idProperty] = id;\n\t                map[id] = item;\n\t            });\n\t            dataWeakMap.set(store, immutable_1.OrderedMap(map));\n\t            return wrapResult(store, undefined);\n\t        }\n\t    }, function (instance, options) {\n\t        if (options) {\n\t            if (options.idProperty) {\n\t                instance.idProperty = options.idProperty;\n\t            }\n\t            if (options.data) {\n\t                instance.fromArray(options.data);\n\t            }\n\t        }\n\t    })\n\t        .mixin(createDestroyable_1.default)\n\t        .static({\n\t        fromArray: function (data) {\n\t            return createMemoryStore({ data: data });\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createMemoryStore;\n\t});\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(33), __webpack_require__(30), __webpack_require__(28), __webpack_require__(18), __webpack_require__(19), __webpack_require__(17)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var instrument_1 = __webpack_require__(33);\n\t    var lang_1 = __webpack_require__(30);\n\t    var array_1 = __webpack_require__(28);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var Symbol_1 = __webpack_require__(19);\n\t    var aspect_1 = __webpack_require__(17);\n\t    /**\n\t     * The default factory label if no label can be derived during the factory creation process\n\t     */\n\t    var DEFAULT_FACTORY_LABEL = 'Compose';\n\t    /* References to support minification */\n\t    var defineProperty = Object.defineProperty;\n\t    var isArray = Array.isArray;\n\t    var objectCreate = Object.create;\n\t    var objectKeys = Object.keys;\n\t    /**\n\t     * A weakmap that stores all the private data for a factory\n\t     */\n\t    var privateFactoryData = new WeakMap_1.default();\n\t    /**\n\t     * An internal function which stubs out a method which, when called at runtime, throws.\n\t     *\n\t     * @param method The name of \"abstract\" method being called\n\t     */\n\t    function missingMethod(method) {\n\t        return function throwOnMissingMethod() {\n\t            throw new TypeError(\"Advice being applied to missing method named: \" + method);\n\t        };\n\t    }\n\t    /**\n\t     * Internal function which can label a factory with a name and also sets\n\t     * the `toString()` method on the prototype to return the approriate\n\t     * name for instances.\n\t     *\n\t     * @param fn The name of the factory to label\n\t     * @param value The name to supply for the label\n\t     */\n\t    function assignFactoryName(factory, value) {\n\t        if (typeof factory === 'function' && factory.prototype) {\n\t            assignFunctionName(factory, value);\n\t            defineProperty(factory.prototype, Symbol_1.default.toStringTag, {\n\t                get: function () {\n\t                    return value;\n\t                },\n\t                configurable: true\n\t            });\n\t        }\n\t    }\n\t    /**\n\t     * Internal function which can label a function with a name\n\t     */\n\t    function assignFunctionName(fn, value) {\n\t        var nameDescriptor = Object.getOwnPropertyDescriptor(fn, 'name');\n\t        if (typeof nameDescriptor === 'undefined' || nameDescriptor.configurable) {\n\t            defineProperty(fn, 'name', {\n\t                value: value,\n\t                writable: true,\n\t                configurable: true\n\t            });\n\t        }\n\t    }\n\t    /**\n\t     * A helper function that copies own properties and their descriptors\n\t     * from one or more sources to a target object. Includes non-enumerable properties\n\t     *\n\t     * @param overwrite If `true` properties, like arrays, will not be merged, instead overwritten\n\t     * @param target The target that properties should be copied onto\n\t     * @param sources The rest of the parameters treated as sources to apply\n\t     */\n\t    function assignProperties(overwrite, target) {\n\t        var sources = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            sources[_i - 2] = arguments[_i];\n\t        }\n\t        sources.forEach(function (source) {\n\t            if (!source) {\n\t                return;\n\t            }\n\t            Object.defineProperties(target, Object.getOwnPropertyNames(source).reduce(function (descriptors, key) {\n\t                if (key !== 'constructor') {\n\t                    var sourceDescriptor = Object.getOwnPropertyDescriptor(source, key);\n\t                    var sourceValue = sourceDescriptor && sourceDescriptor.value;\n\t                    var targetDescriptor = Object.getOwnPropertyDescriptor(target, key);\n\t                    var targetValue = targetDescriptor && targetDescriptor.value;\n\t                    /* Special handling to merge array proprties */\n\t                    if (!overwrite && isArray(sourceValue) && isArray(targetValue)) {\n\t                        sourceDescriptor.value = sourceValue.reduce(function (value, current) {\n\t                            if (!array_1.includes(target[key], current)) {\n\t                                value.push(current);\n\t                            }\n\t                            return value;\n\t                        }, array_1.from(targetValue));\n\t                    }\n\t                    descriptors[key] = sourceDescriptor;\n\t                }\n\t                return descriptors;\n\t            }, objectCreate(null)));\n\t        });\n\t        return target;\n\t    }\n\t    /**\n\t     * A helper funtion to return a function that is rebased to infer that the\n\t     * first argument of the passed function will be the `this` when the function\n\t     * is executed.\n\t     *\n\t     * @param  fn The function to be rebased\n\t     * @return    The rebased function\n\t     */\n\t    function rebase(fn) {\n\t        return function () {\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            return fn.apply(this, [this].concat(args));\n\t        };\n\t    }\n\t    /**\n\t     * For a given factory, return the names of the initialization functions that will be\n\t     * invoked upon construction.\n\t     *\n\t     * @param factory The factory that the array of function names should be returned for\n\t     */\n\t    function getInitFunctionNames(factory) {\n\t        var initFns = privateFactoryData.get(factory).initFns;\n\t        if (initFns) {\n\t            return initFns.map(function (fn) { return fn.name; });\n\t        }\n\t    }\n\t    exports.getInitFunctionNames = getInitFunctionNames;\n\t    /* The rebased functions we need to decorate compose constructors with */\n\t    /**\n\t     * Perform an extension of a class\n\t     *\n\t     * @deprecated\n\t     */\n\t    var doExtend = rebase(extend);\n\t    /**\n\t     * Perform a mixin of a class\n\t     */\n\t    var doMixin = rebase(mixin);\n\t    /**\n\t     * Perform a override of a class\n\t     */\n\t    var doOverride = rebase(override);\n\t    /**\n\t     * Perform an overlay of a class\n\t     */\n\t    var doOverlay = rebase(overlay);\n\t    /**\n\t     * Apply aspect advice to a class\n\t     */\n\t    var doAspect = rebase(aspect);\n\t    /**\n\t     * Add static method/properties to a class\n\t     */\n\t    var doStatic = rebase(_static);\n\t    /**\n\t     * Take a mixin and return a factory descriptor for the mixin\n\t     *\n\t     * @param mixin The factory to return the descriptor for\n\t     * @template T The outer type of the descriptor\n\t     * @template O The outer factory options of the descriptor\n\t     * @template U The inner type of the descriptor\n\t     * @template P The inner factory options of the descriptor\n\t     */\n\t    function factoryDescriptor(mixin) {\n\t        return {\n\t            mixin: mixin,\n\t            className: mixin.name\n\t        };\n\t    }\n\t    ;\n\t    /**\n\t     * Generate a factory descriptor for a class\n\t     */\n\t    var doFactoryDescriptor = rebase(factoryDescriptor);\n\t    /**\n\t     * A set of functions that are used to decorate the compose factories\n\t     */\n\t    var staticMethods = {\n\t        extend: doExtend,\n\t        mixin: doMixin,\n\t        override: doOverride,\n\t        overlay: doOverlay,\n\t        from: doFrom,\n\t        before: doBefore,\n\t        after: doAfter,\n\t        around: doAround,\n\t        aspect: doAspect,\n\t        factoryDescriptor: doFactoryDescriptor,\n\t        static: doStatic\n\t    };\n\t    /**\n\t     * Internal function that merges (or creates) an advice map\n\t     *\n\t     * @param sources The advice maps to be merged into a single one\n\t     */\n\t    function assignAdviceMap() {\n\t        var sources = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            sources[_i - 0] = arguments[_i];\n\t        }\n\t        var result = {};\n\t        sources.forEach(function (source) {\n\t            if (source) {\n\t                for (var method in source) {\n\t                    result[method] = result[method] ? result[method].concat(source[method]) : source[method].slice();\n\t                }\n\t            }\n\t        });\n\t        return result;\n\t    }\n\t    /**\n\t     * An internal function that takes a set of create widget options and returns a set of private factory data\n\t     *\n\t     * @param options The set of factory options to use in creating the private factory data\n\t     */\n\t    function createPrivateFactoryData(_a) {\n\t        var optionsAdvice = _a.advice, factories = _a.factories, initFunction = _a.initFunction, overwrite = _a.overwrite, proto = _a.proto, staticProperties = _a.staticProperties;\n\t        var factoryData = (factories || []).reduce(function (factoryData, factory) {\n\t            var _a = privateFactoryData.get(factory), advice = _a.advice, base = _a.base, initFns = _a.initFns;\n\t            if (advice) {\n\t                factoryData.advice = assignAdviceMap(factoryData.advice, advice);\n\t            }\n\t            if (base) {\n\t                assignProperties(false, factoryData.base, base);\n\t            }\n\t            var optionsInitFns = factoryData.initFns;\n\t            initFns.forEach(function (initFn) {\n\t                if (!array_1.includes(optionsInitFns, initFn)) {\n\t                    optionsInitFns.push(initFn);\n\t                }\n\t            });\n\t            return factoryData;\n\t        }, {\n\t            base: {},\n\t            initFns: [],\n\t            staticProperties: staticProperties ? lang_1.assign({}, staticProperties) : undefined\n\t        });\n\t        if (initFunction) {\n\t            factoryData.initFns.push(initFunction);\n\t        }\n\t        if (optionsAdvice) {\n\t            factoryData.advice = assignAdviceMap(factoryData.advice, optionsAdvice);\n\t        }\n\t        assignProperties(Boolean(overwrite), factoryData.base, proto);\n\t        return factoryData;\n\t    }\n\t    function createFactory(options) {\n\t        /**\n\t         * A compose factory\n\t         */\n\t        function factory() {\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            if (this && this.constructor === factory) {\n\t                throw new SyntaxError('Factories cannot be called with \"new\".');\n\t            }\n\t            var instance = objectCreate(factory.prototype);\n\t            /* clone any arrays in the instance */\n\t            for (var key in instance) {\n\t                if (isArray(Object.getOwnPropertyDescriptor(factory.prototype, key).value)) {\n\t                    instance[key] = array_1.from(instance[key]);\n\t                }\n\t            }\n\t            args.unshift(instance);\n\t            privateFactoryData.get(factory).initFns.forEach(function (fn) {\n\t                fn.apply(null, args);\n\t            });\n\t            return instance;\n\t        }\n\t        var factoryData = createPrivateFactoryData(options);\n\t        privateFactoryData.set(factory, factoryData);\n\t        var factoryPrototype = factory.prototype;\n\t        /* mixin base properties into the prototype */\n\t        assignProperties(false, factoryPrototype, factoryData.base);\n\t        /* apply any advice to the prototype */\n\t        if (factoryData.advice) {\n\t            var _loop_1 = function(method) {\n\t                factoryData.advice[method].forEach(function (_a) {\n\t                    var aspect = _a[0], advice = _a[1];\n\t                    var sourceMethod = factoryPrototype[method] || missingMethod(method);\n\t                    switch (aspect) {\n\t                        case 'before':\n\t                            factoryPrototype[method] = aspect_1.before(sourceMethod, advice);\n\t                            break;\n\t                        case 'after':\n\t                            factoryPrototype[method] = aspect_1.after(sourceMethod, advice);\n\t                            break;\n\t                        case 'around':\n\t                            factoryPrototype[method] = aspect_1.around(sourceMethod, advice);\n\t                    }\n\t                });\n\t            };\n\t            for (var method in factoryData.advice) {\n\t                _loop_1(method);\n\t            }\n\t        }\n\t        /* assign a constructor to the prototype */\n\t        factoryPrototype.constructor = factory;\n\t        /* assign static methods/properties */\n\t        lang_1.assign(factory, staticMethods, factoryData.staticProperties);\n\t        /* assign factory name */\n\t        var className = options.className ||\n\t            (options.factories && options.factories[0] && options.factories[0].name) ||\n\t            DEFAULT_FACTORY_LABEL;\n\t        assignFactoryName(factory, className);\n\t        /* freeze the factory, so it cannot be accidently modified */\n\t        Object.freeze(factory);\n\t        return factory;\n\t    }\n\t    /**\n\t     * A custom type guard that determines if the value is a ComposeFactory\n\t     *\n\t     * @param   value The target to check\n\t     * @returns       Return true if it is a ComposeFactory, otherwise false\n\t     */\n\t    function isComposeFactory(value) {\n\t        return Boolean(value && privateFactoryData.get(value));\n\t    }\n\t    exports.isComposeFactory = isComposeFactory;\n\t    function extend(base, className, extension) {\n\t        instrument_1.deprecated({ message: 'This function will be removed, use \"override\" instead.', name: 'extend' });\n\t        if (typeof className !== 'string') {\n\t            extension = className;\n\t            className = undefined;\n\t        }\n\t        return createFactory({\n\t            className: className,\n\t            proto: typeof extension === 'function' ? extension.prototype : extension,\n\t            factories: [base]\n\t        });\n\t    }\n\t    function override(baseFactory, className, properties) {\n\t        if (typeof className !== 'string') {\n\t            properties = className;\n\t            className = undefined;\n\t        }\n\t        if (typeof properties !== 'object') {\n\t            throw new TypeError('Argument \"properties\" must be an object.');\n\t        }\n\t        var base = privateFactoryData.get(baseFactory).base;\n\t        /* TODO: In TypeScript 2.1 we have merge types which can then be used to provide type checking at design time\n\t         * similiar to this */\n\t        Object.keys(properties).forEach(function (key) {\n\t            if (!(key in base)) {\n\t                throw new TypeError(\"Attempting to override missing property \\\"\" + key + \"\\\"\");\n\t            }\n\t        });\n\t        return createFactory({\n\t            className: className,\n\t            overwrite: true,\n\t            proto: properties,\n\t            factories: [baseFactory]\n\t        });\n\t    }\n\t    /**\n\t     * Internal implementation of the overlay functionality, to allow a function to modify a\n\t     * compose factory prototype\n\t     *\n\t     * @param base The target compose factory\n\t     * @param overlayFunction The callback function that will modify the prototype of the factory\n\t     */\n\t    function overlay(base, overlayFunction) {\n\t        var factory = createFactory({\n\t            factories: [base]\n\t        });\n\t        overlayFunction(factory.prototype);\n\t        return factory;\n\t    }\n\t    /**\n\t     * Internal function that converts `AspectAdvice` into `AdviceMap` which can then be used for\n\t     * creating a factory\n\t     *\n\t     * @param aspectAdvice The aspect advice to convert into an advice map\n\t     */\n\t    function aspectAdviceToAdviceMap(aspectAdvice) {\n\t        if (!aspectAdvice) {\n\t            return;\n\t        }\n\t        var adviceMap = {};\n\t        var beforeAdvice = aspectAdvice.before;\n\t        var afterAdvice = aspectAdvice.after;\n\t        var aroundAdvice = aspectAdvice.around;\n\t        function mapAdvice(type, key, advice) {\n\t            var adviceTuple = [type, advice[key]];\n\t            if (adviceMap[key]) {\n\t                adviceMap[key].push(adviceTuple);\n\t            }\n\t            else {\n\t                adviceMap[key] = [adviceTuple];\n\t            }\n\t        }\n\t        if (beforeAdvice) {\n\t            objectKeys(beforeAdvice).forEach(function (key) {\n\t                /* TODO: Remove ! in 2.1 */\n\t                mapAdvice('before', key, beforeAdvice);\n\t            });\n\t        }\n\t        if (afterAdvice) {\n\t            objectKeys(afterAdvice).forEach(function (key) {\n\t                /* TODO: Remove ! in 2.1 */\n\t                mapAdvice('after', key, afterAdvice);\n\t            });\n\t        }\n\t        if (aroundAdvice) {\n\t            objectKeys(aroundAdvice).forEach(function (key) {\n\t                /* TODO: Remove ! in 2.1 */\n\t                mapAdvice('around', key, aroundAdvice);\n\t            });\n\t        }\n\t        return adviceMap;\n\t    }\n\t    /**\n\t     * A custom type guard that determines if a value is ComposeMixinable\n\t     *\n\t     * @param value The value to guard for\n\t     */\n\t    function isComposeMixinable(value) {\n\t        return Boolean(value && 'factoryDescriptor' in value && typeof value.factoryDescriptor === 'function');\n\t    }\n\t    /**\n\t     * The internal implementation of mixin in values into a compose factory\n\t     *\n\t     * @param base The base compose factory that is the target for being mixed in\n\t     * @param toMixin The value to be mixed in\n\t     */\n\t    function mixin(base, toMixin) {\n\t        /* ensure we are dealing with a mixinDescriptor */\n\t        var mixinDescriptor = isComposeMixinable(toMixin) ? toMixin.factoryDescriptor() : toMixin;\n\t        /* destructure out most of the factory creation options */\n\t        var mixin = mixinDescriptor.mixin, initFunction = mixinDescriptor.initialize, aspectAdvice = mixinDescriptor.aspectAdvice, className = mixinDescriptor.className;\n\t        /* we will at least be using the base factory to create the new one */\n\t        var factories = [base];\n\t        var proto;\n\t        /* if mixin is a compose factory, we will pass it as a factory used to create the new factory */\n\t        if (isComposeFactory(mixin)) {\n\t            factories.push(mixin);\n\t        }\n\t        else {\n\t            /* of which, we can have a constructor function/class, or an object literal (or undefined) */\n\t            proto = typeof mixin === 'function' ? mixin.prototype : mixin;\n\t        }\n\t        /* convert the advice, if any, to the format used by createFactory */\n\t        var advice = aspectAdviceToAdviceMap(aspectAdvice);\n\t        /* label the initFn */\n\t        if (initFunction) {\n\t            assignFunctionName(initFunction, \"mixin\" + (className || (isComposeFactory(mixin) && mixin.name) || base.name));\n\t        }\n\t        /* return the newly created factory */\n\t        return createFactory({\n\t            advice: advice,\n\t            factories: factories,\n\t            initFunction: initFunction,\n\t            className: className,\n\t            proto: proto\n\t        });\n\t    }\n\t    /**\n\t     * Internal implementation of extracting methods from another object\n\t     *\n\t     * @param base The target that the method should be extracted from\n\t     * @param method The name of the method\n\t     */\n\t    function from(base, method) {\n\t        return base.prototype[method];\n\t    }\n\t    /**\n\t     * Internal implementation to apply from when `this` represents the base\n\t     *\n\t     * @param base The target that the method should be extracted from\n\t     * @param method The name of the method\n\t     */\n\t    function doFrom(base, method) {\n\t        return createFactory({\n\t            factories: [this],\n\t            proto: (_a = {},\n\t                _a[method] = base.prototype[method],\n\t                _a\n\t            )\n\t        });\n\t        var _a;\n\t    }\n\t    function before() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i - 0] = arguments[_i];\n\t        }\n\t        var base;\n\t        var method;\n\t        var advice;\n\t        if (args.length >= 3) {\n\t            base = args[0], method = args[1], advice = args[2];\n\t            method = base.prototype[method];\n\t        }\n\t        else {\n\t            method = args[0], advice = args[1];\n\t        }\n\t        return aspect_1.before(method, advice);\n\t    }\n\t    /**\n\t     * The internal implementation to apply before advice when `this` is scoped as the base factory\n\t     *\n\t     * @param method The name of the method that the advice should be applied to\n\t     * @param advice The advice to apply\n\t     */\n\t    function doBefore(method, advice) {\n\t        return createFactory({\n\t            factories: [this],\n\t            advice: (_a = {},\n\t                _a[method] = [['before', advice]],\n\t                _a\n\t            )\n\t        });\n\t        var _a;\n\t    }\n\t    function after() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i - 0] = arguments[_i];\n\t        }\n\t        var base;\n\t        var method;\n\t        var advice;\n\t        if (args.length >= 3) {\n\t            base = args[0], method = args[1], advice = args[2];\n\t            method = base.prototype[method];\n\t        }\n\t        else {\n\t            method = args[0], advice = args[1];\n\t        }\n\t        return aspect_1.after(method, advice);\n\t    }\n\t    /**\n\t     * The internal implementation to apply after advice when `this` is scoped as the base factory\n\t     *\n\t     * @param method The name of the method that the advice should be applied to\n\t     * @param advice The advice to apply\n\t     */\n\t    function doAfter(method, advice) {\n\t        return createFactory({\n\t            factories: [this],\n\t            advice: (_a = {},\n\t                _a[method] = [['after', advice]],\n\t                _a\n\t            )\n\t        });\n\t        var _a;\n\t    }\n\t    function around() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i - 0] = arguments[_i];\n\t        }\n\t        var base;\n\t        var method;\n\t        var advice;\n\t        if (args.length >= 3) {\n\t            base = args[0], method = args[1], advice = args[2];\n\t            method = base.prototype[method];\n\t        }\n\t        else {\n\t            method = args[0], advice = args[1];\n\t        }\n\t        return aspect_1.around(method, advice);\n\t    }\n\t    /**\n\t     * The internal implementation to apply around advice when `this` is scoped as the base factory\n\t     *\n\t     * @param method The name of the method that the advice should be applied to\n\t     * @param advice The advice to apply\n\t     */\n\t    function doAround(method, advice) {\n\t        return createFactory({\n\t            factories: [this],\n\t            advice: (_a = {},\n\t                _a[method] = [['around', advice]],\n\t                _a\n\t            )\n\t        });\n\t        var _a;\n\t    }\n\t    /**\n\t     * The internal implementation of applying aspect advice to a factory\n\t     *\n\t     * @param base The base factory the advice should be applied to\n\t     * @param advice The advice map to apply to the factory\n\t     */\n\t    function aspect(base, advice) {\n\t        return createFactory({\n\t            factories: [base],\n\t            advice: aspectAdviceToAdviceMap(advice)\n\t        });\n\t    }\n\t    function create(className, base, initFunction) {\n\t        /* disambugate arguments */\n\t        if (typeof className !== 'string') {\n\t            initFunction = base;\n\t            base = className;\n\t            className = undefined;\n\t        }\n\t        /* Label the initFunction */\n\t        if (initFunction && className) {\n\t            assignFunctionName(initFunction, \"init\" + className);\n\t        }\n\t        var factories;\n\t        var proto;\n\t        /* If base is a compose factory, set it as the factory array */\n\t        if (base && isComposeFactory(base)) {\n\t            factories = [base];\n\t        }\n\t        else {\n\t            proto = typeof base === 'function' ? base.prototype : base;\n\t        }\n\t        return createFactory({\n\t            className: className,\n\t            factories: factories,\n\t            initFunction: initFunction,\n\t            proto: proto\n\t        });\n\t    }\n\t    /**\n\t     * Internal implementation of applying static properties to a compose factory\n\t     *\n\t     * @param factory The factory that the static properties should be applied to\n\t     * @param staticProperties The properties to be applied to the factory\n\t     */\n\t    function _static(base, staticProperties) {\n\t        return createFactory({\n\t            factories: [base],\n\t            staticProperties: staticProperties\n\t        });\n\t    }\n\t    /**\n\t     * A factory construction utility\n\t     *\n\t     * @param base An ES6 Class, ComposeFactory or Object literal to use as the base for the new factory\n\t     * @param initFunction An optional initialization function for the factory\n\t     */\n\t    var compose = create;\n\t    /* Add static methods to compose */\n\t    lang_1.assign(compose, {\n\t        create: create,\n\t        static: _static,\n\t        extend: extend,\n\t        mixin: mixin,\n\t        override: override,\n\t        overlay: overlay,\n\t        from: from,\n\t        before: before,\n\t        after: after,\n\t        around: around,\n\t        aspect: aspect\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = compose;\n\t});\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(18)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    /**\n\t     * Types of advice\n\t     */\n\t    (function (AdviceType) {\n\t        AdviceType[AdviceType[\"Before\"] = 0] = \"Before\";\n\t        AdviceType[AdviceType[\"After\"] = 1] = \"After\";\n\t        AdviceType[AdviceType[\"Around\"] = 2] = \"Around\";\n\t    })(exports.AdviceType || (exports.AdviceType = {}));\n\t    var AdviceType = exports.AdviceType;\n\t    ;\n\t    /**\n\t     * A weak map of dispatchers used to apply the advice\n\t     */\n\t    var dispatchAdviceMap = new WeakMap_1.default();\n\t    /**\n\t     * Returns the dispatcher function for a given joinPoint (method/function)\n\t     *\n\t     * @param joinPoint The function that is to be advised\n\t     */\n\t    function getDispatcher(joinPoint) {\n\t        function dispatcher() {\n\t            var _this = this;\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            var _a = dispatchAdviceMap.get(dispatcher), before = _a.before, after = _a.after, joinPoint = _a.joinPoint;\n\t            if (before) {\n\t                args = before.reduce(function (previousArgs, advice) {\n\t                    var currentArgs = advice.apply(_this, previousArgs);\n\t                    return currentArgs || previousArgs;\n\t                }, args);\n\t            }\n\t            var result = joinPoint.apply(this, args);\n\t            if (after) {\n\t                result = after.reduce(function (previousResult, advice) {\n\t                    return advice.apply(_this, [previousResult].concat(args));\n\t                }, result);\n\t            }\n\t            return result;\n\t        }\n\t        /* We want to \"clone\" the advice that has been applied already, if this\n\t         * joinPoint is already advised */\n\t        if (dispatchAdviceMap.has(joinPoint)) {\n\t            var adviceMap = dispatchAdviceMap.get(joinPoint);\n\t            var before_1 = adviceMap.before, after_1 = adviceMap.after;\n\t            if (before_1) {\n\t                before_1 = before_1.slice(0);\n\t            }\n\t            if (after_1) {\n\t                after_1 = after_1.slice(0);\n\t            }\n\t            dispatchAdviceMap.set(dispatcher, {\n\t                joinPoint: adviceMap.joinPoint,\n\t                before: before_1,\n\t                after: after_1\n\t            });\n\t        }\n\t        else {\n\t            dispatchAdviceMap.set(dispatcher, { joinPoint: joinPoint });\n\t        }\n\t        return dispatcher;\n\t    }\n\t    /**\n\t     * Advise a join point (function) with supplied advice\n\t     *\n\t     * @param joinPoint The function to be advised\n\t     * @param type The type of advice to be applied\n\t     * @param advice The advice to apply\n\t     */\n\t    function advise(joinPoint, type, advice) {\n\t        var dispatcher;\n\t        if (type === AdviceType.Around) {\n\t            dispatcher = getDispatcher(advice.apply(this, [joinPoint]));\n\t        }\n\t        else {\n\t            dispatcher = getDispatcher(joinPoint);\n\t            var adviceMap = dispatchAdviceMap.get(dispatcher);\n\t            if (type === AdviceType.Before) {\n\t                (adviceMap.before || (adviceMap.before = [])).unshift(advice);\n\t            }\n\t            else {\n\t                (adviceMap.after || (adviceMap.after = [])).push(advice);\n\t            }\n\t        }\n\t        return dispatcher;\n\t    }\n\t    /**\n\t     * Apply advice *before* the supplied joinPoint (function)\n\t     *\n\t     * @param joinPoint A function that should have advice applied to\n\t     * @param advice The before advice\n\t     */\n\t    function before(joinPoint, advice) {\n\t        return advise(joinPoint, AdviceType.Before, advice);\n\t    }\n\t    exports.before = before;\n\t    /**\n\t     * Apply advice *after* the supplied joinPoint (function)\n\t     *\n\t     * @param joinPoint A function that should have advice applied to\n\t     * @param advice The after advice\n\t     */\n\t    function after(joinPoint, advice) {\n\t        return advise(joinPoint, AdviceType.After, advice);\n\t    }\n\t    exports.after = after;\n\t    /**\n\t     * Apply advice *around* the supplied joinPoint (function)\n\t     *\n\t     * @param joinPoint A function that should have advice applied to\n\t     * @param advice The around advice\n\t     */\n\t    function around(joinPoint, advice) {\n\t        return advise(joinPoint, AdviceType.Around, advice);\n\t    }\n\t    exports.around = around;\n\t});\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(27), __webpack_require__(21), __webpack_require__(25), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var decorators_1 = __webpack_require__(27);\n\t    var global_1 = __webpack_require__(21);\n\t    var iterator_1 = __webpack_require__(25);\n\t    __webpack_require__(19);\n\t    var Shim;\n\t    (function (Shim) {\n\t        var DELETED = {};\n\t        function getUID() {\n\t            return Math.floor(Math.random() * 100000000);\n\t        }\n\t        var generateName = (function () {\n\t            var startId = Math.floor(Date.now() % 100000000);\n\t            return function generateName() {\n\t                return '__wm' + getUID() + (startId++ + '__');\n\t            };\n\t        })();\n\t        var WeakMap = (function () {\n\t            function WeakMap(iterable) {\n\t                var _this = this;\n\t                this[Symbol.toStringTag] = 'WeakMap';\n\t                Object.defineProperty(this, '_name', {\n\t                    value: generateName()\n\t                });\n\t                this._frozenEntries = [];\n\t                if (iterable) {\n\t                    iterator_1.forOf(iterable, function (_a) {\n\t                        var key = _a[0], value = _a[1];\n\t                        return _this.set(key, value);\n\t                    });\n\t                }\n\t            }\n\t            WeakMap.prototype._getFrozenEntryIndex = function (key) {\n\t                for (var i = 0; i < this._frozenEntries.length; i++) {\n\t                    if (this._frozenEntries[i].key === key) {\n\t                        return i;\n\t                    }\n\t                }\n\t                return -1;\n\t            };\n\t            WeakMap.prototype.delete = function (key) {\n\t                if (key === undefined || key === null) {\n\t                    return false;\n\t                }\n\t                var entry = key[this._name];\n\t                if (entry && entry.key === key && entry.value !== DELETED) {\n\t                    entry.value = DELETED;\n\t                    return true;\n\t                }\n\t                var frozenIndex = this._getFrozenEntryIndex(key);\n\t                if (frozenIndex >= 0) {\n\t                    this._frozenEntries.splice(frozenIndex, 1);\n\t                    return true;\n\t                }\n\t                return false;\n\t            };\n\t            WeakMap.prototype.get = function (key) {\n\t                if (key === undefined || key === null) {\n\t                    return undefined;\n\t                }\n\t                var entry = key[this._name];\n\t                if (entry && entry.key === key && entry.value !== DELETED) {\n\t                    return entry.value;\n\t                }\n\t                var frozenIndex = this._getFrozenEntryIndex(key);\n\t                if (frozenIndex >= 0) {\n\t                    return this._frozenEntries[frozenIndex].value;\n\t                }\n\t            };\n\t            WeakMap.prototype.has = function (key) {\n\t                if (key === undefined || key === null) {\n\t                    return false;\n\t                }\n\t                var entry = key[this._name];\n\t                if (Boolean(entry && entry.key === key && entry.value !== DELETED)) {\n\t                    return true;\n\t                }\n\t                var frozenIndex = this._getFrozenEntryIndex(key);\n\t                if (frozenIndex >= 0) {\n\t                    return true;\n\t                }\n\t                return false;\n\t            };\n\t            WeakMap.prototype.set = function (key, value) {\n\t                if (!key || (typeof key !== 'object' && typeof key !== 'function')) {\n\t                    throw new TypeError('Invalid value used as weak map key');\n\t                }\n\t                var entry = key[this._name];\n\t                if (!entry || entry.key !== key) {\n\t                    entry = Object.create(null, {\n\t                        key: { value: key }\n\t                    });\n\t                    if (Object.isFrozen(key)) {\n\t                        this._frozenEntries.push(entry);\n\t                    }\n\t                    else {\n\t                        Object.defineProperty(key, this._name, {\n\t                            value: entry\n\t                        });\n\t                    }\n\t                }\n\t                entry.value = value;\n\t                return this;\n\t            };\n\t            return WeakMap;\n\t        }());\n\t        Shim.WeakMap = WeakMap;\n\t    })(Shim || (Shim = {}));\n\t    var WeakMap = (function () {\n\t        /* istanbul ignore next */\n\t        function WeakMap(iterable) {\n\t            /* istanbul ignore next */\n\t            this[Symbol.toStringTag] = 'WeakMap';\n\t        }\n\t        /* istanbul ignore next */\n\t        WeakMap.prototype.delete = function (key) { throw new Error(); };\n\t        /* istanbul ignore next */\n\t        WeakMap.prototype.get = function (key) { throw new Error(); };\n\t        /* istanbul ignore next */\n\t        WeakMap.prototype.has = function (key) { throw new Error(); };\n\t        /* istanbul ignore next */\n\t        WeakMap.prototype.set = function (key, value) { throw new Error(); };\n\t        WeakMap = __decorate([\n\t            decorators_1.hasClass('es6-weakmap', global_1.default.WeakMap, Shim.WeakMap)\n\t        ], WeakMap);\n\t        return WeakMap;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = WeakMap;\n\t});\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(22), __webpack_require__(21), __webpack_require__(20)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(22);\n\t    var global_1 = __webpack_require__(21);\n\t    var util_1 = __webpack_require__(20);\n\t    var Shim;\n\t    (function (Shim) {\n\t        /* tslint:disable-next-line:variable-name */\n\t        var Symbol;\n\t        /* tslint:disable-next-line:variable-name */\n\t        var InternalSymbol;\n\t        var defineProperties = Object.defineProperties;\n\t        var defineProperty = Object.defineProperty;\n\t        var create = Object.create;\n\t        var objPrototype = Object.prototype;\n\t        var globalSymbols = {};\n\t        var getSymbolName = (function () {\n\t            var created = create(null);\n\t            return function (desc) {\n\t                var postfix = 0;\n\t                var name;\n\t                while (created[String(desc) + (postfix || '')]) {\n\t                    ++postfix;\n\t                }\n\t                desc += String(postfix || '');\n\t                created[desc] = true;\n\t                name = '@@' + desc;\n\t                // FIXME: Temporary guard until the duplicate execution when testing can be\n\t                // pinned down.\n\t                if (!Object.getOwnPropertyDescriptor(objPrototype, name)) {\n\t                    defineProperty(objPrototype, name, {\n\t                        set: function (value) {\n\t                            defineProperty(this, name, util_1.getValueDescriptor(value));\n\t                        }\n\t                    });\n\t                }\n\t                return name;\n\t            };\n\t        }());\n\t        InternalSymbol = function Symbol(description) {\n\t            if (this instanceof InternalSymbol) {\n\t                throw new TypeError('TypeError: Symbol is not a constructor');\n\t            }\n\t            return Symbol(description);\n\t        };\n\t        Symbol = function Symbol(description) {\n\t            if (this instanceof Symbol) {\n\t                throw new TypeError('TypeError: Symbol is not a constructor');\n\t            }\n\t            var sym = Object.create(InternalSymbol.prototype);\n\t            description = (description === undefined ? '' : String(description));\n\t            return defineProperties(sym, {\n\t                __description__: util_1.getValueDescriptor(description),\n\t                __name__: util_1.getValueDescriptor(getSymbolName(description))\n\t            });\n\t        };\n\t        /**\n\t         * A custom guard function that determines if an object is a symbol or not\n\t         * @param  {any}       value The value to check to see if it is a symbol or not\n\t         * @return {is symbol}       Returns true if a symbol or not (and narrows the type guard)\n\t         */\n\t        function isSymbol(value) {\n\t            return (value && ((typeof value === 'symbol') || (value['@@toStringTag'] === 'Symbol'))) || false;\n\t        }\n\t        Shim.isSymbol = isSymbol;\n\t        /**\n\t         * Throws if the value is not a symbol, used internally within the Shim\n\t         * @param  {any}    value The value to check\n\t         * @return {symbol}       Returns the symbol or throws\n\t         */\n\t        function validateSymbol(value) {\n\t            if (!isSymbol(value)) {\n\t                throw new TypeError(value + ' is not a symbol');\n\t            }\n\t            return value;\n\t        }\n\t        /* Decorate the Symbol function with the appropriate properties */\n\t        defineProperty(Symbol, 'for', util_1.getValueDescriptor(function (key) {\n\t            if (globalSymbols[key]) {\n\t                return globalSymbols[key];\n\t            }\n\t            return (globalSymbols[key] = Symbol(String(key)));\n\t        }));\n\t        defineProperties(Symbol, {\n\t            keyFor: util_1.getValueDescriptor(function (sym) {\n\t                var key;\n\t                validateSymbol(sym);\n\t                for (key in globalSymbols) {\n\t                    if (globalSymbols[key] === sym) {\n\t                        return key;\n\t                    }\n\t                }\n\t            }),\n\t            hasInstance: util_1.getValueDescriptor(Symbol.for('hasInstance'), false, false),\n\t            isConcatSpreadable: util_1.getValueDescriptor(Symbol.for('isConcatSpreadable'), false, false),\n\t            iterator: util_1.getValueDescriptor(Symbol.for('iterator'), false, false),\n\t            match: util_1.getValueDescriptor(Symbol.for('match'), false, false),\n\t            replace: util_1.getValueDescriptor(Symbol.for('replace'), false, false),\n\t            search: util_1.getValueDescriptor(Symbol.for('search'), false, false),\n\t            species: util_1.getValueDescriptor(Symbol.for('species'), false, false),\n\t            split: util_1.getValueDescriptor(Symbol.for('split'), false, false),\n\t            toPrimitive: util_1.getValueDescriptor(Symbol.for('toPrimitive'), false, false),\n\t            toStringTag: util_1.getValueDescriptor(Symbol.for('toStringTag'), false, false),\n\t            unscopables: util_1.getValueDescriptor(Symbol.for('unscopables'), false, false)\n\t        });\n\t        /* Decorate the InternalSymbol object */\n\t        defineProperties(InternalSymbol.prototype, {\n\t            constructor: util_1.getValueDescriptor(Symbol),\n\t            toString: util_1.getValueDescriptor(function () { return this.__name__; }, false, false)\n\t        });\n\t        /* Decorate the Symbol.prototype */\n\t        defineProperties(Symbol.prototype, {\n\t            toString: util_1.getValueDescriptor(function () { return 'Symbol (' + validateSymbol(this).__description__ + ')'; }),\n\t            valueOf: util_1.getValueDescriptor(function () { return validateSymbol(this); })\n\t        });\n\t        defineProperty(Symbol.prototype, Symbol.toPrimitive, util_1.getValueDescriptor(function () { return validateSymbol(this); }));\n\t        defineProperty(Symbol.prototype, Symbol.toStringTag, util_1.getValueDescriptor('Symbol', false, false, true));\n\t        defineProperty(InternalSymbol.prototype, Symbol.toPrimitive, util_1.getValueDescriptor(Symbol.prototype[Symbol.toPrimitive], false, false, true));\n\t        defineProperty(InternalSymbol.prototype, Symbol.toStringTag, util_1.getValueDescriptor(Symbol.prototype[Symbol.toStringTag], false, false, true));\n\t        /* tslint:disable-next-line:variable-name */\n\t        Shim.Exposed = Symbol;\n\t    })(Shim = exports.Shim || (exports.Shim = {}));\n\t    /* tslint:disable-next-line:variable-name */\n\t    var SymbolShim = has_1.default('es6-symbol') ? global_1.default.Symbol : global_1.default.Symbol = Shim.Exposed;\n\t    /**\n\t     * Fill any missing well known symbols if the native Symbol is missing them\n\t     */\n\t    ['hasInstance', 'isConcatSpreadable', 'iterator', 'species', 'replace', 'search', 'split', 'match', 'toPrimitive',\n\t        'toStringTag', 'unscopables'].forEach(function (wellKnown) {\n\t        if (!Symbol[wellKnown]) {\n\t            Object.defineProperty(Symbol, wellKnown, util_1.getValueDescriptor(Symbol.for(wellKnown), false, false));\n\t        }\n\t    });\n\t    exports.isSymbol = Shim.isSymbol;\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = SymbolShim;\n\t});\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    /**\n\t     * Helper function to generate a value property descriptor\n\t     *\n\t     * @param value        The value the property descriptor should be set to\n\t     * @param enumerable   If the property should be enumberable, defaults to false\n\t     * @param writable     If the property should be writable, defaults to true\n\t     * @param configurable If the property should be configurable, defaults to true\n\t     * @return             The property descriptor object\n\t     */\n\t    function getValueDescriptor(value, enumerable, writable, configurable) {\n\t        if (enumerable === void 0) { enumerable = false; }\n\t        if (writable === void 0) { writable = true; }\n\t        if (configurable === void 0) { configurable = true; }\n\t        return {\n\t            value: value,\n\t            enumerable: enumerable,\n\t            writable: writable,\n\t            configurable: configurable\n\t        };\n\t    }\n\t    exports.getValueDescriptor = getValueDescriptor;\n\t    /**\n\t     * A helper function which wraps a function where the first argument becomes the scope\n\t     * of the call\n\t     *\n\t     * @param nativeFunction The source function to be wrapped\n\t     */\n\t    function wrapNative(nativeFunction) {\n\t        return function (target) {\n\t            var args = [];\n\t            for (var _i = 1; _i < arguments.length; _i++) {\n\t                args[_i - 1] = arguments[_i];\n\t            }\n\t            return nativeFunction.apply(target, args);\n\t        };\n\t    }\n\t    exports.wrapNative = wrapNative;\n\t});\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var globalObject = Function('return this')();\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = globalObject;\n\t});\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(21), __webpack_require__(23), __webpack_require__(23), __webpack_require__(23)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    var global_1 = __webpack_require__(21);\n\t    var has_1 = __webpack_require__(23);\n\t    var has_2 = __webpack_require__(23);\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = has_1.default;\n\t    __export(__webpack_require__(23));\n\t    /* ECMAScript 6 and 7 Features */\n\t    /* Object */\n\t    has_2.add('es6-object-assign', typeof Object.assign === 'function');\n\t    /* Array */\n\t    has_2.add('es6-array-from', 'from' in global_1.default.Array);\n\t    has_2.add('es6-array-of', 'of' in global_1.default.Array);\n\t    has_2.add('es6-array-fill', function () {\n\t        if ('fill' in global_1.default.Array.prototype) {\n\t            /* Some versions of Safari do not properly implement this */\n\t            return [1].fill(9, Number.POSITIVE_INFINITY)[0] === 1;\n\t        }\n\t        return false;\n\t    });\n\t    has_2.add('es6-array-findindex', 'findIndex' in global_1.default.Array.prototype);\n\t    has_2.add('es6-array-find', 'find' in global_1.default.Array.prototype);\n\t    has_2.add('es6-array-copywithin', 'copyWithin' in global_1.default.Array.prototype);\n\t    has_2.add('es7-array-includes', 'includes' in global_1.default.Array.prototype);\n\t    /* String */\n\t    has_2.add('es6-string-raw', 'raw' in global_1.default.String);\n\t    has_2.add('es6-string-fromcodepoint', 'fromCodePoint' in global_1.default.String);\n\t    has_2.add('es6-string-codepointat', 'codePointAt' in global_1.default.String.prototype);\n\t    has_2.add('es6-string-normalize', 'normalize' in global_1.default.String.prototype);\n\t    has_2.add('es6-string-repeat', 'repeat' in global_1.default.String.prototype);\n\t    has_2.add('es6-string-startswith', 'startsWith' in global_1.default.String.prototype);\n\t    has_2.add('es6-string-endswith', 'endsWith' in global_1.default.String.prototype);\n\t    has_2.add('es6-string-includes', 'includes' in global_1.default.String.prototype);\n\t    /* Math */\n\t    has_2.add('es6-math-acosh', typeof global_1.default.Math.acosh === 'function');\n\t    has_2.add('es6-math-clz32', typeof global_1.default.Math.clz32 === 'function');\n\t    has_2.add('es6-math-imul', function () {\n\t        if ('imul' in global_1.default.Math) {\n\t            /* Some versions of Safari on ios do not properly implement this */\n\t            return Math.imul(0xffffffff, 5) === -5;\n\t        }\n\t        return false;\n\t    });\n\t    /* Promise */\n\t    has_2.add('es6-promise', typeof global_1.default.Promise !== 'undefined' && typeof global_1.default.Symbol !== 'undefined');\n\t    /* Set */\n\t    has_2.add('es6-set', function () {\n\t        if (typeof global_1.default.Set === 'function') {\n\t            /* IE11 and older versions of Safari are missing critical ES6 Set functionality */\n\t            var set = new global_1.default.Set([1]);\n\t            return set.has(1) && 'keys' in set && typeof set.keys === 'function';\n\t        }\n\t        return false;\n\t    });\n\t    /* Map */\n\t    has_2.add('es6-map', function () {\n\t        if (typeof global_1.default.Map === 'function') {\n\t            /*\n\t            IE11 and older versions of Safari are missing critical ES6 Map functionality\n\t            We wrap this in a try/catch because sometimes the Map constructor exists, but does not\n\t            take arguments (iOS 8.4)\n\t             */\n\t            try {\n\t                var map = new global_1.default.Map([[0, 1]]);\n\t                return map.has(0) && typeof map.keys === 'function' &&\n\t                    typeof map.values === 'function' && typeof map.entries === 'function';\n\t            }\n\t            catch (e) {\n\t                /* istanbul ignore next: not testing on iOS at the moment */\n\t                return false;\n\t            }\n\t        }\n\t        return false;\n\t    });\n\t    /* WeakMap */\n\t    has_2.add('es6-weakmap', function () {\n\t        if (typeof global_1.default.WeakMap !== 'undefined') {\n\t            /* IE11 and older versions of Safari are missing critical ES6 Map functionality */\n\t            var key1 = {};\n\t            var key2 = {};\n\t            var map = new global_1.default.WeakMap([[key1, 1]]);\n\t            return map.get(key1) === 1 && map.set(key2, 2) === map;\n\t        }\n\t        return false;\n\t    });\n\t    /* Symbol */\n\t    has_2.add('es6-symbol', typeof global_1.default.Symbol === 'function');\n\t    /* Miscellaneous features */\n\t    has_2.add('float32array', 'Float32Array' in global_1.default);\n\t    has_2.add('setimmediate', typeof global_1.default.setImmediate !== 'undefined');\n\t    has_2.add('postmessage', typeof postMessage === 'function');\n\t    has_2.add('microtasks', function () { return has_1.default('es6-promise') || has_1.default('host-node') || has_1.default('dom-mutationobserver'); });\n\t    /* DOM Features */\n\t    has_2.add('dom-mutationobserver', function () { return has_1.default('host-browser') && Boolean(global_1.default.MutationObserver || global_1.default.WebKitMutationObserver); });\n\t});\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global, process) {(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    /**\n\t     * A cache of results of feature tests\n\t     */\n\t    exports.testCache = {};\n\t    /**\n\t     * A cache of the un-resolved feature tests\n\t     */\n\t    exports.testFunctions = {};\n\t    /**\n\t     * A reference to the global scope (`window` in a browser, `global` in NodeJS)\n\t     */\n\t    var globalScope = (function () {\n\t        /* istanbul ignore else */\n\t        if (typeof window !== 'undefined') {\n\t            // Browsers\n\t            return window;\n\t        }\n\t        else if (typeof global !== 'undefined') {\n\t            // Node\n\t            return global;\n\t        }\n\t        else if (typeof self !== 'undefined') {\n\t            // Web workers\n\t            return self;\n\t        }\n\t        /* istanbul ignore next */\n\t        return {};\n\t    })();\n\t    /* Grab the staticFeatures if there are available */\n\t    var staticFeatures = (globalScope.DojoHasEnvironment || {}).staticFeatures;\n\t    /* Cleaning up the DojoHasEnviornment */\n\t    if ('DojoHasEnvironment' in globalScope) {\n\t        delete globalScope.DojoHasEnvironment;\n\t    }\n\t    /**\n\t     * Custom type guard to narrow the `staticFeatures` to either a map or a function that\n\t     * returns a map.\n\t     *\n\t     * @param value The value to guard for\n\t     */\n\t    function isStaticFeatureFunction(value) {\n\t        return typeof value === 'function';\n\t    }\n\t    /**\n\t     * The cache of asserted features that were available in the global scope when the\n\t     * module loaded\n\t     */\n\t    var staticCache = staticFeatures\n\t        ? isStaticFeatureFunction(staticFeatures)\n\t            ? staticFeatures.apply(globalScope)\n\t            : staticFeatures\n\t        : {}; /* Providing an empty cache, if none was in the environment\n\t\n\t/**\n\t * AMD plugin function.\n\t *\n\t * Conditional loads modules based on a has feature test value.\n\t *\n\t * @param resourceId Gives the resolved module id to load.\n\t * @param require The loader require function with respect to the module that contained the plugin resource in its\n\t *                dependency list.\n\t * @param load Callback to loader that consumes result of plugin demand.\n\t */\n\t    function load(resourceId, require, load, config) {\n\t        resourceId ? require([resourceId], load) : load();\n\t    }\n\t    exports.load = load;\n\t    /**\n\t     * AMD plugin function.\n\t     *\n\t     * Resolves resourceId into a module id based on possibly-nested tenary expression that branches on has feature test\n\t     * value(s).\n\t     *\n\t     * @param resourceId The id of the module\n\t     * @param normalize Resolves a relative module id into an absolute module id\n\t     */\n\t    function normalize(resourceId, normalize) {\n\t        var tokens = resourceId.match(/[\\?:]|[^:\\?]*/g) || [];\n\t        var i = 0;\n\t        function get(skip) {\n\t            var term = tokens[i++];\n\t            if (term === ':') {\n\t                // empty string module name, resolves to null\n\t                return null;\n\t            }\n\t            else {\n\t                // postfixed with a ? means it is a feature to branch on, the term is the name of the feature\n\t                if (tokens[i++] === '?') {\n\t                    if (!skip && has(term)) {\n\t                        // matched the feature, get the first value from the options\n\t                        return get();\n\t                    }\n\t                    else {\n\t                        // did not match, get the second value, passing over the first\n\t                        get(true);\n\t                        return get(skip);\n\t                    }\n\t                }\n\t                // a module\n\t                return term;\n\t            }\n\t        }\n\t        var id = get();\n\t        return id && normalize(id);\n\t    }\n\t    exports.normalize = normalize;\n\t    /**\n\t     * Check if a feature has already been registered\n\t     *\n\t     * @param feature the name of the feature\n\t     */\n\t    function exists(feature) {\n\t        return Boolean(feature in staticCache || feature in exports.testCache || exports.testFunctions[feature]);\n\t    }\n\t    exports.exists = exists;\n\t    /**\n\t     * Register a new test for a named feature.\n\t     *\n\t     * @example\n\t     * has.add('dom-addeventlistener', !!document.addEventListener);\n\t     *\n\t     * @example\n\t     * has.add('touch-events', function () {\n\t     *    return 'ontouchstart' in document\n\t     * });\n\t     *\n\t     * @param feature the name of the feature\n\t     * @param value the value reported of the feature, or a function that will be executed once on first test\n\t     * @param overwrite if an existing value should be overwritten. Defaults to false.\n\t     */\n\t    function add(feature, value, overwrite) {\n\t        if (overwrite === void 0) { overwrite = false; }\n\t        if (exists(feature) && !overwrite && !(feature in staticCache)) {\n\t            throw new TypeError(\"Feature \\\"\" + feature + \"\\\" exists and overwrite not true.\");\n\t        }\n\t        if (typeof value === 'function') {\n\t            exports.testFunctions[feature] = value;\n\t        }\n\t        else {\n\t            exports.testCache[feature] = value;\n\t            delete exports.testFunctions[feature];\n\t        }\n\t    }\n\t    exports.add = add;\n\t    /**\n\t     * Return the current value of a named feature.\n\t     *\n\t     * @param feature The name (if a string) or identifier (if an integer) of the feature to test.\n\t     */\n\t    function has(feature) {\n\t        var result;\n\t        if (feature in staticCache) {\n\t            result = staticCache[feature];\n\t        }\n\t        else if (exports.testFunctions[feature]) {\n\t            result = exports.testCache[feature] = exports.testFunctions[feature].call(null);\n\t            delete exports.testFunctions[feature];\n\t        }\n\t        else if (feature in exports.testCache) {\n\t            result = exports.testCache[feature];\n\t        }\n\t        else {\n\t            throw new TypeError(\"Attempt to detect unregistered has feature \\\"\" + feature + \"\\\"\");\n\t        }\n\t        return result;\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = has;\n\t    /*\n\t     * Out of the box feature tests\n\t     */\n\t    /* Evironments */\n\t    /* Used as a value to provide a debug only code path */\n\t    add('debug', true);\n\t    /* Detects if the environment is \"browser like\" */\n\t    add('host-browser', typeof document !== 'undefined' && typeof location !== 'undefined');\n\t    /* Detects if the enviornment appears to be NodeJS */\n\t    add('host-node', function () {\n\t        if (typeof process === 'object' && process.versions && process.versions.node) {\n\t            return process.versions.node;\n\t        }\n\t    });\n\t});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(24)))\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(26), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var string_1 = __webpack_require__(26);\n\t    __webpack_require__(19);\n\t    var staticDone = { done: true, value: undefined };\n\t    /**\n\t     * A class that provides \"shims\" an iterator interface on array like\n\t     * objects.\n\t     */\n\t    var ShimIterator = (function () {\n\t        function ShimIterator(list) {\n\t            this._nextIndex = -1;\n\t            if (isIterable(list)) {\n\t                this._nativeIterator = list[Symbol.iterator]();\n\t            }\n\t            else {\n\t                this._list = list;\n\t            }\n\t        }\n\t        ;\n\t        /**\n\t         * Return the next iteration result for the Iterator\n\t         */\n\t        ShimIterator.prototype.next = function () {\n\t            if (this._nativeIterator) {\n\t                return this._nativeIterator.next();\n\t            }\n\t            if (!this._list) {\n\t                return staticDone;\n\t            }\n\t            if (++this._nextIndex < this._list.length) {\n\t                return {\n\t                    done: false,\n\t                    value: this._list[this._nextIndex]\n\t                };\n\t            }\n\t            return staticDone;\n\t        };\n\t        ;\n\t        ShimIterator.prototype[Symbol.iterator] = function () {\n\t            return this;\n\t        };\n\t        return ShimIterator;\n\t    }());\n\t    exports.ShimIterator = ShimIterator;\n\t    /**\n\t     * A type guard for checking if something has an Iterable interface\n\t     *\n\t     * @param value The value to type guard against\n\t     */\n\t    function isIterable(value) {\n\t        return value && typeof value[Symbol.iterator] === 'function';\n\t    }\n\t    exports.isIterable = isIterable;\n\t    /**\n\t     * A type guard for checking if something is ArrayLike\n\t     *\n\t     * @param value The value to type guard against\n\t     */\n\t    function isArrayLike(value) {\n\t        return value && typeof value.length === 'number';\n\t    }\n\t    exports.isArrayLike = isArrayLike;\n\t    /**\n\t     * Returns the iterator for an object\n\t     *\n\t     * @param iterable The iterable object to return the iterator for\n\t     */\n\t    function get(iterable) {\n\t        if (isIterable(iterable)) {\n\t            return iterable[Symbol.iterator]();\n\t        }\n\t        else if (isArrayLike(iterable)) {\n\t            return new ShimIterator(iterable);\n\t        }\n\t    }\n\t    exports.get = get;\n\t    ;\n\t    /**\n\t     * Shims the functionality of `for ... of` blocks\n\t     *\n\t     * @param iterable The object the provides an interator interface\n\t     * @param callback The callback which will be called for each item of the iterable\n\t     * @param thisArg Optional scope to pass the callback\n\t     */\n\t    function forOf(iterable, callback, thisArg) {\n\t        var broken = false;\n\t        function doBreak() {\n\t            broken = true;\n\t        }\n\t        /* We need to handle iteration of double byte strings properly */\n\t        if (!isIterable(iterable) && typeof iterable === 'string') {\n\t            var l = iterable.length;\n\t            for (var i = 0; i < l; ++i) {\n\t                var char = iterable[i];\n\t                if ((i + 1) < l) {\n\t                    var code = char.charCodeAt(0);\n\t                    if ((code >= string_1.HIGH_SURROGATE_MIN) && (code <= string_1.HIGH_SURROGATE_MAX)) {\n\t                        char += iterable[++i];\n\t                    }\n\t                }\n\t                callback.call(thisArg, char, iterable, doBreak);\n\t                if (broken) {\n\t                    return;\n\t                }\n\t            }\n\t        }\n\t        else {\n\t            var iterator = get(iterable);\n\t            if (iterator) {\n\t                var result = iterator.next();\n\t                while (!result.done) {\n\t                    callback.call(thisArg, result.value, iterable, doBreak);\n\t                    if (broken) {\n\t                        return;\n\t                    }\n\t                    result = iterator.next();\n\t                }\n\t            }\n\t        }\n\t    }\n\t    exports.forOf = forOf;\n\t});\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(22), __webpack_require__(20)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(22);\n\t    var util_1 = __webpack_require__(20);\n\t    /**\n\t     * The minimum location of high surrogates\n\t     */\n\t    exports.HIGH_SURROGATE_MIN = 0xD800;\n\t    /**\n\t     * The maximum location of high surrogates\n\t     */\n\t    exports.HIGH_SURROGATE_MAX = 0xDBFF;\n\t    /**\n\t     * The minimum location of low surrogates\n\t     */\n\t    exports.LOW_SURROGATE_MIN = 0xDC00;\n\t    /**\n\t     * The maximum location of low surrogates\n\t     */\n\t    exports.LOW_SURROGATE_MAX = 0xDFFF;\n\t    var Shim;\n\t    (function (Shim) {\n\t        /**\n\t         * Validates that text is defined, and normalizes position (based on the given default if the input is NaN).\n\t         * Used by startsWith, includes, and endsWith.\n\t         *\n\t         * @return Normalized position.\n\t         */\n\t        function normalizeSubstringArgs(name, text, search, position, isEnd) {\n\t            if (isEnd === void 0) { isEnd = false; }\n\t            if (text == null) {\n\t                throw new TypeError('string.' + name + ' requires a valid string to search against.');\n\t            }\n\t            var length = text.length;\n\t            position = position !== position ? (isEnd ? length : 0) : position;\n\t            return [text, String(search), Math.min(Math.max(position, 0), length)];\n\t        }\n\t        function raw(callSite) {\n\t            var substitutions = [];\n\t            for (var _i = 1; _i < arguments.length; _i++) {\n\t                substitutions[_i - 1] = arguments[_i];\n\t            }\n\t            var rawStrings = callSite.raw;\n\t            var result = '';\n\t            var numSubstitutions = substitutions.length;\n\t            if (callSite == null || callSite.raw == null) {\n\t                throw new TypeError('string.raw requires a valid callSite object with a raw value');\n\t            }\n\t            for (var i = 0, length_1 = rawStrings.length; i < length_1; i++) {\n\t                result += rawStrings[i] + (i < numSubstitutions && i < length_1 - 1 ? substitutions[i] : '');\n\t            }\n\t            return result;\n\t        }\n\t        Shim.raw = raw;\n\t        function fromCodePoint() {\n\t            var codePoints = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                codePoints[_i - 0] = arguments[_i];\n\t            }\n\t            // Adapted from https://github.com/mathiasbynens/String.fromCodePoint\n\t            var length = arguments.length;\n\t            if (!length) {\n\t                return '';\n\t            }\n\t            var fromCharCode = String.fromCharCode;\n\t            var MAX_SIZE = 0x4000;\n\t            var codeUnits = [];\n\t            var index = -1;\n\t            var result = '';\n\t            while (++index < length) {\n\t                var codePoint = Number(arguments[index]);\n\t                // Code points must be finite integers within the valid range\n\t                var isValid = isFinite(codePoint) && Math.floor(codePoint) === codePoint &&\n\t                    codePoint >= 0 && codePoint <= 0x10FFFF;\n\t                if (!isValid) {\n\t                    throw RangeError('string.fromCodePoint: Invalid code point ' + codePoint);\n\t                }\n\t                if (codePoint <= 0xFFFF) {\n\t                    // BMP code point\n\t                    codeUnits.push(codePoint);\n\t                }\n\t                else {\n\t                    // Astral code point; split in surrogate halves\n\t                    // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t                    codePoint -= 0x10000;\n\t                    var highSurrogate = (codePoint >> 10) + exports.HIGH_SURROGATE_MIN;\n\t                    var lowSurrogate = (codePoint % 0x400) + exports.LOW_SURROGATE_MIN;\n\t                    codeUnits.push(highSurrogate, lowSurrogate);\n\t                }\n\t                if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t                    result += fromCharCode.apply(null, codeUnits);\n\t                    codeUnits.length = 0;\n\t                }\n\t            }\n\t            return result;\n\t        }\n\t        Shim.fromCodePoint = fromCodePoint;\n\t        function codePointAt(text, position) {\n\t            if (position === void 0) { position = 0; }\n\t            // Adapted from https://github.com/mathiasbynens/String.prototype.codePointAt\n\t            if (text == null) {\n\t                throw new TypeError('string.codePointAt requries a valid string.');\n\t            }\n\t            var length = text.length;\n\t            if (position !== position) {\n\t                position = 0;\n\t            }\n\t            if (position < 0 || position >= length) {\n\t                return undefined;\n\t            }\n\t            // Get the first code unit\n\t            var first = text.charCodeAt(position);\n\t            if (first >= exports.HIGH_SURROGATE_MIN && first <= exports.HIGH_SURROGATE_MAX && length > position + 1) {\n\t                // Start of a surrogate pair (high surrogate and there is a next code unit); check for low surrogate\n\t                // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t                var second = text.charCodeAt(position + 1);\n\t                if (second >= exports.LOW_SURROGATE_MIN && second <= exports.LOW_SURROGATE_MAX) {\n\t                    return (first - exports.HIGH_SURROGATE_MIN) * 0x400 + second - exports.LOW_SURROGATE_MIN + 0x10000;\n\t                }\n\t            }\n\t            return first;\n\t        }\n\t        Shim.codePointAt = codePointAt;\n\t        /* TODO: Missing normalize */\n\t        function repeat(text, count) {\n\t            if (count === void 0) { count = 0; }\n\t            // Adapted from https://github.com/mathiasbynens/String.prototype.repeat\n\t            if (text == null) {\n\t                throw new TypeError('string.repeat requires a valid string.');\n\t            }\n\t            if (count !== count) {\n\t                count = 0;\n\t            }\n\t            if (count < 0 || count === Infinity) {\n\t                throw new RangeError('string.repeat requires a non-negative finite count.');\n\t            }\n\t            var result = '';\n\t            while (count) {\n\t                if (count % 2) {\n\t                    result += text;\n\t                }\n\t                if (count > 1) {\n\t                    text += text;\n\t                }\n\t                count >>= 1;\n\t            }\n\t            return result;\n\t        }\n\t        Shim.repeat = repeat;\n\t        function startsWith(text, search, position) {\n\t            if (position === void 0) { position = 0; }\n\t            search = String(search);\n\t            _a = normalizeSubstringArgs('startsWith', text, search, position), text = _a[0], search = _a[1], position = _a[2];\n\t            var end = position + search.length;\n\t            if (end > text.length) {\n\t                return false;\n\t            }\n\t            return text.slice(position, end) === search;\n\t            var _a;\n\t        }\n\t        Shim.startsWith = startsWith;\n\t        function endsWith(text, search, endPosition) {\n\t            if (endPosition == null) {\n\t                endPosition = text.length;\n\t            }\n\t            _a = normalizeSubstringArgs('endsWith', text, search, endPosition, true), text = _a[0], search = _a[1], endPosition = _a[2];\n\t            var start = endPosition - search.length;\n\t            if (start < 0) {\n\t                return false;\n\t            }\n\t            return text.slice(start, endPosition) === search;\n\t            var _a;\n\t        }\n\t        Shim.endsWith = endsWith;\n\t        function includes(text, search, position) {\n\t            if (position === void 0) { position = 0; }\n\t            _a = normalizeSubstringArgs('includes', text, search, position), text = _a[0], search = _a[1], position = _a[2];\n\t            return text.indexOf(search, position) !== -1;\n\t            var _a;\n\t        }\n\t        Shim.includes = includes;\n\t    })(Shim = exports.Shim || (exports.Shim = {}));\n\t    /**\n\t     * A tag function for template strings to get the template string's raw string form.\n\t     *\n\t     * @param callSite Call site object (or a template string in TypeScript, which will transpile to one)\n\t     * @param substitutions Values to substitute within the template string (TypeScript will generate these automatically)\n\t     * @return String containing the raw template string with variables substituted\n\t     *\n\t     * @example\n\t     * // Within TypeScript; logs 'The answer is:\\\\n42'\n\t     * let answer = 42;\n\t     * console.log(string.raw`The answer is:\\n${answer}`);\n\t     *\n\t     * @example\n\t     * // The same example as above, but directly specifying a JavaScript object and substitution\n\t     * console.log(string.raw({ raw: [ 'The answer is:\\\\n', '' ] }, 42));\n\t     */\n\t    exports.raw = has_1.default('es6-string-raw')\n\t        ? String.raw\n\t        : Shim.raw;\n\t    /**\n\t     * Returns the UTF-16 encoded code point value of a given position in a string.\n\t     *\n\t     * @param text The string containing the element whose code point is to be determined\n\t     * @param position Position of an element within the string to retrieve the code point value from\n\t     * @return A non-negative integer representing the UTF-16 encoded code point value\n\t     */\n\t    exports.fromCodePoint = has_1.default('es6-string-fromcodepoint')\n\t        ? String.fromCodePoint\n\t        : Shim.fromCodePoint;\n\t    /**\n\t     * Returns the UTF-16 encoded code point value of a given position in a string.\n\t     *\n\t     * @param text The string containing the element whose code point is to be determined\n\t     * @param position Position of an element within the string to retrieve the code point value from\n\t     * @return A non-negative integer representing the UTF-16 encoded code point value\n\t     */\n\t    exports.codePointAt = has_1.default('es6-string-codepointat')\n\t        ? util_1.wrapNative(String.prototype.codePointAt)\n\t        : Shim.codePointAt;\n\t    /**\n\t     * Returns a string containing the given string repeated the specified number of times.\n\t     *\n\t     * @param text The string to repeat\n\t     * @param count The number of times to repeat the string\n\t     * @return A string containing the input string repeated count times\n\t     */\n\t    exports.repeat = has_1.default('es6-string-repeat')\n\t        ? util_1.wrapNative(String.prototype.repeat)\n\t        : Shim.repeat;\n\t    /**\n\t     * Determines whether a string begins with the given substring (optionally starting from a given index).\n\t     *\n\t     * @param text The string to look for the search string within\n\t     * @param search The string to search for\n\t     * @param position The index to begin searching at\n\t     * @return Boolean indicating if the search string was found at the beginning of the given string\n\t     */\n\t    exports.startsWith = has_1.default('es6-string-startswith')\n\t        ? util_1.wrapNative(String.prototype.startsWith)\n\t        : Shim.startsWith;\n\t    /**\n\t     * Determines whether a string ends with the given substring.\n\t     *\n\t     * @param text The string to look for the search string within\n\t     * @param search The string to search for\n\t     * @param endPosition The index searching should stop before (defaults to text.length)\n\t     * @return Boolean indicating if the search string was found at the end of the given string\n\t     */\n\t    exports.endsWith = has_1.default('es6-string-endswith')\n\t        ? util_1.wrapNative(String.prototype.endsWith)\n\t        : Shim.endsWith;\n\t    /**\n\t     * Determines whether a string includes the given substring (optionally starting from a given index).\n\t     *\n\t     * @param text The string to look for the search string within\n\t     * @param search The string to search for\n\t     * @param position The index to begin searching at\n\t     * @return Boolean indicating if the search string was found within the given string\n\t     */\n\t    exports.includes = has_1.default('es6-string-includes')\n\t        ? util_1.wrapNative(String.prototype.includes)\n\t        : Shim.includes;\n\t});\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(22)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(22);\n\t    /**\n\t     * A class decorator that provides either a native class or a shimmed class based on a feature\n\t     * test\n\t     * @param feature The has feature to check\n\t     * @param trueClass The class to use if feature test returns `true`\n\t     * @param falseClass The class to use if the feature test returns `false` or is not defined\n\t     */\n\t    function hasClass(feature, trueClass, falseClass) {\n\t        return function (target) {\n\t            return has_1.default(feature) ? trueClass : falseClass;\n\t        };\n\t    }\n\t    exports.hasClass = hasClass;\n\t});\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(22), __webpack_require__(20), __webpack_require__(25), __webpack_require__(29)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(22);\n\t    var util_1 = __webpack_require__(20);\n\t    var iterator_1 = __webpack_require__(25);\n\t    var number_1 = __webpack_require__(29);\n\t    /**\n\t     * Ensures a non-negative, non-infinite, safe integer.\n\t     *\n\t     * @param length The number to validate\n\t     * @return A proper length\n\t     */\n\t    function toLength(length) {\n\t        length = Number(length);\n\t        if (isNaN(length)) {\n\t            return 0;\n\t        }\n\t        if (isFinite(length)) {\n\t            length = Math.floor(length);\n\t        }\n\t        // Ensure a non-negative, real, safe integer\n\t        return Math.min(Math.max(length, 0), number_1.MAX_SAFE_INTEGER);\n\t    }\n\t    /**\n\t     * From ES6 7.1.4 ToInteger()\n\t     *\n\t     * @param value A value to convert\n\t     * @return An integer\n\t     */\n\t    function toInteger(value) {\n\t        value = Number(value);\n\t        if (isNaN(value)) {\n\t            return 0;\n\t        }\n\t        if (value === 0 || !isFinite(value)) {\n\t            return value;\n\t        }\n\t        return (value > 0 ? 1 : -1) * Math.floor(Math.abs(value));\n\t    }\n\t    /**\n\t     * Normalizes an offset against a given length, wrapping it if negative.\n\t     *\n\t     * @param value The original offset\n\t     * @param length The total length to normalize against\n\t     * @return If negative, provide a distance from the end (length); otherwise provide a distance from 0\n\t     */\n\t    function normalizeOffset(value, length) {\n\t        return value < 0 ? Math.max(length + value, 0) : Math.min(value, length);\n\t    }\n\t    /**\n\t     * A namespace that contains the polyfilled functionality that is then exported below, depending on if\n\t     * the functionality is required or not.\n\t     */\n\t    var Shim;\n\t    (function (Shim) {\n\t        function from(arrayLike, mapFunction, thisArg) {\n\t            if (arrayLike == null) {\n\t                throw new TypeError('from: requires an array-like object');\n\t            }\n\t            if (mapFunction && thisArg) {\n\t                mapFunction = mapFunction.bind(thisArg);\n\t            }\n\t            /* tslint:disable-next-line:variable-name */\n\t            var Constructor = this;\n\t            var length = toLength(arrayLike.length);\n\t            // Support extension\n\t            var array = (typeof Constructor === 'function') ? Object(new Constructor(length)) : new Array(length);\n\t            if (!iterator_1.isArrayLike(arrayLike) && !iterator_1.isIterable(arrayLike)) {\n\t                return array;\n\t            }\n\t            var i = 0;\n\t            iterator_1.forOf(arrayLike, function (value) {\n\t                array[i] = mapFunction ? mapFunction(value, i) : value;\n\t                i++;\n\t            });\n\t            if (arrayLike.length !== undefined) {\n\t                array.length = length;\n\t            }\n\t            return array;\n\t        }\n\t        Shim.from = from;\n\t        function of() {\n\t            var items = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                items[_i - 0] = arguments[_i];\n\t            }\n\t            return Array.prototype.slice.call(items);\n\t        }\n\t        Shim.of = of;\n\t        function copyWithin(target, offset, start, end) {\n\t            if (target == null) {\n\t                throw new TypeError('copyWithin: target must be an array-like object');\n\t            }\n\t            var length = toLength(target.length);\n\t            offset = normalizeOffset(toInteger(offset), length);\n\t            start = normalizeOffset(toInteger(start), length);\n\t            end = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t            var count = Math.min(end - start, length - offset);\n\t            var direction = 1;\n\t            if (offset > start && offset < (start + count)) {\n\t                direction = -1;\n\t                start += count - 1;\n\t                offset += count - 1;\n\t            }\n\t            while (count > 0) {\n\t                if (start in target) {\n\t                    target[offset] = target[start];\n\t                }\n\t                else {\n\t                    delete target[offset];\n\t                }\n\t                offset += direction;\n\t                start += direction;\n\t                count--;\n\t            }\n\t            return target;\n\t        }\n\t        Shim.copyWithin = copyWithin;\n\t        function fill(target, value, start, end) {\n\t            var length = toLength(target.length);\n\t            var i = normalizeOffset(toInteger(start), length);\n\t            end = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t            while (i < end) {\n\t                target[i++] = value;\n\t            }\n\t            return target;\n\t        }\n\t        Shim.fill = fill;\n\t        function find(target, callback, thisArg) {\n\t            var index = findIndex(target, callback, thisArg);\n\t            return index !== -1 ? target[index] : undefined;\n\t        }\n\t        Shim.find = find;\n\t        function findIndex(target, callback, thisArg) {\n\t            var length = toLength(target.length);\n\t            if (!callback) {\n\t                throw new TypeError('find: second argument must be a function');\n\t            }\n\t            if (thisArg) {\n\t                callback = callback.bind(thisArg);\n\t            }\n\t            for (var i = 0; i < length; i++) {\n\t                if (callback(target[i], i, target)) {\n\t                    return i;\n\t                }\n\t            }\n\t            return -1;\n\t        }\n\t        Shim.findIndex = findIndex;\n\t        function includes(target, searchElement, fromIndex) {\n\t            if (fromIndex === void 0) { fromIndex = 0; }\n\t            var len = toLength(target.length);\n\t            for (var i = fromIndex; i < len; ++i) {\n\t                var currentElement = target[i];\n\t                if (searchElement === currentElement ||\n\t                    (searchElement !== searchElement && currentElement !== currentElement)) {\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        }\n\t        Shim.includes = includes;\n\t    })(Shim = exports.Shim || (exports.Shim = {}));\n\t    exports.from = has_1.default('es6-array-from')\n\t        ? Array.from\n\t        : Shim.from;\n\t    /**\n\t     * Creates a new array from the function parameters.\n\t     *\n\t     * @param arguments Any number of arguments for the array\n\t     * @return An array from the given arguments\n\t     */\n\t    exports.of = has_1.default('es6-array-of')\n\t        ? Array.of\n\t        : Shim.of;\n\t    /* ES6 Array instance methods */\n\t    /**\n\t     * Copies data internally within an array or array-like object.\n\t     *\n\t     * @param target The target array-like object\n\t     * @param offset The index to start copying values to; if negative, it counts backwards from length\n\t     * @param start The first (inclusive) index to copy; if negative, it counts backwards from length\n\t     * @param end The last (exclusive) index to copy; if negative, it counts backwards from length\n\t     * @return The target\n\t     */\n\t    exports.copyWithin = has_1.default('es6-array-copywithin')\n\t        ? util_1.wrapNative(Array.prototype.copyWithin)\n\t        : Shim.copyWithin;\n\t    /**\n\t     * Fills elements of an array-like object with the specified value.\n\t     *\n\t     * @param target The target to fill\n\t     * @param value The value to fill each element of the target with\n\t     * @param start The first index to fill\n\t     * @param end The (exclusive) index at which to stop filling\n\t     * @return The filled target\n\t     */\n\t    exports.fill = has_1.default('es6-array-fill')\n\t        ? util_1.wrapNative(Array.prototype.fill)\n\t        : Shim.fill;\n\t    /**\n\t     * Finds and returns the first instance matching the callback or undefined if one is not found.\n\t     *\n\t     * @param target An array-like object\n\t     * @param callback A function returning if the current value matches a criteria\n\t     * @param [thisArg] The execution context for the find function\n\t     * @return The first element matching the callback, or undefined if one does not exist\n\t     */\n\t    exports.find = has_1.default('es6-array-find')\n\t        ? util_1.wrapNative(Array.prototype.find)\n\t        : Shim.find;\n\t    /**\n\t     * Performs a linear search and returns the first index whose value satisfies the passed callback,\n\t     * or -1 if no values satisfy it.\n\t     *\n\t     * @param target An array-like object\n\t     * @param callback A function returning true if the current value satisfies its criteria\n\t     * @param [thisArg] The execution context for the find function\n\t     * @return The first index whose value satisfies the passed callback, or -1 if no values satisfy it\n\t     */\n\t    exports.findIndex = has_1.default('es6-array-findindex')\n\t        ? util_1.wrapNative(Array.prototype.findIndex)\n\t        : Shim.findIndex;\n\t    /* ES7 Array instance methods */\n\t    /**\n\t     * Determines whether an array includes a given value\n\t     *\n\t     * @param target the target array-like object\n\t     * @param searchElement the item to search for\n\t     * @param fromIndex the starting index to search from\n\t     * @return `true` if the array includes the element, otherwise `false`\n\t     */\n\t    exports.includes = has_1.default('es7-array-includes')\n\t        ? util_1.wrapNative(Array.prototype.includes)\n\t        : Shim.includes;\n\t});\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(21)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var global_1 = __webpack_require__(21);\n\t    /**\n\t     * The smallest interval between two representable numbers.\n\t     */\n\t    exports.EPSILON = 1;\n\t    /**\n\t     * The maximum safe integer in JavaScript\n\t     */\n\t    exports.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\t    /**\n\t     * The minimum safe integer in JavaScript\n\t     */\n\t    exports.MIN_SAFE_INTEGER = -exports.MAX_SAFE_INTEGER;\n\t    /**\n\t     * Determines whether the passed value is NaN without coersion.\n\t     *\n\t     * @param value The value to test\n\t     * @return true if the value is NaN, false if it is not\n\t     */\n\t    function isNaN(value) {\n\t        return typeof value === 'number' && global_1.default.isNaN(value);\n\t    }\n\t    exports.isNaN = isNaN;\n\t    /**\n\t     * Determines whether the passed value is a finite number without coersion.\n\t     *\n\t     * @param value The value to test\n\t     * @return true if the value is finite, false if it is not\n\t     */\n\t    function isFinite(value) {\n\t        return typeof value === 'number' && global_1.default.isFinite(value);\n\t    }\n\t    exports.isFinite = isFinite;\n\t    /**\n\t     * Determines whether the passed value is an integer.\n\t     *\n\t     * @param value The value to test\n\t     * @return true if the value is an integer, false if it is not\n\t     */\n\t    function isInteger(value) {\n\t        return isFinite(value) && Math.floor(value) === value;\n\t    }\n\t    exports.isInteger = isInteger;\n\t    /**\n\t     * Determines whether the passed value is an integer that is 'safe,' meaning:\n\t     *   1. it can be expressed as an IEEE-754 double precision number\n\t     *   2. it has a one-to-one mapping to a mathematical integer, meaning its\n\t     *      IEEE-754 representation cannot be the result of rounding any other\n\t     *      integer to fit the IEEE-754 representation\n\t     *\n\t     * @param value The value to test\n\t     * @return true if the value is an integer, false if it is not\n\t     */\n\t    function isSafeInteger(value) {\n\t        return isInteger(value) && Math.abs(value) <= exports.MAX_SAFE_INTEGER;\n\t    }\n\t    exports.isSafeInteger = isSafeInteger;\n\t});\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(31)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(31);\n\t    var slice = Array.prototype.slice;\n\t    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\t    /**\n\t     * Type guard that ensures that the value can be coerced to Object\n\t     * to weed out host objects that do not derive from Object.\n\t     * This function is used to check if we want to deep copy an object or not.\n\t     * Note: In ES6 it is possible to modify an object's Symbol.toStringTag property, which will\n\t     * change the value returned by `toString`. This is a rare edge case that is difficult to handle,\n\t     * so it is not handled here.\n\t     * @param  value The value to check\n\t     * @return       If the value is coercible into an Object\n\t     */\n\t    function shouldDeepCopyObject(value) {\n\t        return Object.prototype.toString.call(value) === '[object Object]';\n\t    }\n\t    function copyArray(array, inherited) {\n\t        return array.map(function (item) {\n\t            if (Array.isArray(item)) {\n\t                return copyArray(item, inherited);\n\t            }\n\t            return !shouldDeepCopyObject(item) ?\n\t                item :\n\t                _mixin({\n\t                    deep: true,\n\t                    inherited: inherited,\n\t                    sources: [item],\n\t                    target: {}\n\t                });\n\t        });\n\t    }\n\t    function _mixin(kwArgs) {\n\t        var deep = kwArgs.deep;\n\t        var inherited = kwArgs.inherited;\n\t        var target = kwArgs.target;\n\t        for (var _i = 0, _a = kwArgs.sources; _i < _a.length; _i++) {\n\t            var source = _a[_i];\n\t            if (source === null || source === undefined) {\n\t                continue;\n\t            }\n\t            for (var key in source) {\n\t                if (inherited || hasOwnProperty.call(source, key)) {\n\t                    var value = source[key];\n\t                    if (deep) {\n\t                        if (Array.isArray(value)) {\n\t                            value = copyArray(value, inherited);\n\t                        }\n\t                        else if (shouldDeepCopyObject(value)) {\n\t                            value = _mixin({\n\t                                deep: true,\n\t                                inherited: inherited,\n\t                                sources: [value],\n\t                                target: {}\n\t                            });\n\t                        }\n\t                    }\n\t                    target[key] = value;\n\t                }\n\t            }\n\t        }\n\t        return target;\n\t    }\n\t    /**\n\t     * Copies the values of all enumerable own properties of one or more source objects to the target object.\n\t     *\n\t     * @param target The target object to receive values from source objects\n\t     * @param sources Any number of objects whose enumerable own properties will be copied to the target object\n\t     * @return The modified target object\n\t     */\n\t    exports.assign = has_1.default('object-assign') ?\n\t        Object.assign :\n\t        function (target) {\n\t            var sources = [];\n\t            for (var _i = 1; _i < arguments.length; _i++) {\n\t                sources[_i - 1] = arguments[_i];\n\t            }\n\t            return _mixin({\n\t                deep: false,\n\t                inherited: false,\n\t                sources: sources,\n\t                target: target\n\t            });\n\t        };\n\t    function create(prototype) {\n\t        var mixins = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            mixins[_i - 1] = arguments[_i];\n\t        }\n\t        if (!mixins.length) {\n\t            throw new RangeError('lang.create requires at least one mixin object.');\n\t        }\n\t        var args = mixins.slice();\n\t        args.unshift(Object.create(prototype));\n\t        return exports.assign.apply(null, args);\n\t    }\n\t    exports.create = create;\n\t    function deepAssign(target) {\n\t        var sources = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            sources[_i - 1] = arguments[_i];\n\t        }\n\t        return _mixin({\n\t            deep: true,\n\t            inherited: false,\n\t            sources: sources,\n\t            target: target\n\t        });\n\t    }\n\t    exports.deepAssign = deepAssign;\n\t    function deepMixin(target) {\n\t        var sources = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            sources[_i - 1] = arguments[_i];\n\t        }\n\t        return _mixin({\n\t            deep: true,\n\t            inherited: true,\n\t            sources: sources,\n\t            target: target\n\t        });\n\t    }\n\t    exports.deepMixin = deepMixin;\n\t    /**\n\t     * Creates a new object using the provided source's prototype as the prototype for the new object, and then\n\t     * deep copies the provided source's values into the new target.\n\t     *\n\t     * @param source The object to duplicate\n\t     * @return The new object\n\t     */\n\t    function duplicate(source) {\n\t        var target = Object.create(Object.getPrototypeOf(source));\n\t        return deepMixin(target, source);\n\t    }\n\t    exports.duplicate = duplicate;\n\t    /**\n\t     * Determines whether two values are the same value.\n\t     *\n\t     * @param a First value to compare\n\t     * @param b Second value to compare\n\t     * @return true if the values are the same; false otherwise\n\t     */\n\t    function isIdentical(a, b) {\n\t        return a === b ||\n\t            /* both values are NaN */\n\t            (a !== a && b !== b);\n\t    }\n\t    exports.isIdentical = isIdentical;\n\t    /**\n\t     * Returns a function that binds a method to the specified object at runtime. This is similar to\n\t     * `Function.prototype.bind`, but instead of a function it takes the name of a method on an object.\n\t     * As a result, the function returned by `lateBind` will always call the function currently assigned to\n\t     * the specified property on the object as of the moment the function it returns is called.\n\t     *\n\t     * @param instance The context object\n\t     * @param method The name of the method on the context object to bind to itself\n\t     * @param suppliedArgs An optional array of values to prepend to the `instance[method]` arguments list\n\t     * @return The bound function\n\t     */\n\t    function lateBind(instance, method) {\n\t        var suppliedArgs = [];\n\t        for (var _i = 2; _i < arguments.length; _i++) {\n\t            suppliedArgs[_i - 2] = arguments[_i];\n\t        }\n\t        return suppliedArgs.length ?\n\t            function () {\n\t                var args = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\t                // TS7017\n\t                return instance[method].apply(instance, args);\n\t            } :\n\t            function () {\n\t                // TS7017\n\t                return instance[method].apply(instance, arguments);\n\t            };\n\t    }\n\t    exports.lateBind = lateBind;\n\t    function mixin(target) {\n\t        var sources = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            sources[_i - 1] = arguments[_i];\n\t        }\n\t        return _mixin({\n\t            deep: false,\n\t            inherited: true,\n\t            sources: sources,\n\t            target: target\n\t        });\n\t    }\n\t    exports.mixin = mixin;\n\t    /**\n\t     * Returns a function which invokes the given function with the given arguments prepended to its argument list.\n\t     * Like `Function.prototype.bind`, but does not alter execution context.\n\t     *\n\t     * @param targetFunction The function that needs to be bound\n\t     * @param suppliedArgs An optional array of arguments to prepend to the `targetFunction` arguments list\n\t     * @return The bound function\n\t     */\n\t    function partial(targetFunction) {\n\t        var suppliedArgs = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            suppliedArgs[_i - 1] = arguments[_i];\n\t        }\n\t        return function () {\n\t            var args = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\t            return targetFunction.apply(this, args);\n\t        };\n\t    }\n\t    exports.partial = partial;\n\t    /**\n\t     * Returns an object with a destroy method that, when called, calls the passed-in destructor.\n\t     * This is intended to provide a unified interface for creating \"remove\" / \"destroy\" handlers for\n\t     * event listeners, timers, etc.\n\t     *\n\t     * @param destructor A function that will be called when the handle's `destroy` method is invoked\n\t     * @return The handle object\n\t     */\n\t    function createHandle(destructor) {\n\t        return {\n\t            destroy: function () {\n\t                this.destroy = function () { };\n\t                destructor.call(this);\n\t            }\n\t        };\n\t    }\n\t    exports.createHandle = createHandle;\n\t    /**\n\t     * Returns a single handle that can be used to destroy multiple handles simultaneously.\n\t     *\n\t     * @param handles An array of handles with `destroy` methods\n\t     * @return The handle object\n\t     */\n\t    function createCompositeHandle() {\n\t        var handles = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            handles[_i - 0] = arguments[_i];\n\t        }\n\t        return createHandle(function () {\n\t            for (var _i = 0, handles_1 = handles; _i < handles_1.length; _i++) {\n\t                var handle = handles_1[_i];\n\t                handle.destroy();\n\t            }\n\t        });\n\t    }\n\t    exports.createCompositeHandle = createCompositeHandle;\n\t});\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(32), __webpack_require__(22), __webpack_require__(22)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    var global_1 = __webpack_require__(32);\n\t    var has_1 = __webpack_require__(22);\n\t    __export(__webpack_require__(22));\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = has_1.default;\n\t    has_1.add('object-assign', typeof global_1.default.Object.assign === 'function');\n\t    has_1.add('raf', typeof requestAnimationFrame === 'function');\n\t    has_1.add('arraybuffer', typeof global_1.default.ArrayBuffer !== 'undefined');\n\t    has_1.add('formdata', typeof global_1.default.FormData !== 'undefined');\n\t    has_1.add('xhr', typeof global_1.default.XMLHttpRequest !== 'undefined');\n\t    has_1.add('xhr2', has_1.default('xhr') && 'responseType' in global_1.default.XMLHttpRequest.prototype);\n\t    has_1.add('xhr2-blob', function () {\n\t        if (!has_1.default('xhr2')) {\n\t            return false;\n\t        }\n\t        var request = new XMLHttpRequest();\n\t        request.open('GET', '/', true);\n\t        request.responseType = 'blob';\n\t        request.abort();\n\t        return request.responseType === 'blob';\n\t    });\n\t});\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global) {(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var globalObject = (function () {\n\t        if (typeof window !== 'undefined') {\n\t            // Browsers\n\t            return window;\n\t        }\n\t        else if (typeof global !== 'undefined') {\n\t            // Node\n\t            return global;\n\t        }\n\t        else if (typeof self !== 'undefined') {\n\t            // Web workers\n\t            return self;\n\t        }\n\t        return {};\n\t    })();\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = globalObject;\n\t});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(31)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(31);\n\t    /**\n\t     * The default message to warn when no other is provided\n\t     */\n\t    var DEFAULT_DEPRECATED_MESSAGE = 'This function will be removed in future versions.';\n\t    /**\n\t     * When set, globalWarn will be used instead of `console.warn`\n\t     */\n\t    var globalWarn;\n\t    /**\n\t     * A function that will console warn that a function has been deprecated\n\t     *\n\t     * @param options Provide options which change the display of the message\n\t     */\n\t    function deprecated(_a) {\n\t        var _b = _a === void 0 ? {} : _a, message = _b.message, name = _b.name, warn = _b.warn, url = _b.url;\n\t        /* istanbul ignore else: testing with debug off is difficult */\n\t        if (has_1.default('debug')) {\n\t            message = message || DEFAULT_DEPRECATED_MESSAGE;\n\t            var warning = \"DEPRECATED: \" + (name ? name + ': ' : '') + message;\n\t            if (url) {\n\t                warning += \"\\n\\n    See \" + url + \" for more details.\\n\\n\";\n\t            }\n\t            if (warn) {\n\t                warn(warning);\n\t            }\n\t            else if (globalWarn) {\n\t                globalWarn(warning);\n\t            }\n\t            else {\n\t                console.warn(warning);\n\t            }\n\t        }\n\t    }\n\t    exports.deprecated = deprecated;\n\t    /**\n\t     * A function that generates before advice that can be used to warn when an API has been deprecated\n\t     *\n\t     * @param options Provide options which change the display of the message\n\t     */\n\t    function deprecatedAdvice(options) {\n\t        return function () {\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            deprecated(options);\n\t            return args;\n\t        };\n\t    }\n\t    exports.deprecatedAdvice = deprecatedAdvice;\n\t    /**\n\t     * A method decorator that will console warn when a method if invoked that is deprecated\n\t     *\n\t     * @param options Provide options which change the display of the message\n\t     */\n\t    function deprecatedDecorator(options) {\n\t        return function (target, propertyKey, descriptor) {\n\t            if (has_1.default('debug')) {\n\t                var originalFn_1 = descriptor.value;\n\t                options = options || {};\n\t                /* IE 10/11 don't have the name property on functions */\n\t                options.name = target.constructor.name ? target.constructor.name + \"#\" + propertyKey : propertyKey;\n\t                descriptor.value = function () {\n\t                    var args = [];\n\t                    for (var _i = 0; _i < arguments.length; _i++) {\n\t                        args[_i - 0] = arguments[_i];\n\t                    }\n\t                    deprecated(options);\n\t                    return originalFn_1.apply(target, args);\n\t                };\n\t            }\n\t            return descriptor;\n\t        };\n\t    }\n\t    exports.deprecatedDecorator = deprecatedDecorator;\n\t    /**\n\t     * A function that will set the warn function that will be used instead of `console.warn` when\n\t     * logging warning messages\n\t     *\n\t     * @param warn The function (or `undefined`) to use instead of `console.warn`\n\t     */\n\t    function setWarn(warn) {\n\t        globalWarn = warn;\n\t    }\n\t    exports.setWarn = setWarn;\n\t});\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(21), __webpack_require__(35), __webpack_require__(25), __webpack_require__(19), __webpack_require__(27)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var global_1 = __webpack_require__(21);\n\t    var queue_1 = __webpack_require__(35);\n\t    var iterator_1 = __webpack_require__(25);\n\t    __webpack_require__(19);\n\t    var decorators_1 = __webpack_require__(27);\n\t    var Shim;\n\t    (function (Shim) {\n\t        /**\n\t         * Returns true if a given value has a `then` method.\n\t         * @param {any} value The value to check if is Thenable\n\t         * @returns {is Thenable<T>} A type guard if the value is thenable\n\t         */\n\t        function isThenable(value) {\n\t            return value && typeof value.then === 'function';\n\t        }\n\t        Shim.isThenable = isThenable;\n\t        /**\n\t         * Promise is a partial implementation of the ES2015 Promise specification. It relies on Promise to do some safety\n\t         * checks such as verifying that a Promise isn't resolved with itself. This class is exported for testability, and is\n\t         * not intended to be used directly.\n\t         *\n\t         * @borrows Promise.all as Promise.all\n\t         * @borrows Promise.race as Promise.race\n\t         * @borrows Promise.reject as Promise.reject\n\t         * @borrows Promise.resolve as Promise.resolve\n\t         * @borrows Promise#catch as Promise#catch\n\t         * @borrows Promise#then as Promise#then\n\t         */\n\t        var Promise = (function () {\n\t            /**\n\t             * Creates a new Promise.\n\t             *\n\t             * @constructor\n\t             *\n\t             * @param executor\n\t             * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t             * starting the asynchronous operation when it is invoked.\n\t             *\n\t             * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t             * successfully, or the `reject` function when the operation fails.\n\t             */\n\t            function Promise(executor) {\n\t                var _this = this;\n\t                /**\n\t                 * The current state of this promise.\n\t                 */\n\t                this.state = 1 /* Pending */;\n\t                this[Symbol.toStringTag] = 'Promise';\n\t                /**\n\t                 * If true, the resolution of this promise is chained (\"locked in\") to another promise.\n\t                 */\n\t                var isChained = false;\n\t                /**\n\t                 * Whether or not this promise is in a resolved state.\n\t                 */\n\t                var isResolved = function () {\n\t                    return _this.state !== 1 /* Pending */ || isChained;\n\t                };\n\t                /**\n\t                 * Callbacks that should be invoked once the asynchronous operation has completed.\n\t                 */\n\t                var callbacks = [];\n\t                /**\n\t                 * Initially pushes callbacks onto a queue for execution once this promise settles. After the promise settles,\n\t                 * enqueues callbacks for execution on the next event loop turn.\n\t                 */\n\t                var whenFinished = function (callback) {\n\t                    if (callbacks) {\n\t                        callbacks.push(callback);\n\t                    }\n\t                };\n\t                /**\n\t                 * Settles this promise.\n\t                 *\n\t                 * @param newState The resolved state for this promise.\n\t                 * @param {T|Error} value The resolved value for this promise.\n\t                 */\n\t                var settle = function (newState, value) {\n\t                    // A promise can only be settled once.\n\t                    if (_this.state !== 1 /* Pending */) {\n\t                        return;\n\t                    }\n\t                    _this.state = newState;\n\t                    _this.resolvedValue = value;\n\t                    whenFinished = queue_1.queueMicroTask;\n\t                    // Only enqueue a callback runner if there are callbacks so that initially fulfilled Promises don't have to\n\t                    // wait an extra turn.\n\t                    if (callbacks && callbacks.length > 0) {\n\t                        queue_1.queueMicroTask(function () {\n\t                            if (callbacks) {\n\t                                var count = callbacks.length;\n\t                                for (var i = 0; i < count; ++i) {\n\t                                    callbacks[i].call(null);\n\t                                }\n\t                                callbacks = null;\n\t                            }\n\t                        });\n\t                    }\n\t                };\n\t                /**\n\t                 * Resolves this promise.\n\t                 *\n\t                 * @param newState The resolved state for this promise.\n\t                 * @param {T|Error} value The resolved value for this promise.\n\t                 */\n\t                var resolve = function (newState, value) {\n\t                    if (isResolved()) {\n\t                        return;\n\t                    }\n\t                    if (isThenable(value)) {\n\t                        value.then(settle.bind(null, 0 /* Fulfilled */), settle.bind(null, 2 /* Rejected */));\n\t                        isChained = true;\n\t                    }\n\t                    else {\n\t                        settle(newState, value);\n\t                    }\n\t                };\n\t                this.then = function (onFulfilled, onRejected) {\n\t                    return new Promise(function (resolve, reject) {\n\t                        // whenFinished initially queues up callbacks for execution after the promise has settled. Once the\n\t                        // promise has settled, whenFinished will schedule callbacks for execution on the next turn through the\n\t                        // event loop.\n\t                        whenFinished(function () {\n\t                            var callback = _this.state === 2 /* Rejected */ ? onRejected : onFulfilled;\n\t                            if (typeof callback === 'function') {\n\t                                try {\n\t                                    resolve(callback(_this.resolvedValue));\n\t                                }\n\t                                catch (error) {\n\t                                    reject(error);\n\t                                }\n\t                            }\n\t                            else if (_this.state === 2 /* Rejected */) {\n\t                                reject(_this.resolvedValue);\n\t                            }\n\t                            else {\n\t                                resolve(_this.resolvedValue);\n\t                            }\n\t                        });\n\t                    });\n\t                };\n\t                try {\n\t                    executor(resolve.bind(null, 0 /* Fulfilled */), resolve.bind(null, 2 /* Rejected */));\n\t                }\n\t                catch (error) {\n\t                    settle(2 /* Rejected */, error);\n\t                }\n\t            }\n\t            Promise.all = function (iterable) {\n\t                return new this(function (resolve, reject) {\n\t                    var values = [];\n\t                    var complete = 0;\n\t                    var total = 0;\n\t                    var populating = true;\n\t                    function fulfill(index, value) {\n\t                        values[index] = value;\n\t                        ++complete;\n\t                        finish();\n\t                    }\n\t                    function finish() {\n\t                        if (populating || complete < total) {\n\t                            return;\n\t                        }\n\t                        resolve(values);\n\t                    }\n\t                    function processItem(index, item) {\n\t                        ++total;\n\t                        if (item instanceof Promise) {\n\t                            // If an item Promise rejects, this Promise is immediately rejected with the item\n\t                            // Promise's rejection error.\n\t                            item.then(fulfill.bind(null, index), reject);\n\t                        }\n\t                        else {\n\t                            Promise.resolve(item).then(fulfill.bind(null, index));\n\t                        }\n\t                    }\n\t                    var i = 0;\n\t                    iterator_1.forOf(iterable, function (value) {\n\t                        processItem(i, value);\n\t                        i++;\n\t                    });\n\t                    populating = false;\n\t                    finish();\n\t                });\n\t            };\n\t            Promise.race = function (iterable) {\n\t                return new this(function (resolve, reject) {\n\t                    iterator_1.forOf(iterable, function (item) {\n\t                        if (item instanceof Promise) {\n\t                            // If a Promise item rejects, this Promise is immediately rejected with the item\n\t                            // Promise's rejection error.\n\t                            item.then(resolve, reject);\n\t                        }\n\t                        else {\n\t                            Promise.resolve(item).then(resolve);\n\t                        }\n\t                    });\n\t                });\n\t            };\n\t            Promise.reject = function (reason) {\n\t                return new this(function (resolve, reject) {\n\t                    reject(reason);\n\t                });\n\t            };\n\t            Promise.resolve = function (value) {\n\t                return new this(function (resolve) {\n\t                    resolve(value);\n\t                });\n\t            };\n\t            Promise.prototype.catch = function (onRejected) {\n\t                return this.then(undefined, onRejected);\n\t            };\n\t            return Promise;\n\t        }());\n\t        Shim.Promise = Promise;\n\t    })(Shim || (Shim = {}));\n\t    var Promise = (function () {\n\t        /**\n\t         * Creates a new Promise.\n\t         *\n\t         * @constructor\n\t         *\n\t         * @param executor\n\t         * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t         * starting the asynchronous operation when it is invoked.\n\t         *\n\t         * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t         * successfully, or the `reject` function when the operation fails.\n\t         */\n\t        /* istanbul ignore next */\n\t        function Promise(executor) {\n\t        }\n\t        /**\n\t         * Converts an iterable object containing promises into a single promise that resolves to a new iterable object\n\t         * containing the fulfilled values of all the promises in the iterable, in the same order as the Promises in the\n\t         * iterable. Iterable values that are not promises are converted to promises using Promise.resolve.\n\t         *\n\t         * @example\n\t         * Promise.all([ Promise.resolve('foo'), 'bar' ]).then(function (value) {\n\t         *     value[0] === 'foo'; // true\n\t         *     value[1] === 'bar'; // true\n\t         * });\n\t         *\n\t         * @example\n\t         * Promise.all({\n\t         *     foo: Promise.resolve('foo'),\n\t         *     bar: 'bar'\n\t         * }).then((value) => {\n\t         *     value.foo === 'foo'; // true\n\t         *     value.bar === 'bar'; // true\n\t         * });\n\t         */\n\t        /* istanbul ignore next */\n\t        Promise.all = function (iterable) {\n\t            throw new Error();\n\t        };\n\t        ;\n\t        /**\n\t         * Converts an iterable object containing promises into a single promise that resolves or rejects as soon as one of\n\t         * the promises in the iterable resolves or rejects, with the value of the resolved or rejected promise. Values in\n\t         * the iterable that are not Promises are converted to Promises with Promise.resolve.\n\t         *\n\t         * @example\n\t         * Promise.race([ Promise.resolve('foo'), Promise.resolve('bar') ]).then((value) => {\n\t         *     value === 'foo'; // true\n\t         * });\n\t         *\n\t         * @example\n\t         * Promise.race({\n\t         *     foo: Promise.resolve('foo'),\n\t         *     bar: Promise.resolve('bar')\n\t         * }).then((value) => {\n\t         *     value === 'foo'; // true\n\t         * });\n\t         */\n\t        /* istanbul ignore next */\n\t        Promise.race = function (iterable) {\n\t            throw new Error();\n\t        };\n\t        /**\n\t         * Creates a new promise that is rejected with the given error.\n\t         */\n\t        /* istanbul ignore next */\n\t        Promise.reject = function (reason) {\n\t            throw new Error();\n\t        };\n\t        /* istanbul ignore next */\n\t        Promise.resolve = function (value) {\n\t            throw new Error();\n\t        };\n\t        /* istanbul ignore next */\n\t        Promise.prototype.catch = function (onRejected) {\n\t            throw new Error();\n\t        };\n\t        /* istanbul ignore next */\n\t        Promise.prototype.then = function (onFulfilled, onRejected) {\n\t            throw new Error();\n\t        };\n\t        Promise = __decorate([\n\t            decorators_1.hasClass('es6-promise', global_1.default.Promise, Shim.Promise)\n\t        ], Promise);\n\t        return Promise;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = Promise;\n\t});\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(clearImmediate, setImmediate, process) {(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(21), __webpack_require__(22)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var global_1 = __webpack_require__(21);\n\t    var has_1 = __webpack_require__(22);\n\t    /**\n\t     * Executes a task\n\t     * @param item The task to execute\n\t     */\n\t    function executeTask(item) {\n\t        if (item && item.isActive) {\n\t            item.callback();\n\t        }\n\t    }\n\t    /**\n\t     * Get a handle to be able to remove an item from the queue\n\t     */\n\t    function getQueueHandle(item, destructor) {\n\t        return {\n\t            destroy: function () {\n\t                this.destroy = function () { };\n\t                if (item) {\n\t                    item.isActive = false;\n\t                }\n\t                if (destructor) {\n\t                    destructor();\n\t                }\n\t            }\n\t        };\n\t    }\n\t    var microTasks = [];\n\t    var microTaskQueued = false;\n\t    var checkMicroTaskQueue = function () { };\n\t    /**\n\t     * Schedules a callback to the macrotask queue.\n\t     *\n\t     * @param callback the function to be queued and later executed.\n\t     * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n\t     */\n\t    exports.queueTask = (function () {\n\t        var destructor;\n\t        var enqueue;\n\t        /* IE and Edge's setImmediate does not always resolve as a macro task, sometimes as a microtask */\n\t        if (has_1.default('postmessage')) {\n\t            var queue_1 = [];\n\t            addEventListener('message', function (event) {\n\t                // Confirm that the event was triggered by the current window and by this particular implementation.\n\t                if (event.source === global_1.default && event.data === 'dojo-queue-message') {\n\t                    event.stopPropagation();\n\t                    if (queue_1.length) {\n\t                        executeTask(queue_1.shift());\n\t                    }\n\t                }\n\t            });\n\t            enqueue = function (item) {\n\t                queue_1.push(item);\n\t                postMessage('dojo-queue-message', '*');\n\t            };\n\t        }\n\t        else if (has_1.default('setimmediate')) {\n\t            destructor = clearImmediate;\n\t            enqueue = function (item) {\n\t                return setImmediate(executeTask.bind(null, item));\n\t            };\n\t        }\n\t        else {\n\t            destructor = clearTimeout;\n\t            enqueue = function (item) {\n\t                return setTimeout(executeTask.bind(null, item), 0);\n\t            };\n\t        }\n\t        function queueTask(callback) {\n\t            var item = {\n\t                isActive: true,\n\t                callback: callback\n\t            };\n\t            var id = enqueue(item);\n\t            return getQueueHandle(item, destructor && function () {\n\t                destructor(id);\n\t            });\n\t        }\n\t        ;\n\t        // TODO: Use aspect.before when it is available.\n\t        return has_1.default('microtasks') ? queueTask : function (callback) {\n\t            checkMicroTaskQueue();\n\t            return queueTask(callback);\n\t        };\n\t    })();\n\t    checkMicroTaskQueue = !has_1.default('microtasks')\n\t        ? function () {\n\t            if (!microTaskQueued) {\n\t                microTaskQueued = true;\n\t                exports.queueTask(function () {\n\t                    microTaskQueued = false;\n\t                    if (microTasks.length) {\n\t                        var item = void 0;\n\t                        while (item = microTasks.shift()) {\n\t                            executeTask(item);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        } : checkMicroTaskQueue;\n\t    /**\n\t     * Schedules a callback to the microtask queue.\n\t     *\n\t     * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n\t     * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n\t     * registered with `queueTask` or `queueAnimationTask`.\n\t     *\n\t     * @param callback the function to be queued and later executed.\n\t     * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n\t     */\n\t    exports.queueMicroTask = (function () {\n\t        var enqueue;\n\t        if (has_1.default('host-node')) {\n\t            enqueue = function (item) {\n\t                process.nextTick(executeTask.bind(null, item));\n\t            };\n\t        }\n\t        else if (has_1.default('es6-promise') && !has_1.default('setimmediate') && !has_1.default('host-node')) {\n\t            enqueue = function (item) {\n\t                global_1.default.Promise.resolve(item).then(executeTask);\n\t            };\n\t        }\n\t        else if (has_1.default('dom-mutationobserver')) {\n\t            /* tslint:disable-next-line:variable-name */\n\t            var HostMutationObserver = global_1.default.MutationObserver || global_1.default.WebKitMutationObserver;\n\t            var node_1 = document.createElement('div');\n\t            var queue_2 = [];\n\t            var observer = new HostMutationObserver(function () {\n\t                while (queue_2.length > 0) {\n\t                    var item = queue_2.shift();\n\t                    if (item && item.isActive) {\n\t                        item.callback();\n\t                    }\n\t                }\n\t            });\n\t            observer.observe(node_1, { attributes: true });\n\t            enqueue = function (item) {\n\t                queue_2.push(item);\n\t                node_1.setAttribute('queueStatus', '1');\n\t            };\n\t        }\n\t        else {\n\t            enqueue = function (item) {\n\t                checkMicroTaskQueue();\n\t                microTasks.push(item);\n\t            };\n\t        }\n\t        return function (callback) {\n\t            var item = {\n\t                isActive: true,\n\t                callback: callback\n\t            };\n\t            enqueue(item);\n\t            return getQueueHandle(item);\n\t        };\n\t    })();\n\t});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(36).clearImmediate, __webpack_require__(36).setImmediate, __webpack_require__(24)))\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(24).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(36).setImmediate, __webpack_require__(36).clearImmediate))\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(34), __webpack_require__(18), __webpack_require__(16)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var Promise_1 = __webpack_require__(34);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var compose_1 = __webpack_require__(16);\n\t    /**\n\t     * A reference to a function that always returns a promise which resolves to false\n\t     */\n\t    function noop() {\n\t        return Promise_1.default.resolve(false);\n\t    }\n\t    ;\n\t    /**\n\t     * A reference to a function that throws, used to replace the `own()` method after\n\t     * destruction\n\t     */\n\t    function destroyed() {\n\t        throw new Error('Call made to destroyed method');\n\t    }\n\t    ;\n\t    /**\n\t     * A weak map for *owning* handles on instances\n\t     */\n\t    var handlesWeakMap = new WeakMap_1.default();\n\t    /**\n\t     * A type guard that determines if the value is a Destroyable\n\t     *\n\t     * @param value The value to guard for\n\t     */\n\t    function isDestroyable(value) {\n\t        return Boolean(value && 'destroy' in value && typeof value.destroy === 'function');\n\t    }\n\t    exports.isDestroyable = isDestroyable;\n\t    /**\n\t     * A mixin which adds the concepts of being able to *destroy* handles which the instance\n\t     * *owns*\n\t     */\n\t    var createDestroyable = compose_1.default('Destroyable', {\n\t        own: function (handle) {\n\t            var handles = handlesWeakMap.get(this);\n\t            handles.push(handle);\n\t            return {\n\t                destroy: function () {\n\t                    handles.splice(handles.indexOf(handle));\n\t                    handle.destroy();\n\t                }\n\t            };\n\t        },\n\t        destroy: function () {\n\t            var _this = this;\n\t            return new Promise_1.default(function (resolve) {\n\t                handlesWeakMap.get(_this).forEach(function (handle) {\n\t                    handle && handle.destroy && handle.destroy();\n\t                });\n\t                _this.destroy = noop;\n\t                _this.own = destroyed;\n\t                resolve(true);\n\t            });\n\t        }\n\t    }, function (instance) {\n\t        handlesWeakMap.set(instance, []);\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createDestroyable;\n\t});\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(39), __webpack_require__(41), __webpack_require__(42)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, root_1, observable_1, toSubscriber_1) {\n\t    \"use strict\";\n\t    /**\n\t     * A representation of any set of values over any amount of time. This the most basic building block\n\t     * of RxJS.\n\t     *\n\t     * @class Observable<T>\n\t     */\n\t    var Observable = (function () {\n\t        /**\n\t         * @constructor\n\t         * @param {Function} subscribe the function that is  called when the Observable is\n\t         * initially subscribed to. This function is given a Subscriber, to which new values\n\t         * can be `next`ed, or an `error` method can be called to raise an error, or\n\t         * `complete` can be called to notify of a successful completion.\n\t         */\n\t        function Observable(subscribe) {\n\t            this._isScalar = false;\n\t            if (subscribe) {\n\t                this._subscribe = subscribe;\n\t            }\n\t        }\n\t        /**\n\t         * Creates a new Observable, with this Observable as the source, and the passed\n\t         * operator defined as the new observable's operator.\n\t         * @method lift\n\t         * @param {Operator} operator the operator defining the operation to take on the observable\n\t         * @return {Observable} a new observable with the Operator applied\n\t         */\n\t        Observable.prototype.lift = function (operator) {\n\t            var observable = new Observable();\n\t            observable.source = this;\n\t            observable.operator = operator;\n\t            return observable;\n\t        };\n\t        /**\n\t         * Registers handlers for handling emitted values, error and completions from the observable, and\n\t         *  executes the observable's subscriber function, which will take action to set up the underlying data stream\n\t         * @method subscribe\n\t         * @param {PartialObserver|Function} observerOrNext (optional) either an observer defining all functions to be called,\n\t         *  or the first of three possible handlers, which is the handler for each value emitted from the observable.\n\t         * @param {Function} error (optional) a handler for a terminal event resulting from an error. If no error handler is provided,\n\t         *  the error will be thrown as unhandled\n\t         * @param {Function} complete (optional) a handler for a terminal event resulting from successful completion.\n\t         * @return {ISubscription} a subscription reference to the registered handlers\n\t         */\n\t        Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n\t            var operator = this.operator;\n\t            var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n\t            sink.add(operator ? operator.call(sink, this) : this._subscribe(sink));\n\t            if (sink.syncErrorThrowable) {\n\t                sink.syncErrorThrowable = false;\n\t                if (sink.syncErrorThrown) {\n\t                    throw sink.syncErrorValue;\n\t                }\n\t            }\n\t            return sink;\n\t        };\n\t        /**\n\t         * @method forEach\n\t         * @param {Function} next a handler for each value emitted by the observable\n\t         * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n\t         * @return {Promise} a promise that either resolves on observable completion or\n\t         *  rejects with the handled error\n\t         */\n\t        Observable.prototype.forEach = function (next, PromiseCtor) {\n\t            var _this = this;\n\t            if (!PromiseCtor) {\n\t                if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n\t                    PromiseCtor = root_1.root.Rx.config.Promise;\n\t                }\n\t                else if (root_1.root.Promise) {\n\t                    PromiseCtor = root_1.root.Promise;\n\t                }\n\t            }\n\t            if (!PromiseCtor) {\n\t                throw new Error('no Promise impl found');\n\t            }\n\t            return new PromiseCtor(function (resolve, reject) {\n\t                var subscription = _this.subscribe(function (value) {\n\t                    if (subscription) {\n\t                        // if there is a subscription, then we can surmise\n\t                        // the next handling is asynchronous. Any errors thrown\n\t                        // need to be rejected explicitly and unsubscribe must be\n\t                        // called manually\n\t                        try {\n\t                            next(value);\n\t                        }\n\t                        catch (err) {\n\t                            reject(err);\n\t                            subscription.unsubscribe();\n\t                        }\n\t                    }\n\t                    else {\n\t                        // if there is NO subscription, then we're getting a nexted\n\t                        // value synchronously during subscription. We can just call it.\n\t                        // If it errors, Observable's `subscribe` imple will ensure the\n\t                        // unsubscription logic is called, then synchronously rethrow the error.\n\t                        // After that, Promise will trap the error and send it\n\t                        // down the rejection path.\n\t                        next(value);\n\t                    }\n\t                }, reject, resolve);\n\t            });\n\t        };\n\t        Observable.prototype._subscribe = function (subscriber) {\n\t            return this.source.subscribe(subscriber);\n\t        };\n\t        /**\n\t         * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n\t         * @method Symbol.observable\n\t         * @return {Observable} this instance of the observable\n\t         */\n\t        Observable.prototype[observable_1.$$observable] = function () {\n\t            return this;\n\t        };\n\t        // HACK: Since TypeScript inherits static properties too, we have to\n\t        // fight against TypeScript here so Subject can have a different static create signature\n\t        /**\n\t         * Creates a new cold Observable by calling the Observable constructor\n\t         * @static true\n\t         * @owner Observable\n\t         * @method create\n\t         * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n\t         * @return {Observable} a new cold observable\n\t         */\n\t        Observable.create = function (subscribe) {\n\t            return new Observable(subscribe);\n\t        };\n\t        return Observable;\n\t    }());\n\t    exports.Observable = Observable;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=Observable.js.map\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    var objectTypes = {\n\t        'boolean': false,\n\t        'function': true,\n\t        'object': true,\n\t        'number': false,\n\t        'string': false,\n\t        'undefined': false\n\t    };\n\t    exports.root = (objectTypes[typeof self] && self) || (objectTypes[typeof window] && window);\n\t    /* tslint:disable:no-unused-variable */\n\t    var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\t    var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\t    var freeGlobal = objectTypes[typeof global] && global;\n\t    if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n\t        exports.root = freeGlobal;\n\t    }\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=root.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(40)(module), (function() { return this; }())))\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\n\t\tif(!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function() {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t}\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(39)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, root_1) {\n\t    \"use strict\";\n\t    var Symbol = root_1.root.Symbol;\n\t    if (typeof Symbol === 'function') {\n\t        if (Symbol.observable) {\n\t            exports.$$observable = Symbol.observable;\n\t        }\n\t        else {\n\t            if (typeof Symbol.for === 'function') {\n\t                exports.$$observable = Symbol.for('observable');\n\t            }\n\t            else {\n\t                exports.$$observable = Symbol('observable');\n\t            }\n\t            Symbol.observable = exports.$$observable;\n\t        }\n\t    }\n\t    else {\n\t        exports.$$observable = '@@observable';\n\t    }\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=observable.js.map\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(43), __webpack_require__(51)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, Subscriber_1, rxSubscriber_1) {\n\t    \"use strict\";\n\t    function toSubscriber(nextOrObserver, error, complete) {\n\t        if (nextOrObserver && typeof nextOrObserver === 'object') {\n\t            if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n\t                return nextOrObserver;\n\t            }\n\t            else if (typeof nextOrObserver[rxSubscriber_1.$$rxSubscriber] === 'function') {\n\t                return nextOrObserver[rxSubscriber_1.$$rxSubscriber]();\n\t            }\n\t        }\n\t        return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n\t    }\n\t    exports.toSubscriber = toSubscriber;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=toSubscriber.js.map\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(44), __webpack_require__(45), __webpack_require__(51), __webpack_require__(52)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, isFunction_1, Subscription_1, rxSubscriber_1, Observer_1) {\n\t    \"use strict\";\n\t    /**\n\t     * Implements the {@link Observer} interface and extends the\n\t     * {@link Subscription} class. While the {@link Observer} is the public API for\n\t     * consuming the values of an {@link Observable}, all Observers get converted to\n\t     * a Subscriber, in order to provide Subscription-like capabilities such as\n\t     * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n\t     * implementing operators, but it is rarely used as a public API.\n\t     *\n\t     * @class Subscriber<T>\n\t     */\n\t    var Subscriber = (function (_super) {\n\t        __extends(Subscriber, _super);\n\t        /**\n\t         * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n\t         * defined Observer or a `next` callback function.\n\t         * @param {function(e: ?any): void} [error] The `error` callback of an\n\t         * Observer.\n\t         * @param {function(): void} [complete] The `complete` callback of an\n\t         * Observer.\n\t         */\n\t        function Subscriber(destinationOrNext, error, complete) {\n\t            _super.call(this);\n\t            this.syncErrorValue = null;\n\t            this.syncErrorThrown = false;\n\t            this.syncErrorThrowable = false;\n\t            this.isStopped = false;\n\t            switch (arguments.length) {\n\t                case 0:\n\t                    this.destination = Observer_1.empty;\n\t                    break;\n\t                case 1:\n\t                    if (!destinationOrNext) {\n\t                        this.destination = Observer_1.empty;\n\t                        break;\n\t                    }\n\t                    if (typeof destinationOrNext === 'object') {\n\t                        if (destinationOrNext instanceof Subscriber) {\n\t                            this.destination = destinationOrNext;\n\t                            this.destination.add(this);\n\t                        }\n\t                        else {\n\t                            this.syncErrorThrowable = true;\n\t                            this.destination = new SafeSubscriber(this, destinationOrNext);\n\t                        }\n\t                        break;\n\t                    }\n\t                default:\n\t                    this.syncErrorThrowable = true;\n\t                    this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n\t                    break;\n\t            }\n\t        }\n\t        /**\n\t         * A static factory for a Subscriber, given a (potentially partial) definition\n\t         * of an Observer.\n\t         * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n\t         * @param {function(e: ?any): void} [error] The `error` callback of an\n\t         * Observer.\n\t         * @param {function(): void} [complete] The `complete` callback of an\n\t         * Observer.\n\t         * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n\t         * Observer represented by the given arguments.\n\t         */\n\t        Subscriber.create = function (next, error, complete) {\n\t            var subscriber = new Subscriber(next, error, complete);\n\t            subscriber.syncErrorThrowable = false;\n\t            return subscriber;\n\t        };\n\t        /**\n\t         * The {@link Observer} callback to receive notifications of type `next` from\n\t         * the Observable, with a value. The Observable may call this method 0 or more\n\t         * times.\n\t         * @param {T} [value] The `next` value.\n\t         * @return {void}\n\t         */\n\t        Subscriber.prototype.next = function (value) {\n\t            if (!this.isStopped) {\n\t                this._next(value);\n\t            }\n\t        };\n\t        /**\n\t         * The {@link Observer} callback to receive notifications of type `error` from\n\t         * the Observable, with an attached {@link Error}. Notifies the Observer that\n\t         * the Observable has experienced an error condition.\n\t         * @param {any} [err] The `error` exception.\n\t         * @return {void}\n\t         */\n\t        Subscriber.prototype.error = function (err) {\n\t            if (!this.isStopped) {\n\t                this.isStopped = true;\n\t                this._error(err);\n\t            }\n\t        };\n\t        /**\n\t         * The {@link Observer} callback to receive a valueless notification of type\n\t         * `complete` from the Observable. Notifies the Observer that the Observable\n\t         * has finished sending push-based notifications.\n\t         * @return {void}\n\t         */\n\t        Subscriber.prototype.complete = function () {\n\t            if (!this.isStopped) {\n\t                this.isStopped = true;\n\t                this._complete();\n\t            }\n\t        };\n\t        Subscriber.prototype.unsubscribe = function () {\n\t            if (this.isUnsubscribed) {\n\t                return;\n\t            }\n\t            this.isStopped = true;\n\t            _super.prototype.unsubscribe.call(this);\n\t        };\n\t        Subscriber.prototype._next = function (value) {\n\t            this.destination.next(value);\n\t        };\n\t        Subscriber.prototype._error = function (err) {\n\t            this.destination.error(err);\n\t            this.unsubscribe();\n\t        };\n\t        Subscriber.prototype._complete = function () {\n\t            this.destination.complete();\n\t            this.unsubscribe();\n\t        };\n\t        Subscriber.prototype[rxSubscriber_1.$$rxSubscriber] = function () {\n\t            return this;\n\t        };\n\t        return Subscriber;\n\t    }(Subscription_1.Subscription));\n\t    exports.Subscriber = Subscriber;\n\t    /**\n\t     * We need this JSDoc comment for affecting ESDoc.\n\t     * @ignore\n\t     * @extends {Ignored}\n\t     */\n\t    var SafeSubscriber = (function (_super) {\n\t        __extends(SafeSubscriber, _super);\n\t        function SafeSubscriber(_parent, observerOrNext, error, complete) {\n\t            _super.call(this);\n\t            this._parent = _parent;\n\t            var next;\n\t            var context = this;\n\t            if (isFunction_1.isFunction(observerOrNext)) {\n\t                next = observerOrNext;\n\t            }\n\t            else if (observerOrNext) {\n\t                context = observerOrNext;\n\t                next = observerOrNext.next;\n\t                error = observerOrNext.error;\n\t                complete = observerOrNext.complete;\n\t                if (isFunction_1.isFunction(context.unsubscribe)) {\n\t                    this.add(context.unsubscribe.bind(context));\n\t                }\n\t                context.unsubscribe = this.unsubscribe.bind(this);\n\t            }\n\t            this._context = context;\n\t            this._next = next;\n\t            this._error = error;\n\t            this._complete = complete;\n\t        }\n\t        SafeSubscriber.prototype.next = function (value) {\n\t            if (!this.isStopped && this._next) {\n\t                var _parent = this._parent;\n\t                if (!_parent.syncErrorThrowable) {\n\t                    this.__tryOrUnsub(this._next, value);\n\t                }\n\t                else if (this.__tryOrSetError(_parent, this._next, value)) {\n\t                    this.unsubscribe();\n\t                }\n\t            }\n\t        };\n\t        SafeSubscriber.prototype.error = function (err) {\n\t            if (!this.isStopped) {\n\t                var _parent = this._parent;\n\t                if (this._error) {\n\t                    if (!_parent.syncErrorThrowable) {\n\t                        this.__tryOrUnsub(this._error, err);\n\t                        this.unsubscribe();\n\t                    }\n\t                    else {\n\t                        this.__tryOrSetError(_parent, this._error, err);\n\t                        this.unsubscribe();\n\t                    }\n\t                }\n\t                else if (!_parent.syncErrorThrowable) {\n\t                    this.unsubscribe();\n\t                    throw err;\n\t                }\n\t                else {\n\t                    _parent.syncErrorValue = err;\n\t                    _parent.syncErrorThrown = true;\n\t                    this.unsubscribe();\n\t                }\n\t            }\n\t        };\n\t        SafeSubscriber.prototype.complete = function () {\n\t            if (!this.isStopped) {\n\t                var _parent = this._parent;\n\t                if (this._complete) {\n\t                    if (!_parent.syncErrorThrowable) {\n\t                        this.__tryOrUnsub(this._complete);\n\t                        this.unsubscribe();\n\t                    }\n\t                    else {\n\t                        this.__tryOrSetError(_parent, this._complete);\n\t                        this.unsubscribe();\n\t                    }\n\t                }\n\t                else {\n\t                    this.unsubscribe();\n\t                }\n\t            }\n\t        };\n\t        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n\t            try {\n\t                fn.call(this._context, value);\n\t            }\n\t            catch (err) {\n\t                this.unsubscribe();\n\t                throw err;\n\t            }\n\t        };\n\t        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n\t            try {\n\t                fn.call(this._context, value);\n\t            }\n\t            catch (err) {\n\t                parent.syncErrorValue = err;\n\t                parent.syncErrorThrown = true;\n\t                return true;\n\t            }\n\t            return false;\n\t        };\n\t        SafeSubscriber.prototype._unsubscribe = function () {\n\t            var _parent = this._parent;\n\t            this._context = null;\n\t            this._parent = null;\n\t            _parent.unsubscribe();\n\t        };\n\t        return SafeSubscriber;\n\t    }(Subscriber));\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=Subscriber.js.map\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    function isFunction(x) {\n\t        return typeof x === 'function';\n\t    }\n\t    exports.isFunction = isFunction;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=isFunction.js.map\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(46), __webpack_require__(47), __webpack_require__(44), __webpack_require__(48), __webpack_require__(49), __webpack_require__(50)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, isArray_1, isObject_1, isFunction_1, tryCatch_1, errorObject_1, UnsubscriptionError_1) {\n\t    \"use strict\";\n\t    /**\n\t     * Represents a disposable resource, such as the execution of an Observable. A\n\t     * Subscription has one important method, `unsubscribe`, that takes no argument\n\t     * and just disposes the resource held by the subscription.\n\t     *\n\t     * Additionally, subscriptions may be grouped together through the `add()`\n\t     * method, which will attach a child Subscription to the current Subscription.\n\t     * When a Subscription is unsubscribed, all its children (and its grandchildren)\n\t     * will be unsubscribed as well.\n\t     *\n\t     * @class Subscription\n\t     */\n\t    var Subscription = (function () {\n\t        /**\n\t         * @param {function(): void} [unsubscribe] A function describing how to\n\t         * perform the disposal of resources when the `unsubscribe` method is called.\n\t         */\n\t        function Subscription(unsubscribe) {\n\t            /**\n\t             * A flag to indicate whether this Subscription has already been unsubscribed.\n\t             * @type {boolean}\n\t             */\n\t            this.isUnsubscribed = false;\n\t            if (unsubscribe) {\n\t                this._unsubscribe = unsubscribe;\n\t            }\n\t        }\n\t        /**\n\t         * Disposes the resources held by the subscription. May, for instance, cancel\n\t         * an ongoing Observable execution or cancel any other type of work that\n\t         * started when the Subscription was created.\n\t         * @return {void}\n\t         */\n\t        Subscription.prototype.unsubscribe = function () {\n\t            var hasErrors = false;\n\t            var errors;\n\t            if (this.isUnsubscribed) {\n\t                return;\n\t            }\n\t            this.isUnsubscribed = true;\n\t            var _a = this, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n\t            this._subscriptions = null;\n\t            if (isFunction_1.isFunction(_unsubscribe)) {\n\t                var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n\t                if (trial === errorObject_1.errorObject) {\n\t                    hasErrors = true;\n\t                    (errors = errors || []).push(errorObject_1.errorObject.e);\n\t                }\n\t            }\n\t            if (isArray_1.isArray(_subscriptions)) {\n\t                var index = -1;\n\t                var len = _subscriptions.length;\n\t                while (++index < len) {\n\t                    var sub = _subscriptions[index];\n\t                    if (isObject_1.isObject(sub)) {\n\t                        var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n\t                        if (trial === errorObject_1.errorObject) {\n\t                            hasErrors = true;\n\t                            errors = errors || [];\n\t                            var err = errorObject_1.errorObject.e;\n\t                            if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n\t                                errors = errors.concat(err.errors);\n\t                            }\n\t                            else {\n\t                                errors.push(err);\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            if (hasErrors) {\n\t                throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n\t            }\n\t        };\n\t        /**\n\t         * Adds a tear down to be called during the unsubscribe() of this\n\t         * Subscription.\n\t         *\n\t         * If the tear down being added is a subscription that is already\n\t         * unsubscribed, is the same reference `add` is being called on, or is\n\t         * `Subscription.EMPTY`, it will not be added.\n\t         *\n\t         * If this subscription is already in an `isUnsubscribed` state, the passed\n\t         * tear down logic will be executed immediately.\n\t         *\n\t         * @param {TeardownLogic} teardown The additional logic to execute on\n\t         * teardown.\n\t         * @return {Subscription} Returns the Subscription used or created to be\n\t         * added to the inner subscriptions list. This Subscription can be used with\n\t         * `remove()` to remove the passed teardown logic from the inner subscriptions\n\t         * list.\n\t         */\n\t        Subscription.prototype.add = function (teardown) {\n\t            if (!teardown || (teardown === this) || (teardown === Subscription.EMPTY)) {\n\t                return;\n\t            }\n\t            var sub = teardown;\n\t            switch (typeof teardown) {\n\t                case 'function':\n\t                    sub = new Subscription(teardown);\n\t                case 'object':\n\t                    if (sub.isUnsubscribed || typeof sub.unsubscribe !== 'function') {\n\t                        break;\n\t                    }\n\t                    else if (this.isUnsubscribed) {\n\t                        sub.unsubscribe();\n\t                    }\n\t                    else {\n\t                        (this._subscriptions || (this._subscriptions = [])).push(sub);\n\t                    }\n\t                    break;\n\t                default:\n\t                    throw new Error('Unrecognized teardown ' + teardown + ' added to Subscription.');\n\t            }\n\t            return sub;\n\t        };\n\t        /**\n\t         * Removes a Subscription from the internal list of subscriptions that will\n\t         * unsubscribe during the unsubscribe process of this Subscription.\n\t         * @param {Subscription} subscription The subscription to remove.\n\t         * @return {void}\n\t         */\n\t        Subscription.prototype.remove = function (subscription) {\n\t            // HACK: This might be redundant because of the logic in `add()`\n\t            if (subscription == null || (subscription === this) || (subscription === Subscription.EMPTY)) {\n\t                return;\n\t            }\n\t            var subscriptions = this._subscriptions;\n\t            if (subscriptions) {\n\t                var subscriptionIndex = subscriptions.indexOf(subscription);\n\t                if (subscriptionIndex !== -1) {\n\t                    subscriptions.splice(subscriptionIndex, 1);\n\t                }\n\t            }\n\t        };\n\t        Subscription.EMPTY = (function (empty) {\n\t            empty.isUnsubscribed = true;\n\t            return empty;\n\t        }(new Subscription()));\n\t        return Subscription;\n\t    }());\n\t    exports.Subscription = Subscription;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=Subscription.js.map\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    exports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=isArray.js.map\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    function isObject(x) {\n\t        return x != null && typeof x === 'object';\n\t    }\n\t    exports.isObject = isObject;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=isObject.js.map\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(49)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, errorObject_1) {\n\t    \"use strict\";\n\t    var tryCatchTarget;\n\t    function tryCatcher() {\n\t        try {\n\t            return tryCatchTarget.apply(this, arguments);\n\t        }\n\t        catch (e) {\n\t            errorObject_1.errorObject.e = e;\n\t            return errorObject_1.errorObject;\n\t        }\n\t    }\n\t    function tryCatch(fn) {\n\t        tryCatchTarget = fn;\n\t        return tryCatcher;\n\t    }\n\t    exports.tryCatch = tryCatch;\n\t    ;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=tryCatch.js.map\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    // typeof any so that it we don't have to cast when comparing a result to the error object\n\t    exports.errorObject = { e: {} };\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=errorObject.js.map\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    /**\n\t     * An error thrown when one or more errors have occurred during the\n\t     * `unsubscribe` of a {@link Subscription}.\n\t     */\n\t    var UnsubscriptionError = (function (_super) {\n\t        __extends(UnsubscriptionError, _super);\n\t        function UnsubscriptionError(errors) {\n\t            _super.call(this);\n\t            this.errors = errors;\n\t            this.name = 'UnsubscriptionError';\n\t            this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n') : '';\n\t        }\n\t        return UnsubscriptionError;\n\t    }(Error));\n\t    exports.UnsubscriptionError = UnsubscriptionError;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=UnsubscriptionError.js.map\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(39)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, root_1) {\n\t    \"use strict\";\n\t    var Symbol = root_1.root.Symbol;\n\t    exports.$$rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n\t        Symbol.for('rxSubscriber') : '@@rxSubscriber';\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=rxSubscriber.js.map\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    exports.empty = {\n\t        isUnsubscribed: true,\n\t        next: function (value) { },\n\t        error: function (err) { throw err; },\n\t        complete: function () { }\n\t    };\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t//# sourceMappingURL=Observer.js.map\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t *  Copyright (c) 2014-2015, Facebook, Inc.\n\t *  All rights reserved.\n\t *\n\t *  This source code is licensed under the BSD-style license found in the\n\t *  LICENSE file in the root directory of this source tree. An additional grant\n\t *  of patent rights can be found in the PATENTS file in the same directory.\n\t */\n\t\n\t(function (global, factory) {\n\t   true ? module.exports = factory() :\n\t  typeof define === 'function' && define.amd ? define(factory) :\n\t  (global.Immutable = factory());\n\t}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\t\n\t  function createClass(ctor, superClass) {\n\t    if (superClass) {\n\t      ctor.prototype = Object.create(superClass.prototype);\n\t    }\n\t    ctor.prototype.constructor = ctor;\n\t  }\n\t\n\t  function Iterable(value) {\n\t      return isIterable(value) ? value : Seq(value);\n\t    }\n\t\n\t\n\t  createClass(KeyedIterable, Iterable);\n\t    function KeyedIterable(value) {\n\t      return isKeyed(value) ? value : KeyedSeq(value);\n\t    }\n\t\n\t\n\t  createClass(IndexedIterable, Iterable);\n\t    function IndexedIterable(value) {\n\t      return isIndexed(value) ? value : IndexedSeq(value);\n\t    }\n\t\n\t\n\t  createClass(SetIterable, Iterable);\n\t    function SetIterable(value) {\n\t      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n\t    }\n\t\n\t\n\t\n\t  function isIterable(maybeIterable) {\n\t    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n\t  }\n\t\n\t  function isKeyed(maybeKeyed) {\n\t    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n\t  }\n\t\n\t  function isIndexed(maybeIndexed) {\n\t    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n\t  }\n\t\n\t  function isAssociative(maybeAssociative) {\n\t    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n\t  }\n\t\n\t  function isOrdered(maybeOrdered) {\n\t    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n\t  }\n\t\n\t  Iterable.isIterable = isIterable;\n\t  Iterable.isKeyed = isKeyed;\n\t  Iterable.isIndexed = isIndexed;\n\t  Iterable.isAssociative = isAssociative;\n\t  Iterable.isOrdered = isOrdered;\n\t\n\t  Iterable.Keyed = KeyedIterable;\n\t  Iterable.Indexed = IndexedIterable;\n\t  Iterable.Set = SetIterable;\n\t\n\t\n\t  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n\t  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n\t  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n\t  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\t\n\t  // Used for setting prototype methods that IE8 chokes on.\n\t  var DELETE = 'delete';\n\t\n\t  // Constants describing the size of trie nodes.\n\t  var SHIFT = 5; // Resulted in best performance after ______?\n\t  var SIZE = 1 << SHIFT;\n\t  var MASK = SIZE - 1;\n\t\n\t  // A consistent shared value representing \"not set\" which equals nothing other\n\t  // than itself, and nothing that could be provided externally.\n\t  var NOT_SET = {};\n\t\n\t  // Boolean references, Rough equivalent of `bool &`.\n\t  var CHANGE_LENGTH = { value: false };\n\t  var DID_ALTER = { value: false };\n\t\n\t  function MakeRef(ref) {\n\t    ref.value = false;\n\t    return ref;\n\t  }\n\t\n\t  function SetRef(ref) {\n\t    ref && (ref.value = true);\n\t  }\n\t\n\t  // A function which returns a value representing an \"owner\" for transient writes\n\t  // to tries. The return value will only ever equal itself, and will not equal\n\t  // the return of any subsequent call of this function.\n\t  function OwnerID() {}\n\t\n\t  // http://jsperf.com/copy-array-inline\n\t  function arrCopy(arr, offset) {\n\t    offset = offset || 0;\n\t    var len = Math.max(0, arr.length - offset);\n\t    var newArr = new Array(len);\n\t    for (var ii = 0; ii < len; ii++) {\n\t      newArr[ii] = arr[ii + offset];\n\t    }\n\t    return newArr;\n\t  }\n\t\n\t  function ensureSize(iter) {\n\t    if (iter.size === undefined) {\n\t      iter.size = iter.__iterate(returnTrue);\n\t    }\n\t    return iter.size;\n\t  }\n\t\n\t  function wrapIndex(iter, index) {\n\t    // This implements \"is array index\" which the ECMAString spec defines as:\n\t    //\n\t    //     A String property name P is an array index if and only if\n\t    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n\t    //     to 2^32−1.\n\t    //\n\t    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n\t    if (typeof index !== 'number') {\n\t      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n\t      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n\t        return NaN;\n\t      }\n\t      index = uint32Index;\n\t    }\n\t    return index < 0 ? ensureSize(iter) + index : index;\n\t  }\n\t\n\t  function returnTrue() {\n\t    return true;\n\t  }\n\t\n\t  function wholeSlice(begin, end, size) {\n\t    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n\t      (end === undefined || (size !== undefined && end >= size));\n\t  }\n\t\n\t  function resolveBegin(begin, size) {\n\t    return resolveIndex(begin, size, 0);\n\t  }\n\t\n\t  function resolveEnd(end, size) {\n\t    return resolveIndex(end, size, size);\n\t  }\n\t\n\t  function resolveIndex(index, size, defaultIndex) {\n\t    return index === undefined ?\n\t      defaultIndex :\n\t      index < 0 ?\n\t        Math.max(0, size + index) :\n\t        size === undefined ?\n\t          index :\n\t          Math.min(size, index);\n\t  }\n\t\n\t  /* global Symbol */\n\t\n\t  var ITERATE_KEYS = 0;\n\t  var ITERATE_VALUES = 1;\n\t  var ITERATE_ENTRIES = 2;\n\t\n\t  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n\t  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\t\n\t  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\t\n\t\n\t  function Iterator(next) {\n\t      this.next = next;\n\t    }\n\t\n\t    Iterator.prototype.toString = function() {\n\t      return '[Iterator]';\n\t    };\n\t\n\t\n\t  Iterator.KEYS = ITERATE_KEYS;\n\t  Iterator.VALUES = ITERATE_VALUES;\n\t  Iterator.ENTRIES = ITERATE_ENTRIES;\n\t\n\t  Iterator.prototype.inspect =\n\t  Iterator.prototype.toSource = function () { return this.toString(); }\n\t  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n\t    return this;\n\t  };\n\t\n\t\n\t  function iteratorValue(type, k, v, iteratorResult) {\n\t    var value = type === 0 ? k : type === 1 ? v : [k, v];\n\t    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n\t      value: value, done: false\n\t    });\n\t    return iteratorResult;\n\t  }\n\t\n\t  function iteratorDone() {\n\t    return { value: undefined, done: true };\n\t  }\n\t\n\t  function hasIterator(maybeIterable) {\n\t    return !!getIteratorFn(maybeIterable);\n\t  }\n\t\n\t  function isIterator(maybeIterator) {\n\t    return maybeIterator && typeof maybeIterator.next === 'function';\n\t  }\n\t\n\t  function getIterator(iterable) {\n\t    var iteratorFn = getIteratorFn(iterable);\n\t    return iteratorFn && iteratorFn.call(iterable);\n\t  }\n\t\n\t  function getIteratorFn(iterable) {\n\t    var iteratorFn = iterable && (\n\t      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n\t      iterable[FAUX_ITERATOR_SYMBOL]\n\t    );\n\t    if (typeof iteratorFn === 'function') {\n\t      return iteratorFn;\n\t    }\n\t  }\n\t\n\t  function isArrayLike(value) {\n\t    return value && typeof value.length === 'number';\n\t  }\n\t\n\t  createClass(Seq, Iterable);\n\t    function Seq(value) {\n\t      return value === null || value === undefined ? emptySequence() :\n\t        isIterable(value) ? value.toSeq() : seqFromValue(value);\n\t    }\n\t\n\t    Seq.of = function(/*...values*/) {\n\t      return Seq(arguments);\n\t    };\n\t\n\t    Seq.prototype.toSeq = function() {\n\t      return this;\n\t    };\n\t\n\t    Seq.prototype.toString = function() {\n\t      return this.__toString('Seq {', '}');\n\t    };\n\t\n\t    Seq.prototype.cacheResult = function() {\n\t      if (!this._cache && this.__iterateUncached) {\n\t        this._cache = this.entrySeq().toArray();\n\t        this.size = this._cache.length;\n\t      }\n\t      return this;\n\t    };\n\t\n\t    // abstract __iterateUncached(fn, reverse)\n\t\n\t    Seq.prototype.__iterate = function(fn, reverse) {\n\t      return seqIterate(this, fn, reverse, true);\n\t    };\n\t\n\t    // abstract __iteratorUncached(type, reverse)\n\t\n\t    Seq.prototype.__iterator = function(type, reverse) {\n\t      return seqIterator(this, type, reverse, true);\n\t    };\n\t\n\t\n\t\n\t  createClass(KeyedSeq, Seq);\n\t    function KeyedSeq(value) {\n\t      return value === null || value === undefined ?\n\t        emptySequence().toKeyedSeq() :\n\t        isIterable(value) ?\n\t          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n\t          keyedSeqFromValue(value);\n\t    }\n\t\n\t    KeyedSeq.prototype.toKeyedSeq = function() {\n\t      return this;\n\t    };\n\t\n\t\n\t\n\t  createClass(IndexedSeq, Seq);\n\t    function IndexedSeq(value) {\n\t      return value === null || value === undefined ? emptySequence() :\n\t        !isIterable(value) ? indexedSeqFromValue(value) :\n\t        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n\t    }\n\t\n\t    IndexedSeq.of = function(/*...values*/) {\n\t      return IndexedSeq(arguments);\n\t    };\n\t\n\t    IndexedSeq.prototype.toIndexedSeq = function() {\n\t      return this;\n\t    };\n\t\n\t    IndexedSeq.prototype.toString = function() {\n\t      return this.__toString('Seq [', ']');\n\t    };\n\t\n\t    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n\t      return seqIterate(this, fn, reverse, false);\n\t    };\n\t\n\t    IndexedSeq.prototype.__iterator = function(type, reverse) {\n\t      return seqIterator(this, type, reverse, false);\n\t    };\n\t\n\t\n\t\n\t  createClass(SetSeq, Seq);\n\t    function SetSeq(value) {\n\t      return (\n\t        value === null || value === undefined ? emptySequence() :\n\t        !isIterable(value) ? indexedSeqFromValue(value) :\n\t        isKeyed(value) ? value.entrySeq() : value\n\t      ).toSetSeq();\n\t    }\n\t\n\t    SetSeq.of = function(/*...values*/) {\n\t      return SetSeq(arguments);\n\t    };\n\t\n\t    SetSeq.prototype.toSetSeq = function() {\n\t      return this;\n\t    };\n\t\n\t\n\t\n\t  Seq.isSeq = isSeq;\n\t  Seq.Keyed = KeyedSeq;\n\t  Seq.Set = SetSeq;\n\t  Seq.Indexed = IndexedSeq;\n\t\n\t  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\t\n\t  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\t\n\t\n\t\n\t  createClass(ArraySeq, IndexedSeq);\n\t    function ArraySeq(array) {\n\t      this._array = array;\n\t      this.size = array.length;\n\t    }\n\t\n\t    ArraySeq.prototype.get = function(index, notSetValue) {\n\t      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n\t    };\n\t\n\t    ArraySeq.prototype.__iterate = function(fn, reverse) {\n\t      var array = this._array;\n\t      var maxIndex = array.length - 1;\n\t      for (var ii = 0; ii <= maxIndex; ii++) {\n\t        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n\t          return ii + 1;\n\t        }\n\t      }\n\t      return ii;\n\t    };\n\t\n\t    ArraySeq.prototype.__iterator = function(type, reverse) {\n\t      var array = this._array;\n\t      var maxIndex = array.length - 1;\n\t      var ii = 0;\n\t      return new Iterator(function() \n\t        {return ii > maxIndex ?\n\t          iteratorDone() :\n\t          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n\t      );\n\t    };\n\t\n\t\n\t\n\t  createClass(ObjectSeq, KeyedSeq);\n\t    function ObjectSeq(object) {\n\t      var keys = Object.keys(object);\n\t      this._object = object;\n\t      this._keys = keys;\n\t      this.size = keys.length;\n\t    }\n\t\n\t    ObjectSeq.prototype.get = function(key, notSetValue) {\n\t      if (notSetValue !== undefined && !this.has(key)) {\n\t        return notSetValue;\n\t      }\n\t      return this._object[key];\n\t    };\n\t\n\t    ObjectSeq.prototype.has = function(key) {\n\t      return this._object.hasOwnProperty(key);\n\t    };\n\t\n\t    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n\t      var object = this._object;\n\t      var keys = this._keys;\n\t      var maxIndex = keys.length - 1;\n\t      for (var ii = 0; ii <= maxIndex; ii++) {\n\t        var key = keys[reverse ? maxIndex - ii : ii];\n\t        if (fn(object[key], key, this) === false) {\n\t          return ii + 1;\n\t        }\n\t      }\n\t      return ii;\n\t    };\n\t\n\t    ObjectSeq.prototype.__iterator = function(type, reverse) {\n\t      var object = this._object;\n\t      var keys = this._keys;\n\t      var maxIndex = keys.length - 1;\n\t      var ii = 0;\n\t      return new Iterator(function()  {\n\t        var key = keys[reverse ? maxIndex - ii : ii];\n\t        return ii++ > maxIndex ?\n\t          iteratorDone() :\n\t          iteratorValue(type, key, object[key]);\n\t      });\n\t    };\n\t\n\t  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\t\n\t\n\t  createClass(IterableSeq, IndexedSeq);\n\t    function IterableSeq(iterable) {\n\t      this._iterable = iterable;\n\t      this.size = iterable.length || iterable.size;\n\t    }\n\t\n\t    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n\t      if (reverse) {\n\t        return this.cacheResult().__iterate(fn, reverse);\n\t      }\n\t      var iterable = this._iterable;\n\t      var iterator = getIterator(iterable);\n\t      var iterations = 0;\n\t      if (isIterator(iterator)) {\n\t        var step;\n\t        while (!(step = iterator.next()).done) {\n\t          if (fn(step.value, iterations++, this) === false) {\n\t            break;\n\t          }\n\t        }\n\t      }\n\t      return iterations;\n\t    };\n\t\n\t    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n\t      if (reverse) {\n\t        return this.cacheResult().__iterator(type, reverse);\n\t      }\n\t      var iterable = this._iterable;\n\t      var iterator = getIterator(iterable);\n\t      if (!isIterator(iterator)) {\n\t        return new Iterator(iteratorDone);\n\t      }\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        var step = iterator.next();\n\t        return step.done ? step : iteratorValue(type, iterations++, step.value);\n\t      });\n\t    };\n\t\n\t\n\t\n\t  createClass(IteratorSeq, IndexedSeq);\n\t    function IteratorSeq(iterator) {\n\t      this._iterator = iterator;\n\t      this._iteratorCache = [];\n\t    }\n\t\n\t    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n\t      if (reverse) {\n\t        return this.cacheResult().__iterate(fn, reverse);\n\t      }\n\t      var iterator = this._iterator;\n\t      var cache = this._iteratorCache;\n\t      var iterations = 0;\n\t      while (iterations < cache.length) {\n\t        if (fn(cache[iterations], iterations++, this) === false) {\n\t          return iterations;\n\t        }\n\t      }\n\t      var step;\n\t      while (!(step = iterator.next()).done) {\n\t        var val = step.value;\n\t        cache[iterations] = val;\n\t        if (fn(val, iterations++, this) === false) {\n\t          break;\n\t        }\n\t      }\n\t      return iterations;\n\t    };\n\t\n\t    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n\t      if (reverse) {\n\t        return this.cacheResult().__iterator(type, reverse);\n\t      }\n\t      var iterator = this._iterator;\n\t      var cache = this._iteratorCache;\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        if (iterations >= cache.length) {\n\t          var step = iterator.next();\n\t          if (step.done) {\n\t            return step;\n\t          }\n\t          cache[iterations] = step.value;\n\t        }\n\t        return iteratorValue(type, iterations, cache[iterations++]);\n\t      });\n\t    };\n\t\n\t\n\t\n\t\n\t  // # pragma Helper functions\n\t\n\t  function isSeq(maybeSeq) {\n\t    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n\t  }\n\t\n\t  var EMPTY_SEQ;\n\t\n\t  function emptySequence() {\n\t    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n\t  }\n\t\n\t  function keyedSeqFromValue(value) {\n\t    var seq =\n\t      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n\t      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n\t      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n\t      typeof value === 'object' ? new ObjectSeq(value) :\n\t      undefined;\n\t    if (!seq) {\n\t      throw new TypeError(\n\t        'Expected Array or iterable object of [k, v] entries, '+\n\t        'or keyed object: ' + value\n\t      );\n\t    }\n\t    return seq;\n\t  }\n\t\n\t  function indexedSeqFromValue(value) {\n\t    var seq = maybeIndexedSeqFromValue(value);\n\t    if (!seq) {\n\t      throw new TypeError(\n\t        'Expected Array or iterable object of values: ' + value\n\t      );\n\t    }\n\t    return seq;\n\t  }\n\t\n\t  function seqFromValue(value) {\n\t    var seq = maybeIndexedSeqFromValue(value) ||\n\t      (typeof value === 'object' && new ObjectSeq(value));\n\t    if (!seq) {\n\t      throw new TypeError(\n\t        'Expected Array or iterable object of values, or keyed object: ' + value\n\t      );\n\t    }\n\t    return seq;\n\t  }\n\t\n\t  function maybeIndexedSeqFromValue(value) {\n\t    return (\n\t      isArrayLike(value) ? new ArraySeq(value) :\n\t      isIterator(value) ? new IteratorSeq(value) :\n\t      hasIterator(value) ? new IterableSeq(value) :\n\t      undefined\n\t    );\n\t  }\n\t\n\t  function seqIterate(seq, fn, reverse, useKeys) {\n\t    var cache = seq._cache;\n\t    if (cache) {\n\t      var maxIndex = cache.length - 1;\n\t      for (var ii = 0; ii <= maxIndex; ii++) {\n\t        var entry = cache[reverse ? maxIndex - ii : ii];\n\t        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n\t          return ii + 1;\n\t        }\n\t      }\n\t      return ii;\n\t    }\n\t    return seq.__iterateUncached(fn, reverse);\n\t  }\n\t\n\t  function seqIterator(seq, type, reverse, useKeys) {\n\t    var cache = seq._cache;\n\t    if (cache) {\n\t      var maxIndex = cache.length - 1;\n\t      var ii = 0;\n\t      return new Iterator(function()  {\n\t        var entry = cache[reverse ? maxIndex - ii : ii];\n\t        return ii++ > maxIndex ?\n\t          iteratorDone() :\n\t          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n\t      });\n\t    }\n\t    return seq.__iteratorUncached(type, reverse);\n\t  }\n\t\n\t  function fromJS(json, converter) {\n\t    return converter ?\n\t      fromJSWith(converter, json, '', {'': json}) :\n\t      fromJSDefault(json);\n\t  }\n\t\n\t  function fromJSWith(converter, json, key, parentJSON) {\n\t    if (Array.isArray(json)) {\n\t      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n\t    }\n\t    if (isPlainObj(json)) {\n\t      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n\t    }\n\t    return json;\n\t  }\n\t\n\t  function fromJSDefault(json) {\n\t    if (Array.isArray(json)) {\n\t      return IndexedSeq(json).map(fromJSDefault).toList();\n\t    }\n\t    if (isPlainObj(json)) {\n\t      return KeyedSeq(json).map(fromJSDefault).toMap();\n\t    }\n\t    return json;\n\t  }\n\t\n\t  function isPlainObj(value) {\n\t    return value && (value.constructor === Object || value.constructor === undefined);\n\t  }\n\t\n\t  /**\n\t   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n\t   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n\t   *\n\t   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n\t   * value, which is different from the algorithm described by\n\t   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n\t   *\n\t   * This is extended further to allow Objects to describe the values they\n\t   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n\t   *\n\t   * Note: because of this extension, the key equality of Immutable.Map and the\n\t   * value equality of Immutable.Set will differ from ES6 Map and Set.\n\t   *\n\t   * ### Defining custom values\n\t   *\n\t   * The easiest way to describe the value an object represents is by implementing\n\t   * `valueOf`. For example, `Date` represents a value by returning a unix\n\t   * timestamp for `valueOf`:\n\t   *\n\t   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n\t   *     var date2 = new Date(1234567890000);\n\t   *     date1.valueOf(); // 1234567890000\n\t   *     assert( date1 !== date2 );\n\t   *     assert( Immutable.is( date1, date2 ) );\n\t   *\n\t   * Note: overriding `valueOf` may have other implications if you use this object\n\t   * where JavaScript expects a primitive, such as implicit string coercion.\n\t   *\n\t   * For more complex types, especially collections, implementing `valueOf` may\n\t   * not be performant. An alternative is to implement `equals` and `hashCode`.\n\t   *\n\t   * `equals` takes another object, presumably of similar type, and returns true\n\t   * if the it is equal. Equality is symmetrical, so the same result should be\n\t   * returned if this and the argument are flipped.\n\t   *\n\t   *     assert( a.equals(b) === b.equals(a) );\n\t   *\n\t   * `hashCode` returns a 32bit integer number representing the object which will\n\t   * be used to determine how to store the value object in a Map or Set. You must\n\t   * provide both or neither methods, one must not exist without the other.\n\t   *\n\t   * Also, an important relationship between these methods must be upheld: if two\n\t   * values are equal, they *must* return the same hashCode. If the values are not\n\t   * equal, they might have the same hashCode; this is called a hash collision,\n\t   * and while undesirable for performance reasons, it is acceptable.\n\t   *\n\t   *     if (a.equals(b)) {\n\t   *       assert( a.hashCode() === b.hashCode() );\n\t   *     }\n\t   *\n\t   * All Immutable collections implement `equals` and `hashCode`.\n\t   *\n\t   */\n\t  function is(valueA, valueB) {\n\t    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n\t      return true;\n\t    }\n\t    if (!valueA || !valueB) {\n\t      return false;\n\t    }\n\t    if (typeof valueA.valueOf === 'function' &&\n\t        typeof valueB.valueOf === 'function') {\n\t      valueA = valueA.valueOf();\n\t      valueB = valueB.valueOf();\n\t      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n\t        return true;\n\t      }\n\t      if (!valueA || !valueB) {\n\t        return false;\n\t      }\n\t    }\n\t    if (typeof valueA.equals === 'function' &&\n\t        typeof valueB.equals === 'function' &&\n\t        valueA.equals(valueB)) {\n\t      return true;\n\t    }\n\t    return false;\n\t  }\n\t\n\t  function deepEqual(a, b) {\n\t    if (a === b) {\n\t      return true;\n\t    }\n\t\n\t    if (\n\t      !isIterable(b) ||\n\t      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n\t      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n\t      isKeyed(a) !== isKeyed(b) ||\n\t      isIndexed(a) !== isIndexed(b) ||\n\t      isOrdered(a) !== isOrdered(b)\n\t    ) {\n\t      return false;\n\t    }\n\t\n\t    if (a.size === 0 && b.size === 0) {\n\t      return true;\n\t    }\n\t\n\t    var notAssociative = !isAssociative(a);\n\t\n\t    if (isOrdered(a)) {\n\t      var entries = a.entries();\n\t      return b.every(function(v, k)  {\n\t        var entry = entries.next().value;\n\t        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n\t      }) && entries.next().done;\n\t    }\n\t\n\t    var flipped = false;\n\t\n\t    if (a.size === undefined) {\n\t      if (b.size === undefined) {\n\t        if (typeof a.cacheResult === 'function') {\n\t          a.cacheResult();\n\t        }\n\t      } else {\n\t        flipped = true;\n\t        var _ = a;\n\t        a = b;\n\t        b = _;\n\t      }\n\t    }\n\t\n\t    var allEqual = true;\n\t    var bSize = b.__iterate(function(v, k)  {\n\t      if (notAssociative ? !a.has(v) :\n\t          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n\t        allEqual = false;\n\t        return false;\n\t      }\n\t    });\n\t\n\t    return allEqual && a.size === bSize;\n\t  }\n\t\n\t  createClass(Repeat, IndexedSeq);\n\t\n\t    function Repeat(value, times) {\n\t      if (!(this instanceof Repeat)) {\n\t        return new Repeat(value, times);\n\t      }\n\t      this._value = value;\n\t      this.size = times === undefined ? Infinity : Math.max(0, times);\n\t      if (this.size === 0) {\n\t        if (EMPTY_REPEAT) {\n\t          return EMPTY_REPEAT;\n\t        }\n\t        EMPTY_REPEAT = this;\n\t      }\n\t    }\n\t\n\t    Repeat.prototype.toString = function() {\n\t      if (this.size === 0) {\n\t        return 'Repeat []';\n\t      }\n\t      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n\t    };\n\t\n\t    Repeat.prototype.get = function(index, notSetValue) {\n\t      return this.has(index) ? this._value : notSetValue;\n\t    };\n\t\n\t    Repeat.prototype.includes = function(searchValue) {\n\t      return is(this._value, searchValue);\n\t    };\n\t\n\t    Repeat.prototype.slice = function(begin, end) {\n\t      var size = this.size;\n\t      return wholeSlice(begin, end, size) ? this :\n\t        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n\t    };\n\t\n\t    Repeat.prototype.reverse = function() {\n\t      return this;\n\t    };\n\t\n\t    Repeat.prototype.indexOf = function(searchValue) {\n\t      if (is(this._value, searchValue)) {\n\t        return 0;\n\t      }\n\t      return -1;\n\t    };\n\t\n\t    Repeat.prototype.lastIndexOf = function(searchValue) {\n\t      if (is(this._value, searchValue)) {\n\t        return this.size;\n\t      }\n\t      return -1;\n\t    };\n\t\n\t    Repeat.prototype.__iterate = function(fn, reverse) {\n\t      for (var ii = 0; ii < this.size; ii++) {\n\t        if (fn(this._value, ii, this) === false) {\n\t          return ii + 1;\n\t        }\n\t      }\n\t      return ii;\n\t    };\n\t\n\t    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n\t      var ii = 0;\n\t      return new Iterator(function() \n\t        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n\t      );\n\t    };\n\t\n\t    Repeat.prototype.equals = function(other) {\n\t      return other instanceof Repeat ?\n\t        is(this._value, other._value) :\n\t        deepEqual(other);\n\t    };\n\t\n\t\n\t  var EMPTY_REPEAT;\n\t\n\t  function invariant(condition, error) {\n\t    if (!condition) throw new Error(error);\n\t  }\n\t\n\t  createClass(Range, IndexedSeq);\n\t\n\t    function Range(start, end, step) {\n\t      if (!(this instanceof Range)) {\n\t        return new Range(start, end, step);\n\t      }\n\t      invariant(step !== 0, 'Cannot step a Range by 0');\n\t      start = start || 0;\n\t      if (end === undefined) {\n\t        end = Infinity;\n\t      }\n\t      step = step === undefined ? 1 : Math.abs(step);\n\t      if (end < start) {\n\t        step = -step;\n\t      }\n\t      this._start = start;\n\t      this._end = end;\n\t      this._step = step;\n\t      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n\t      if (this.size === 0) {\n\t        if (EMPTY_RANGE) {\n\t          return EMPTY_RANGE;\n\t        }\n\t        EMPTY_RANGE = this;\n\t      }\n\t    }\n\t\n\t    Range.prototype.toString = function() {\n\t      if (this.size === 0) {\n\t        return 'Range []';\n\t      }\n\t      return 'Range [ ' +\n\t        this._start + '...' + this._end +\n\t        (this._step !== 1 ? ' by ' + this._step : '') +\n\t      ' ]';\n\t    };\n\t\n\t    Range.prototype.get = function(index, notSetValue) {\n\t      return this.has(index) ?\n\t        this._start + wrapIndex(this, index) * this._step :\n\t        notSetValue;\n\t    };\n\t\n\t    Range.prototype.includes = function(searchValue) {\n\t      var possibleIndex = (searchValue - this._start) / this._step;\n\t      return possibleIndex >= 0 &&\n\t        possibleIndex < this.size &&\n\t        possibleIndex === Math.floor(possibleIndex);\n\t    };\n\t\n\t    Range.prototype.slice = function(begin, end) {\n\t      if (wholeSlice(begin, end, this.size)) {\n\t        return this;\n\t      }\n\t      begin = resolveBegin(begin, this.size);\n\t      end = resolveEnd(end, this.size);\n\t      if (end <= begin) {\n\t        return new Range(0, 0);\n\t      }\n\t      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n\t    };\n\t\n\t    Range.prototype.indexOf = function(searchValue) {\n\t      var offsetValue = searchValue - this._start;\n\t      if (offsetValue % this._step === 0) {\n\t        var index = offsetValue / this._step;\n\t        if (index >= 0 && index < this.size) {\n\t          return index\n\t        }\n\t      }\n\t      return -1;\n\t    };\n\t\n\t    Range.prototype.lastIndexOf = function(searchValue) {\n\t      return this.indexOf(searchValue);\n\t    };\n\t\n\t    Range.prototype.__iterate = function(fn, reverse) {\n\t      var maxIndex = this.size - 1;\n\t      var step = this._step;\n\t      var value = reverse ? this._start + maxIndex * step : this._start;\n\t      for (var ii = 0; ii <= maxIndex; ii++) {\n\t        if (fn(value, ii, this) === false) {\n\t          return ii + 1;\n\t        }\n\t        value += reverse ? -step : step;\n\t      }\n\t      return ii;\n\t    };\n\t\n\t    Range.prototype.__iterator = function(type, reverse) {\n\t      var maxIndex = this.size - 1;\n\t      var step = this._step;\n\t      var value = reverse ? this._start + maxIndex * step : this._start;\n\t      var ii = 0;\n\t      return new Iterator(function()  {\n\t        var v = value;\n\t        value += reverse ? -step : step;\n\t        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n\t      });\n\t    };\n\t\n\t    Range.prototype.equals = function(other) {\n\t      return other instanceof Range ?\n\t        this._start === other._start &&\n\t        this._end === other._end &&\n\t        this._step === other._step :\n\t        deepEqual(this, other);\n\t    };\n\t\n\t\n\t  var EMPTY_RANGE;\n\t\n\t  createClass(Collection, Iterable);\n\t    function Collection() {\n\t      throw TypeError('Abstract');\n\t    }\n\t\n\t\n\t  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\t\n\t  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\t\n\t  createClass(SetCollection, Collection);function SetCollection() {}\n\t\n\t\n\t  Collection.Keyed = KeyedCollection;\n\t  Collection.Indexed = IndexedCollection;\n\t  Collection.Set = SetCollection;\n\t\n\t  var imul =\n\t    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n\t    Math.imul :\n\t    function imul(a, b) {\n\t      a = a | 0; // int\n\t      b = b | 0; // int\n\t      var c = a & 0xffff;\n\t      var d = b & 0xffff;\n\t      // Shift by 0 fixes the sign on the high part.\n\t      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n\t    };\n\t\n\t  // v8 has an optimization for storing 31-bit signed numbers.\n\t  // Values which have either 00 or 11 as the high order bits qualify.\n\t  // This function drops the highest order bit in a signed number, maintaining\n\t  // the sign bit.\n\t  function smi(i32) {\n\t    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n\t  }\n\t\n\t  function hash(o) {\n\t    if (o === false || o === null || o === undefined) {\n\t      return 0;\n\t    }\n\t    if (typeof o.valueOf === 'function') {\n\t      o = o.valueOf();\n\t      if (o === false || o === null || o === undefined) {\n\t        return 0;\n\t      }\n\t    }\n\t    if (o === true) {\n\t      return 1;\n\t    }\n\t    var type = typeof o;\n\t    if (type === 'number') {\n\t      if (o !== o || o === Infinity) {\n\t        return 0;\n\t      }\n\t      var h = o | 0;\n\t      if (h !== o) {\n\t        h ^= o * 0xFFFFFFFF;\n\t      }\n\t      while (o > 0xFFFFFFFF) {\n\t        o /= 0xFFFFFFFF;\n\t        h ^= o;\n\t      }\n\t      return smi(h);\n\t    }\n\t    if (type === 'string') {\n\t      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n\t    }\n\t    if (typeof o.hashCode === 'function') {\n\t      return o.hashCode();\n\t    }\n\t    if (type === 'object') {\n\t      return hashJSObj(o);\n\t    }\n\t    if (typeof o.toString === 'function') {\n\t      return hashString(o.toString());\n\t    }\n\t    throw new Error('Value type ' + type + ' cannot be hashed.');\n\t  }\n\t\n\t  function cachedHashString(string) {\n\t    var hash = stringHashCache[string];\n\t    if (hash === undefined) {\n\t      hash = hashString(string);\n\t      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n\t        STRING_HASH_CACHE_SIZE = 0;\n\t        stringHashCache = {};\n\t      }\n\t      STRING_HASH_CACHE_SIZE++;\n\t      stringHashCache[string] = hash;\n\t    }\n\t    return hash;\n\t  }\n\t\n\t  // http://jsperf.com/hashing-strings\n\t  function hashString(string) {\n\t    // This is the hash from JVM\n\t    // The hash code for a string is computed as\n\t    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n\t    // where s[i] is the ith character of the string and n is the length of\n\t    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n\t    // (exclusive) by dropping high bits.\n\t    var hash = 0;\n\t    for (var ii = 0; ii < string.length; ii++) {\n\t      hash = 31 * hash + string.charCodeAt(ii) | 0;\n\t    }\n\t    return smi(hash);\n\t  }\n\t\n\t  function hashJSObj(obj) {\n\t    var hash;\n\t    if (usingWeakMap) {\n\t      hash = weakMap.get(obj);\n\t      if (hash !== undefined) {\n\t        return hash;\n\t      }\n\t    }\n\t\n\t    hash = obj[UID_HASH_KEY];\n\t    if (hash !== undefined) {\n\t      return hash;\n\t    }\n\t\n\t    if (!canDefineProperty) {\n\t      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n\t      if (hash !== undefined) {\n\t        return hash;\n\t      }\n\t\n\t      hash = getIENodeHash(obj);\n\t      if (hash !== undefined) {\n\t        return hash;\n\t      }\n\t    }\n\t\n\t    hash = ++objHashUID;\n\t    if (objHashUID & 0x40000000) {\n\t      objHashUID = 0;\n\t    }\n\t\n\t    if (usingWeakMap) {\n\t      weakMap.set(obj, hash);\n\t    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n\t      throw new Error('Non-extensible objects are not allowed as keys.');\n\t    } else if (canDefineProperty) {\n\t      Object.defineProperty(obj, UID_HASH_KEY, {\n\t        'enumerable': false,\n\t        'configurable': false,\n\t        'writable': false,\n\t        'value': hash\n\t      });\n\t    } else if (obj.propertyIsEnumerable !== undefined &&\n\t               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n\t      // Since we can't define a non-enumerable property on the object\n\t      // we'll hijack one of the less-used non-enumerable properties to\n\t      // save our hash on it. Since this is a function it will not show up in\n\t      // `JSON.stringify` which is what we want.\n\t      obj.propertyIsEnumerable = function() {\n\t        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n\t      };\n\t      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n\t    } else if (obj.nodeType !== undefined) {\n\t      // At this point we couldn't get the IE `uniqueID` to use as a hash\n\t      // and we couldn't use a non-enumerable property to exploit the\n\t      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n\t      // itself.\n\t      obj[UID_HASH_KEY] = hash;\n\t    } else {\n\t      throw new Error('Unable to set a non-enumerable property on object.');\n\t    }\n\t\n\t    return hash;\n\t  }\n\t\n\t  // Get references to ES5 object methods.\n\t  var isExtensible = Object.isExtensible;\n\t\n\t  // True if Object.defineProperty works as expected. IE8 fails this test.\n\t  var canDefineProperty = (function() {\n\t    try {\n\t      Object.defineProperty({}, '@', {});\n\t      return true;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }());\n\t\n\t  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n\t  // and avoid memory leaks from the IE cloneNode bug.\n\t  function getIENodeHash(node) {\n\t    if (node && node.nodeType > 0) {\n\t      switch (node.nodeType) {\n\t        case 1: // Element\n\t          return node.uniqueID;\n\t        case 9: // Document\n\t          return node.documentElement && node.documentElement.uniqueID;\n\t      }\n\t    }\n\t  }\n\t\n\t  // If possible, use a WeakMap.\n\t  var usingWeakMap = typeof WeakMap === 'function';\n\t  var weakMap;\n\t  if (usingWeakMap) {\n\t    weakMap = new WeakMap();\n\t  }\n\t\n\t  var objHashUID = 0;\n\t\n\t  var UID_HASH_KEY = '__immutablehash__';\n\t  if (typeof Symbol === 'function') {\n\t    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n\t  }\n\t\n\t  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n\t  var STRING_HASH_CACHE_MAX_SIZE = 255;\n\t  var STRING_HASH_CACHE_SIZE = 0;\n\t  var stringHashCache = {};\n\t\n\t  function assertNotInfinite(size) {\n\t    invariant(\n\t      size !== Infinity,\n\t      'Cannot perform this action with an infinite size.'\n\t    );\n\t  }\n\t\n\t  createClass(Map, KeyedCollection);\n\t\n\t    // @pragma Construction\n\t\n\t    function Map(value) {\n\t      return value === null || value === undefined ? emptyMap() :\n\t        isMap(value) && !isOrdered(value) ? value :\n\t        emptyMap().withMutations(function(map ) {\n\t          var iter = KeyedIterable(value);\n\t          assertNotInfinite(iter.size);\n\t          iter.forEach(function(v, k)  {return map.set(k, v)});\n\t        });\n\t    }\n\t\n\t    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n\t      return emptyMap().withMutations(function(map ) {\n\t        for (var i = 0; i < keyValues.length; i += 2) {\n\t          if (i + 1 >= keyValues.length) {\n\t            throw new Error('Missing value for key: ' + keyValues[i]);\n\t          }\n\t          map.set(keyValues[i], keyValues[i + 1]);\n\t        }\n\t      });\n\t    };\n\t\n\t    Map.prototype.toString = function() {\n\t      return this.__toString('Map {', '}');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    Map.prototype.get = function(k, notSetValue) {\n\t      return this._root ?\n\t        this._root.get(0, undefined, k, notSetValue) :\n\t        notSetValue;\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    Map.prototype.set = function(k, v) {\n\t      return updateMap(this, k, v);\n\t    };\n\t\n\t    Map.prototype.setIn = function(keyPath, v) {\n\t      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n\t    };\n\t\n\t    Map.prototype.remove = function(k) {\n\t      return updateMap(this, k, NOT_SET);\n\t    };\n\t\n\t    Map.prototype.deleteIn = function(keyPath) {\n\t      return this.updateIn(keyPath, function()  {return NOT_SET});\n\t    };\n\t\n\t    Map.prototype.update = function(k, notSetValue, updater) {\n\t      return arguments.length === 1 ?\n\t        k(this) :\n\t        this.updateIn([k], notSetValue, updater);\n\t    };\n\t\n\t    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n\t      if (!updater) {\n\t        updater = notSetValue;\n\t        notSetValue = undefined;\n\t      }\n\t      var updatedValue = updateInDeepMap(\n\t        this,\n\t        forceIterator(keyPath),\n\t        notSetValue,\n\t        updater\n\t      );\n\t      return updatedValue === NOT_SET ? undefined : updatedValue;\n\t    };\n\t\n\t    Map.prototype.clear = function() {\n\t      if (this.size === 0) {\n\t        return this;\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = 0;\n\t        this._root = null;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return emptyMap();\n\t    };\n\t\n\t    // @pragma Composition\n\t\n\t    Map.prototype.merge = function(/*...iters*/) {\n\t      return mergeIntoMapWith(this, undefined, arguments);\n\t    };\n\t\n\t    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n\t      return mergeIntoMapWith(this, merger, iters);\n\t    };\n\t\n\t    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n\t      return this.updateIn(\n\t        keyPath,\n\t        emptyMap(),\n\t        function(m ) {return typeof m.merge === 'function' ?\n\t          m.merge.apply(m, iters) :\n\t          iters[iters.length - 1]}\n\t      );\n\t    };\n\t\n\t    Map.prototype.mergeDeep = function(/*...iters*/) {\n\t      return mergeIntoMapWith(this, deepMerger, arguments);\n\t    };\n\t\n\t    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n\t      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n\t    };\n\t\n\t    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n\t      return this.updateIn(\n\t        keyPath,\n\t        emptyMap(),\n\t        function(m ) {return typeof m.mergeDeep === 'function' ?\n\t          m.mergeDeep.apply(m, iters) :\n\t          iters[iters.length - 1]}\n\t      );\n\t    };\n\t\n\t    Map.prototype.sort = function(comparator) {\n\t      // Late binding\n\t      return OrderedMap(sortFactory(this, comparator));\n\t    };\n\t\n\t    Map.prototype.sortBy = function(mapper, comparator) {\n\t      // Late binding\n\t      return OrderedMap(sortFactory(this, comparator, mapper));\n\t    };\n\t\n\t    // @pragma Mutability\n\t\n\t    Map.prototype.withMutations = function(fn) {\n\t      var mutable = this.asMutable();\n\t      fn(mutable);\n\t      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n\t    };\n\t\n\t    Map.prototype.asMutable = function() {\n\t      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n\t    };\n\t\n\t    Map.prototype.asImmutable = function() {\n\t      return this.__ensureOwner();\n\t    };\n\t\n\t    Map.prototype.wasAltered = function() {\n\t      return this.__altered;\n\t    };\n\t\n\t    Map.prototype.__iterator = function(type, reverse) {\n\t      return new MapIterator(this, type, reverse);\n\t    };\n\t\n\t    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      var iterations = 0;\n\t      this._root && this._root.iterate(function(entry ) {\n\t        iterations++;\n\t        return fn(entry[1], entry[0], this$0);\n\t      }, reverse);\n\t      return iterations;\n\t    };\n\t\n\t    Map.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        this.__altered = false;\n\t        return this;\n\t      }\n\t      return makeMap(this.size, this._root, ownerID, this.__hash);\n\t    };\n\t\n\t\n\t  function isMap(maybeMap) {\n\t    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n\t  }\n\t\n\t  Map.isMap = isMap;\n\t\n\t  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\t\n\t  var MapPrototype = Map.prototype;\n\t  MapPrototype[IS_MAP_SENTINEL] = true;\n\t  MapPrototype[DELETE] = MapPrototype.remove;\n\t  MapPrototype.removeIn = MapPrototype.deleteIn;\n\t\n\t\n\t  // #pragma Trie Nodes\n\t\n\t\n\t\n\t    function ArrayMapNode(ownerID, entries) {\n\t      this.ownerID = ownerID;\n\t      this.entries = entries;\n\t    }\n\t\n\t    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n\t      var entries = this.entries;\n\t      for (var ii = 0, len = entries.length; ii < len; ii++) {\n\t        if (is(key, entries[ii][0])) {\n\t          return entries[ii][1];\n\t        }\n\t      }\n\t      return notSetValue;\n\t    };\n\t\n\t    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t      var removed = value === NOT_SET;\n\t\n\t      var entries = this.entries;\n\t      var idx = 0;\n\t      for (var len = entries.length; idx < len; idx++) {\n\t        if (is(key, entries[idx][0])) {\n\t          break;\n\t        }\n\t      }\n\t      var exists = idx < len;\n\t\n\t      if (exists ? entries[idx][1] === value : removed) {\n\t        return this;\n\t      }\n\t\n\t      SetRef(didAlter);\n\t      (removed || !exists) && SetRef(didChangeSize);\n\t\n\t      if (removed && entries.length === 1) {\n\t        return; // undefined\n\t      }\n\t\n\t      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n\t        return createNodes(ownerID, entries, key, value);\n\t      }\n\t\n\t      var isEditable = ownerID && ownerID === this.ownerID;\n\t      var newEntries = isEditable ? entries : arrCopy(entries);\n\t\n\t      if (exists) {\n\t        if (removed) {\n\t          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n\t        } else {\n\t          newEntries[idx] = [key, value];\n\t        }\n\t      } else {\n\t        newEntries.push([key, value]);\n\t      }\n\t\n\t      if (isEditable) {\n\t        this.entries = newEntries;\n\t        return this;\n\t      }\n\t\n\t      return new ArrayMapNode(ownerID, newEntries);\n\t    };\n\t\n\t\n\t\n\t\n\t    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n\t      this.ownerID = ownerID;\n\t      this.bitmap = bitmap;\n\t      this.nodes = nodes;\n\t    }\n\t\n\t    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n\t      if (keyHash === undefined) {\n\t        keyHash = hash(key);\n\t      }\n\t      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n\t      var bitmap = this.bitmap;\n\t      return (bitmap & bit) === 0 ? notSetValue :\n\t        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n\t    };\n\t\n\t    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t      if (keyHash === undefined) {\n\t        keyHash = hash(key);\n\t      }\n\t      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\t      var bit = 1 << keyHashFrag;\n\t      var bitmap = this.bitmap;\n\t      var exists = (bitmap & bit) !== 0;\n\t\n\t      if (!exists && value === NOT_SET) {\n\t        return this;\n\t      }\n\t\n\t      var idx = popCount(bitmap & (bit - 1));\n\t      var nodes = this.nodes;\n\t      var node = exists ? nodes[idx] : undefined;\n\t      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\t\n\t      if (newNode === node) {\n\t        return this;\n\t      }\n\t\n\t      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n\t        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n\t      }\n\t\n\t      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n\t        return nodes[idx ^ 1];\n\t      }\n\t\n\t      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n\t        return newNode;\n\t      }\n\t\n\t      var isEditable = ownerID && ownerID === this.ownerID;\n\t      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n\t      var newNodes = exists ? newNode ?\n\t        setIn(nodes, idx, newNode, isEditable) :\n\t        spliceOut(nodes, idx, isEditable) :\n\t        spliceIn(nodes, idx, newNode, isEditable);\n\t\n\t      if (isEditable) {\n\t        this.bitmap = newBitmap;\n\t        this.nodes = newNodes;\n\t        return this;\n\t      }\n\t\n\t      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n\t    };\n\t\n\t\n\t\n\t\n\t    function HashArrayMapNode(ownerID, count, nodes) {\n\t      this.ownerID = ownerID;\n\t      this.count = count;\n\t      this.nodes = nodes;\n\t    }\n\t\n\t    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n\t      if (keyHash === undefined) {\n\t        keyHash = hash(key);\n\t      }\n\t      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\t      var node = this.nodes[idx];\n\t      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n\t    };\n\t\n\t    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t      if (keyHash === undefined) {\n\t        keyHash = hash(key);\n\t      }\n\t      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\t      var removed = value === NOT_SET;\n\t      var nodes = this.nodes;\n\t      var node = nodes[idx];\n\t\n\t      if (removed && !node) {\n\t        return this;\n\t      }\n\t\n\t      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\t      if (newNode === node) {\n\t        return this;\n\t      }\n\t\n\t      var newCount = this.count;\n\t      if (!node) {\n\t        newCount++;\n\t      } else if (!newNode) {\n\t        newCount--;\n\t        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n\t          return packNodes(ownerID, nodes, newCount, idx);\n\t        }\n\t      }\n\t\n\t      var isEditable = ownerID && ownerID === this.ownerID;\n\t      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\t\n\t      if (isEditable) {\n\t        this.count = newCount;\n\t        this.nodes = newNodes;\n\t        return this;\n\t      }\n\t\n\t      return new HashArrayMapNode(ownerID, newCount, newNodes);\n\t    };\n\t\n\t\n\t\n\t\n\t    function HashCollisionNode(ownerID, keyHash, entries) {\n\t      this.ownerID = ownerID;\n\t      this.keyHash = keyHash;\n\t      this.entries = entries;\n\t    }\n\t\n\t    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n\t      var entries = this.entries;\n\t      for (var ii = 0, len = entries.length; ii < len; ii++) {\n\t        if (is(key, entries[ii][0])) {\n\t          return entries[ii][1];\n\t        }\n\t      }\n\t      return notSetValue;\n\t    };\n\t\n\t    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t      if (keyHash === undefined) {\n\t        keyHash = hash(key);\n\t      }\n\t\n\t      var removed = value === NOT_SET;\n\t\n\t      if (keyHash !== this.keyHash) {\n\t        if (removed) {\n\t          return this;\n\t        }\n\t        SetRef(didAlter);\n\t        SetRef(didChangeSize);\n\t        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n\t      }\n\t\n\t      var entries = this.entries;\n\t      var idx = 0;\n\t      for (var len = entries.length; idx < len; idx++) {\n\t        if (is(key, entries[idx][0])) {\n\t          break;\n\t        }\n\t      }\n\t      var exists = idx < len;\n\t\n\t      if (exists ? entries[idx][1] === value : removed) {\n\t        return this;\n\t      }\n\t\n\t      SetRef(didAlter);\n\t      (removed || !exists) && SetRef(didChangeSize);\n\t\n\t      if (removed && len === 2) {\n\t        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n\t      }\n\t\n\t      var isEditable = ownerID && ownerID === this.ownerID;\n\t      var newEntries = isEditable ? entries : arrCopy(entries);\n\t\n\t      if (exists) {\n\t        if (removed) {\n\t          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n\t        } else {\n\t          newEntries[idx] = [key, value];\n\t        }\n\t      } else {\n\t        newEntries.push([key, value]);\n\t      }\n\t\n\t      if (isEditable) {\n\t        this.entries = newEntries;\n\t        return this;\n\t      }\n\t\n\t      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n\t    };\n\t\n\t\n\t\n\t\n\t    function ValueNode(ownerID, keyHash, entry) {\n\t      this.ownerID = ownerID;\n\t      this.keyHash = keyHash;\n\t      this.entry = entry;\n\t    }\n\t\n\t    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n\t      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n\t    };\n\t\n\t    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t      var removed = value === NOT_SET;\n\t      var keyMatch = is(key, this.entry[0]);\n\t      if (keyMatch ? value === this.entry[1] : removed) {\n\t        return this;\n\t      }\n\t\n\t      SetRef(didAlter);\n\t\n\t      if (removed) {\n\t        SetRef(didChangeSize);\n\t        return; // undefined\n\t      }\n\t\n\t      if (keyMatch) {\n\t        if (ownerID && ownerID === this.ownerID) {\n\t          this.entry[1] = value;\n\t          return this;\n\t        }\n\t        return new ValueNode(ownerID, this.keyHash, [key, value]);\n\t      }\n\t\n\t      SetRef(didChangeSize);\n\t      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n\t    };\n\t\n\t\n\t\n\t  // #pragma Iterators\n\t\n\t  ArrayMapNode.prototype.iterate =\n\t  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n\t    var entries = this.entries;\n\t    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n\t      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t\n\t  BitmapIndexedNode.prototype.iterate =\n\t  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n\t    var nodes = this.nodes;\n\t    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n\t      var node = nodes[reverse ? maxIndex - ii : ii];\n\t      if (node && node.iterate(fn, reverse) === false) {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t\n\t  ValueNode.prototype.iterate = function (fn, reverse) {\n\t    return fn(this.entry);\n\t  }\n\t\n\t  createClass(MapIterator, Iterator);\n\t\n\t    function MapIterator(map, type, reverse) {\n\t      this._type = type;\n\t      this._reverse = reverse;\n\t      this._stack = map._root && mapIteratorFrame(map._root);\n\t    }\n\t\n\t    MapIterator.prototype.next = function() {\n\t      var type = this._type;\n\t      var stack = this._stack;\n\t      while (stack) {\n\t        var node = stack.node;\n\t        var index = stack.index++;\n\t        var maxIndex;\n\t        if (node.entry) {\n\t          if (index === 0) {\n\t            return mapIteratorValue(type, node.entry);\n\t          }\n\t        } else if (node.entries) {\n\t          maxIndex = node.entries.length - 1;\n\t          if (index <= maxIndex) {\n\t            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n\t          }\n\t        } else {\n\t          maxIndex = node.nodes.length - 1;\n\t          if (index <= maxIndex) {\n\t            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n\t            if (subNode) {\n\t              if (subNode.entry) {\n\t                return mapIteratorValue(type, subNode.entry);\n\t              }\n\t              stack = this._stack = mapIteratorFrame(subNode, stack);\n\t            }\n\t            continue;\n\t          }\n\t        }\n\t        stack = this._stack = this._stack.__prev;\n\t      }\n\t      return iteratorDone();\n\t    };\n\t\n\t\n\t  function mapIteratorValue(type, entry) {\n\t    return iteratorValue(type, entry[0], entry[1]);\n\t  }\n\t\n\t  function mapIteratorFrame(node, prev) {\n\t    return {\n\t      node: node,\n\t      index: 0,\n\t      __prev: prev\n\t    };\n\t  }\n\t\n\t  function makeMap(size, root, ownerID, hash) {\n\t    var map = Object.create(MapPrototype);\n\t    map.size = size;\n\t    map._root = root;\n\t    map.__ownerID = ownerID;\n\t    map.__hash = hash;\n\t    map.__altered = false;\n\t    return map;\n\t  }\n\t\n\t  var EMPTY_MAP;\n\t  function emptyMap() {\n\t    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n\t  }\n\t\n\t  function updateMap(map, k, v) {\n\t    var newRoot;\n\t    var newSize;\n\t    if (!map._root) {\n\t      if (v === NOT_SET) {\n\t        return map;\n\t      }\n\t      newSize = 1;\n\t      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n\t    } else {\n\t      var didChangeSize = MakeRef(CHANGE_LENGTH);\n\t      var didAlter = MakeRef(DID_ALTER);\n\t      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n\t      if (!didAlter.value) {\n\t        return map;\n\t      }\n\t      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n\t    }\n\t    if (map.__ownerID) {\n\t      map.size = newSize;\n\t      map._root = newRoot;\n\t      map.__hash = undefined;\n\t      map.__altered = true;\n\t      return map;\n\t    }\n\t    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n\t  }\n\t\n\t  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n\t    if (!node) {\n\t      if (value === NOT_SET) {\n\t        return node;\n\t      }\n\t      SetRef(didAlter);\n\t      SetRef(didChangeSize);\n\t      return new ValueNode(ownerID, keyHash, [key, value]);\n\t    }\n\t    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n\t  }\n\t\n\t  function isLeafNode(node) {\n\t    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n\t  }\n\t\n\t  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n\t    if (node.keyHash === keyHash) {\n\t      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n\t    }\n\t\n\t    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n\t    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\t\n\t    var newNode;\n\t    var nodes = idx1 === idx2 ?\n\t      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n\t      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\t\n\t    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n\t  }\n\t\n\t  function createNodes(ownerID, entries, key, value) {\n\t    if (!ownerID) {\n\t      ownerID = new OwnerID();\n\t    }\n\t    var node = new ValueNode(ownerID, hash(key), [key, value]);\n\t    for (var ii = 0; ii < entries.length; ii++) {\n\t      var entry = entries[ii];\n\t      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n\t    }\n\t    return node;\n\t  }\n\t\n\t  function packNodes(ownerID, nodes, count, excluding) {\n\t    var bitmap = 0;\n\t    var packedII = 0;\n\t    var packedNodes = new Array(count);\n\t    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n\t      var node = nodes[ii];\n\t      if (node !== undefined && ii !== excluding) {\n\t        bitmap |= bit;\n\t        packedNodes[packedII++] = node;\n\t      }\n\t    }\n\t    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n\t  }\n\t\n\t  function expandNodes(ownerID, nodes, bitmap, including, node) {\n\t    var count = 0;\n\t    var expandedNodes = new Array(SIZE);\n\t    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n\t      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n\t    }\n\t    expandedNodes[including] = node;\n\t    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n\t  }\n\t\n\t  function mergeIntoMapWith(map, merger, iterables) {\n\t    var iters = [];\n\t    for (var ii = 0; ii < iterables.length; ii++) {\n\t      var value = iterables[ii];\n\t      var iter = KeyedIterable(value);\n\t      if (!isIterable(value)) {\n\t        iter = iter.map(function(v ) {return fromJS(v)});\n\t      }\n\t      iters.push(iter);\n\t    }\n\t    return mergeIntoCollectionWith(map, merger, iters);\n\t  }\n\t\n\t  function deepMerger(existing, value, key) {\n\t    return existing && existing.mergeDeep && isIterable(value) ?\n\t      existing.mergeDeep(value) :\n\t      is(existing, value) ? existing : value;\n\t  }\n\t\n\t  function deepMergerWith(merger) {\n\t    return function(existing, value, key)  {\n\t      if (existing && existing.mergeDeepWith && isIterable(value)) {\n\t        return existing.mergeDeepWith(merger, value);\n\t      }\n\t      var nextValue = merger(existing, value, key);\n\t      return is(existing, nextValue) ? existing : nextValue;\n\t    };\n\t  }\n\t\n\t  function mergeIntoCollectionWith(collection, merger, iters) {\n\t    iters = iters.filter(function(x ) {return x.size !== 0});\n\t    if (iters.length === 0) {\n\t      return collection;\n\t    }\n\t    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n\t      return collection.constructor(iters[0]);\n\t    }\n\t    return collection.withMutations(function(collection ) {\n\t      var mergeIntoMap = merger ?\n\t        function(value, key)  {\n\t          collection.update(key, NOT_SET, function(existing )\n\t            {return existing === NOT_SET ? value : merger(existing, value, key)}\n\t          );\n\t        } :\n\t        function(value, key)  {\n\t          collection.set(key, value);\n\t        }\n\t      for (var ii = 0; ii < iters.length; ii++) {\n\t        iters[ii].forEach(mergeIntoMap);\n\t      }\n\t    });\n\t  }\n\t\n\t  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n\t    var isNotSet = existing === NOT_SET;\n\t    var step = keyPathIter.next();\n\t    if (step.done) {\n\t      var existingValue = isNotSet ? notSetValue : existing;\n\t      var newValue = updater(existingValue);\n\t      return newValue === existingValue ? existing : newValue;\n\t    }\n\t    invariant(\n\t      isNotSet || (existing && existing.set),\n\t      'invalid keyPath'\n\t    );\n\t    var key = step.value;\n\t    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n\t    var nextUpdated = updateInDeepMap(\n\t      nextExisting,\n\t      keyPathIter,\n\t      notSetValue,\n\t      updater\n\t    );\n\t    return nextUpdated === nextExisting ? existing :\n\t      nextUpdated === NOT_SET ? existing.remove(key) :\n\t      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n\t  }\n\t\n\t  function popCount(x) {\n\t    x = x - ((x >> 1) & 0x55555555);\n\t    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n\t    x = (x + (x >> 4)) & 0x0f0f0f0f;\n\t    x = x + (x >> 8);\n\t    x = x + (x >> 16);\n\t    return x & 0x7f;\n\t  }\n\t\n\t  function setIn(array, idx, val, canEdit) {\n\t    var newArray = canEdit ? array : arrCopy(array);\n\t    newArray[idx] = val;\n\t    return newArray;\n\t  }\n\t\n\t  function spliceIn(array, idx, val, canEdit) {\n\t    var newLen = array.length + 1;\n\t    if (canEdit && idx + 1 === newLen) {\n\t      array[idx] = val;\n\t      return array;\n\t    }\n\t    var newArray = new Array(newLen);\n\t    var after = 0;\n\t    for (var ii = 0; ii < newLen; ii++) {\n\t      if (ii === idx) {\n\t        newArray[ii] = val;\n\t        after = -1;\n\t      } else {\n\t        newArray[ii] = array[ii + after];\n\t      }\n\t    }\n\t    return newArray;\n\t  }\n\t\n\t  function spliceOut(array, idx, canEdit) {\n\t    var newLen = array.length - 1;\n\t    if (canEdit && idx === newLen) {\n\t      array.pop();\n\t      return array;\n\t    }\n\t    var newArray = new Array(newLen);\n\t    var after = 0;\n\t    for (var ii = 0; ii < newLen; ii++) {\n\t      if (ii === idx) {\n\t        after = 1;\n\t      }\n\t      newArray[ii] = array[ii + after];\n\t    }\n\t    return newArray;\n\t  }\n\t\n\t  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n\t  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n\t  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\t\n\t  createClass(List, IndexedCollection);\n\t\n\t    // @pragma Construction\n\t\n\t    function List(value) {\n\t      var empty = emptyList();\n\t      if (value === null || value === undefined) {\n\t        return empty;\n\t      }\n\t      if (isList(value)) {\n\t        return value;\n\t      }\n\t      var iter = IndexedIterable(value);\n\t      var size = iter.size;\n\t      if (size === 0) {\n\t        return empty;\n\t      }\n\t      assertNotInfinite(size);\n\t      if (size > 0 && size < SIZE) {\n\t        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n\t      }\n\t      return empty.withMutations(function(list ) {\n\t        list.setSize(size);\n\t        iter.forEach(function(v, i)  {return list.set(i, v)});\n\t      });\n\t    }\n\t\n\t    List.of = function(/*...values*/) {\n\t      return this(arguments);\n\t    };\n\t\n\t    List.prototype.toString = function() {\n\t      return this.__toString('List [', ']');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    List.prototype.get = function(index, notSetValue) {\n\t      index = wrapIndex(this, index);\n\t      if (index >= 0 && index < this.size) {\n\t        index += this._origin;\n\t        var node = listNodeFor(this, index);\n\t        return node && node.array[index & MASK];\n\t      }\n\t      return notSetValue;\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    List.prototype.set = function(index, value) {\n\t      return updateList(this, index, value);\n\t    };\n\t\n\t    List.prototype.remove = function(index) {\n\t      return !this.has(index) ? this :\n\t        index === 0 ? this.shift() :\n\t        index === this.size - 1 ? this.pop() :\n\t        this.splice(index, 1);\n\t    };\n\t\n\t    List.prototype.insert = function(index, value) {\n\t      return this.splice(index, 0, value);\n\t    };\n\t\n\t    List.prototype.clear = function() {\n\t      if (this.size === 0) {\n\t        return this;\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = this._origin = this._capacity = 0;\n\t        this._level = SHIFT;\n\t        this._root = this._tail = null;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return emptyList();\n\t    };\n\t\n\t    List.prototype.push = function(/*...values*/) {\n\t      var values = arguments;\n\t      var oldSize = this.size;\n\t      return this.withMutations(function(list ) {\n\t        setListBounds(list, 0, oldSize + values.length);\n\t        for (var ii = 0; ii < values.length; ii++) {\n\t          list.set(oldSize + ii, values[ii]);\n\t        }\n\t      });\n\t    };\n\t\n\t    List.prototype.pop = function() {\n\t      return setListBounds(this, 0, -1);\n\t    };\n\t\n\t    List.prototype.unshift = function(/*...values*/) {\n\t      var values = arguments;\n\t      return this.withMutations(function(list ) {\n\t        setListBounds(list, -values.length);\n\t        for (var ii = 0; ii < values.length; ii++) {\n\t          list.set(ii, values[ii]);\n\t        }\n\t      });\n\t    };\n\t\n\t    List.prototype.shift = function() {\n\t      return setListBounds(this, 1);\n\t    };\n\t\n\t    // @pragma Composition\n\t\n\t    List.prototype.merge = function(/*...iters*/) {\n\t      return mergeIntoListWith(this, undefined, arguments);\n\t    };\n\t\n\t    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n\t      return mergeIntoListWith(this, merger, iters);\n\t    };\n\t\n\t    List.prototype.mergeDeep = function(/*...iters*/) {\n\t      return mergeIntoListWith(this, deepMerger, arguments);\n\t    };\n\t\n\t    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n\t      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n\t    };\n\t\n\t    List.prototype.setSize = function(size) {\n\t      return setListBounds(this, 0, size);\n\t    };\n\t\n\t    // @pragma Iteration\n\t\n\t    List.prototype.slice = function(begin, end) {\n\t      var size = this.size;\n\t      if (wholeSlice(begin, end, size)) {\n\t        return this;\n\t      }\n\t      return setListBounds(\n\t        this,\n\t        resolveBegin(begin, size),\n\t        resolveEnd(end, size)\n\t      );\n\t    };\n\t\n\t    List.prototype.__iterator = function(type, reverse) {\n\t      var index = 0;\n\t      var values = iterateList(this, reverse);\n\t      return new Iterator(function()  {\n\t        var value = values();\n\t        return value === DONE ?\n\t          iteratorDone() :\n\t          iteratorValue(type, index++, value);\n\t      });\n\t    };\n\t\n\t    List.prototype.__iterate = function(fn, reverse) {\n\t      var index = 0;\n\t      var values = iterateList(this, reverse);\n\t      var value;\n\t      while ((value = values()) !== DONE) {\n\t        if (fn(value, index++, this) === false) {\n\t          break;\n\t        }\n\t      }\n\t      return index;\n\t    };\n\t\n\t    List.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        return this;\n\t      }\n\t      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n\t    };\n\t\n\t\n\t  function isList(maybeList) {\n\t    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n\t  }\n\t\n\t  List.isList = isList;\n\t\n\t  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\t\n\t  var ListPrototype = List.prototype;\n\t  ListPrototype[IS_LIST_SENTINEL] = true;\n\t  ListPrototype[DELETE] = ListPrototype.remove;\n\t  ListPrototype.setIn = MapPrototype.setIn;\n\t  ListPrototype.deleteIn =\n\t  ListPrototype.removeIn = MapPrototype.removeIn;\n\t  ListPrototype.update = MapPrototype.update;\n\t  ListPrototype.updateIn = MapPrototype.updateIn;\n\t  ListPrototype.mergeIn = MapPrototype.mergeIn;\n\t  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n\t  ListPrototype.withMutations = MapPrototype.withMutations;\n\t  ListPrototype.asMutable = MapPrototype.asMutable;\n\t  ListPrototype.asImmutable = MapPrototype.asImmutable;\n\t  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\t\n\t\n\t\n\t    function VNode(array, ownerID) {\n\t      this.array = array;\n\t      this.ownerID = ownerID;\n\t    }\n\t\n\t    // TODO: seems like these methods are very similar\n\t\n\t    VNode.prototype.removeBefore = function(ownerID, level, index) {\n\t      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n\t        return this;\n\t      }\n\t      var originIndex = (index >>> level) & MASK;\n\t      if (originIndex >= this.array.length) {\n\t        return new VNode([], ownerID);\n\t      }\n\t      var removingFirst = originIndex === 0;\n\t      var newChild;\n\t      if (level > 0) {\n\t        var oldChild = this.array[originIndex];\n\t        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n\t        if (newChild === oldChild && removingFirst) {\n\t          return this;\n\t        }\n\t      }\n\t      if (removingFirst && !newChild) {\n\t        return this;\n\t      }\n\t      var editable = editableVNode(this, ownerID);\n\t      if (!removingFirst) {\n\t        for (var ii = 0; ii < originIndex; ii++) {\n\t          editable.array[ii] = undefined;\n\t        }\n\t      }\n\t      if (newChild) {\n\t        editable.array[originIndex] = newChild;\n\t      }\n\t      return editable;\n\t    };\n\t\n\t    VNode.prototype.removeAfter = function(ownerID, level, index) {\n\t      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n\t        return this;\n\t      }\n\t      var sizeIndex = ((index - 1) >>> level) & MASK;\n\t      if (sizeIndex >= this.array.length) {\n\t        return this;\n\t      }\n\t\n\t      var newChild;\n\t      if (level > 0) {\n\t        var oldChild = this.array[sizeIndex];\n\t        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n\t        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n\t          return this;\n\t        }\n\t      }\n\t\n\t      var editable = editableVNode(this, ownerID);\n\t      editable.array.splice(sizeIndex + 1);\n\t      if (newChild) {\n\t        editable.array[sizeIndex] = newChild;\n\t      }\n\t      return editable;\n\t    };\n\t\n\t\n\t\n\t  var DONE = {};\n\t\n\t  function iterateList(list, reverse) {\n\t    var left = list._origin;\n\t    var right = list._capacity;\n\t    var tailPos = getTailOffset(right);\n\t    var tail = list._tail;\n\t\n\t    return iterateNodeOrLeaf(list._root, list._level, 0);\n\t\n\t    function iterateNodeOrLeaf(node, level, offset) {\n\t      return level === 0 ?\n\t        iterateLeaf(node, offset) :\n\t        iterateNode(node, level, offset);\n\t    }\n\t\n\t    function iterateLeaf(node, offset) {\n\t      var array = offset === tailPos ? tail && tail.array : node && node.array;\n\t      var from = offset > left ? 0 : left - offset;\n\t      var to = right - offset;\n\t      if (to > SIZE) {\n\t        to = SIZE;\n\t      }\n\t      return function()  {\n\t        if (from === to) {\n\t          return DONE;\n\t        }\n\t        var idx = reverse ? --to : from++;\n\t        return array && array[idx];\n\t      };\n\t    }\n\t\n\t    function iterateNode(node, level, offset) {\n\t      var values;\n\t      var array = node && node.array;\n\t      var from = offset > left ? 0 : (left - offset) >> level;\n\t      var to = ((right - offset) >> level) + 1;\n\t      if (to > SIZE) {\n\t        to = SIZE;\n\t      }\n\t      return function()  {\n\t        do {\n\t          if (values) {\n\t            var value = values();\n\t            if (value !== DONE) {\n\t              return value;\n\t            }\n\t            values = null;\n\t          }\n\t          if (from === to) {\n\t            return DONE;\n\t          }\n\t          var idx = reverse ? --to : from++;\n\t          values = iterateNodeOrLeaf(\n\t            array && array[idx], level - SHIFT, offset + (idx << level)\n\t          );\n\t        } while (true);\n\t      };\n\t    }\n\t  }\n\t\n\t  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n\t    var list = Object.create(ListPrototype);\n\t    list.size = capacity - origin;\n\t    list._origin = origin;\n\t    list._capacity = capacity;\n\t    list._level = level;\n\t    list._root = root;\n\t    list._tail = tail;\n\t    list.__ownerID = ownerID;\n\t    list.__hash = hash;\n\t    list.__altered = false;\n\t    return list;\n\t  }\n\t\n\t  var EMPTY_LIST;\n\t  function emptyList() {\n\t    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n\t  }\n\t\n\t  function updateList(list, index, value) {\n\t    index = wrapIndex(list, index);\n\t\n\t    if (index !== index) {\n\t      return list;\n\t    }\n\t\n\t    if (index >= list.size || index < 0) {\n\t      return list.withMutations(function(list ) {\n\t        index < 0 ?\n\t          setListBounds(list, index).set(0, value) :\n\t          setListBounds(list, 0, index + 1).set(index, value)\n\t      });\n\t    }\n\t\n\t    index += list._origin;\n\t\n\t    var newTail = list._tail;\n\t    var newRoot = list._root;\n\t    var didAlter = MakeRef(DID_ALTER);\n\t    if (index >= getTailOffset(list._capacity)) {\n\t      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n\t    } else {\n\t      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n\t    }\n\t\n\t    if (!didAlter.value) {\n\t      return list;\n\t    }\n\t\n\t    if (list.__ownerID) {\n\t      list._root = newRoot;\n\t      list._tail = newTail;\n\t      list.__hash = undefined;\n\t      list.__altered = true;\n\t      return list;\n\t    }\n\t    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n\t  }\n\t\n\t  function updateVNode(node, ownerID, level, index, value, didAlter) {\n\t    var idx = (index >>> level) & MASK;\n\t    var nodeHas = node && idx < node.array.length;\n\t    if (!nodeHas && value === undefined) {\n\t      return node;\n\t    }\n\t\n\t    var newNode;\n\t\n\t    if (level > 0) {\n\t      var lowerNode = node && node.array[idx];\n\t      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n\t      if (newLowerNode === lowerNode) {\n\t        return node;\n\t      }\n\t      newNode = editableVNode(node, ownerID);\n\t      newNode.array[idx] = newLowerNode;\n\t      return newNode;\n\t    }\n\t\n\t    if (nodeHas && node.array[idx] === value) {\n\t      return node;\n\t    }\n\t\n\t    SetRef(didAlter);\n\t\n\t    newNode = editableVNode(node, ownerID);\n\t    if (value === undefined && idx === newNode.array.length - 1) {\n\t      newNode.array.pop();\n\t    } else {\n\t      newNode.array[idx] = value;\n\t    }\n\t    return newNode;\n\t  }\n\t\n\t  function editableVNode(node, ownerID) {\n\t    if (ownerID && node && ownerID === node.ownerID) {\n\t      return node;\n\t    }\n\t    return new VNode(node ? node.array.slice() : [], ownerID);\n\t  }\n\t\n\t  function listNodeFor(list, rawIndex) {\n\t    if (rawIndex >= getTailOffset(list._capacity)) {\n\t      return list._tail;\n\t    }\n\t    if (rawIndex < 1 << (list._level + SHIFT)) {\n\t      var node = list._root;\n\t      var level = list._level;\n\t      while (node && level > 0) {\n\t        node = node.array[(rawIndex >>> level) & MASK];\n\t        level -= SHIFT;\n\t      }\n\t      return node;\n\t    }\n\t  }\n\t\n\t  function setListBounds(list, begin, end) {\n\t    // Sanitize begin & end using this shorthand for ToInt32(argument)\n\t    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n\t    if (begin !== undefined) {\n\t      begin = begin | 0;\n\t    }\n\t    if (end !== undefined) {\n\t      end = end | 0;\n\t    }\n\t    var owner = list.__ownerID || new OwnerID();\n\t    var oldOrigin = list._origin;\n\t    var oldCapacity = list._capacity;\n\t    var newOrigin = oldOrigin + begin;\n\t    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n\t    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n\t      return list;\n\t    }\n\t\n\t    // If it's going to end after it starts, it's empty.\n\t    if (newOrigin >= newCapacity) {\n\t      return list.clear();\n\t    }\n\t\n\t    var newLevel = list._level;\n\t    var newRoot = list._root;\n\t\n\t    // New origin might need creating a higher root.\n\t    var offsetShift = 0;\n\t    while (newOrigin + offsetShift < 0) {\n\t      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n\t      newLevel += SHIFT;\n\t      offsetShift += 1 << newLevel;\n\t    }\n\t    if (offsetShift) {\n\t      newOrigin += offsetShift;\n\t      oldOrigin += offsetShift;\n\t      newCapacity += offsetShift;\n\t      oldCapacity += offsetShift;\n\t    }\n\t\n\t    var oldTailOffset = getTailOffset(oldCapacity);\n\t    var newTailOffset = getTailOffset(newCapacity);\n\t\n\t    // New size might need creating a higher root.\n\t    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n\t      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n\t      newLevel += SHIFT;\n\t    }\n\t\n\t    // Locate or create the new tail.\n\t    var oldTail = list._tail;\n\t    var newTail = newTailOffset < oldTailOffset ?\n\t      listNodeFor(list, newCapacity - 1) :\n\t      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\t\n\t    // Merge Tail into tree.\n\t    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n\t      newRoot = editableVNode(newRoot, owner);\n\t      var node = newRoot;\n\t      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n\t        var idx = (oldTailOffset >>> level) & MASK;\n\t        node = node.array[idx] = editableVNode(node.array[idx], owner);\n\t      }\n\t      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n\t    }\n\t\n\t    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n\t    if (newCapacity < oldCapacity) {\n\t      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n\t    }\n\t\n\t    // If the new origin is within the tail, then we do not need a root.\n\t    if (newOrigin >= newTailOffset) {\n\t      newOrigin -= newTailOffset;\n\t      newCapacity -= newTailOffset;\n\t      newLevel = SHIFT;\n\t      newRoot = null;\n\t      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\t\n\t    // Otherwise, if the root has been trimmed, garbage collect.\n\t    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n\t      offsetShift = 0;\n\t\n\t      // Identify the new top root node of the subtree of the old root.\n\t      while (newRoot) {\n\t        var beginIndex = (newOrigin >>> newLevel) & MASK;\n\t        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n\t          break;\n\t        }\n\t        if (beginIndex) {\n\t          offsetShift += (1 << newLevel) * beginIndex;\n\t        }\n\t        newLevel -= SHIFT;\n\t        newRoot = newRoot.array[beginIndex];\n\t      }\n\t\n\t      // Trim the new sides of the new root.\n\t      if (newRoot && newOrigin > oldOrigin) {\n\t        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n\t      }\n\t      if (newRoot && newTailOffset < oldTailOffset) {\n\t        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n\t      }\n\t      if (offsetShift) {\n\t        newOrigin -= offsetShift;\n\t        newCapacity -= offsetShift;\n\t      }\n\t    }\n\t\n\t    if (list.__ownerID) {\n\t      list.size = newCapacity - newOrigin;\n\t      list._origin = newOrigin;\n\t      list._capacity = newCapacity;\n\t      list._level = newLevel;\n\t      list._root = newRoot;\n\t      list._tail = newTail;\n\t      list.__hash = undefined;\n\t      list.__altered = true;\n\t      return list;\n\t    }\n\t    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n\t  }\n\t\n\t  function mergeIntoListWith(list, merger, iterables) {\n\t    var iters = [];\n\t    var maxSize = 0;\n\t    for (var ii = 0; ii < iterables.length; ii++) {\n\t      var value = iterables[ii];\n\t      var iter = IndexedIterable(value);\n\t      if (iter.size > maxSize) {\n\t        maxSize = iter.size;\n\t      }\n\t      if (!isIterable(value)) {\n\t        iter = iter.map(function(v ) {return fromJS(v)});\n\t      }\n\t      iters.push(iter);\n\t    }\n\t    if (maxSize > list.size) {\n\t      list = list.setSize(maxSize);\n\t    }\n\t    return mergeIntoCollectionWith(list, merger, iters);\n\t  }\n\t\n\t  function getTailOffset(size) {\n\t    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n\t  }\n\t\n\t  createClass(OrderedMap, Map);\n\t\n\t    // @pragma Construction\n\t\n\t    function OrderedMap(value) {\n\t      return value === null || value === undefined ? emptyOrderedMap() :\n\t        isOrderedMap(value) ? value :\n\t        emptyOrderedMap().withMutations(function(map ) {\n\t          var iter = KeyedIterable(value);\n\t          assertNotInfinite(iter.size);\n\t          iter.forEach(function(v, k)  {return map.set(k, v)});\n\t        });\n\t    }\n\t\n\t    OrderedMap.of = function(/*...values*/) {\n\t      return this(arguments);\n\t    };\n\t\n\t    OrderedMap.prototype.toString = function() {\n\t      return this.__toString('OrderedMap {', '}');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    OrderedMap.prototype.get = function(k, notSetValue) {\n\t      var index = this._map.get(k);\n\t      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    OrderedMap.prototype.clear = function() {\n\t      if (this.size === 0) {\n\t        return this;\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = 0;\n\t        this._map.clear();\n\t        this._list.clear();\n\t        return this;\n\t      }\n\t      return emptyOrderedMap();\n\t    };\n\t\n\t    OrderedMap.prototype.set = function(k, v) {\n\t      return updateOrderedMap(this, k, v);\n\t    };\n\t\n\t    OrderedMap.prototype.remove = function(k) {\n\t      return updateOrderedMap(this, k, NOT_SET);\n\t    };\n\t\n\t    OrderedMap.prototype.wasAltered = function() {\n\t      return this._map.wasAltered() || this._list.wasAltered();\n\t    };\n\t\n\t    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      return this._list.__iterate(\n\t        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n\t        reverse\n\t      );\n\t    };\n\t\n\t    OrderedMap.prototype.__iterator = function(type, reverse) {\n\t      return this._list.fromEntrySeq().__iterator(type, reverse);\n\t    };\n\t\n\t    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      var newMap = this._map.__ensureOwner(ownerID);\n\t      var newList = this._list.__ensureOwner(ownerID);\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        this._map = newMap;\n\t        this._list = newList;\n\t        return this;\n\t      }\n\t      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n\t    };\n\t\n\t\n\t  function isOrderedMap(maybeOrderedMap) {\n\t    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n\t  }\n\t\n\t  OrderedMap.isOrderedMap = isOrderedMap;\n\t\n\t  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n\t  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\t\n\t\n\t\n\t  function makeOrderedMap(map, list, ownerID, hash) {\n\t    var omap = Object.create(OrderedMap.prototype);\n\t    omap.size = map ? map.size : 0;\n\t    omap._map = map;\n\t    omap._list = list;\n\t    omap.__ownerID = ownerID;\n\t    omap.__hash = hash;\n\t    return omap;\n\t  }\n\t\n\t  var EMPTY_ORDERED_MAP;\n\t  function emptyOrderedMap() {\n\t    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n\t  }\n\t\n\t  function updateOrderedMap(omap, k, v) {\n\t    var map = omap._map;\n\t    var list = omap._list;\n\t    var i = map.get(k);\n\t    var has = i !== undefined;\n\t    var newMap;\n\t    var newList;\n\t    if (v === NOT_SET) { // removed\n\t      if (!has) {\n\t        return omap;\n\t      }\n\t      if (list.size >= SIZE && list.size >= map.size * 2) {\n\t        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n\t        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n\t        if (omap.__ownerID) {\n\t          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n\t        }\n\t      } else {\n\t        newMap = map.remove(k);\n\t        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n\t      }\n\t    } else {\n\t      if (has) {\n\t        if (v === list.get(i)[1]) {\n\t          return omap;\n\t        }\n\t        newMap = map;\n\t        newList = list.set(i, [k, v]);\n\t      } else {\n\t        newMap = map.set(k, list.size);\n\t        newList = list.set(list.size, [k, v]);\n\t      }\n\t    }\n\t    if (omap.__ownerID) {\n\t      omap.size = newMap.size;\n\t      omap._map = newMap;\n\t      omap._list = newList;\n\t      omap.__hash = undefined;\n\t      return omap;\n\t    }\n\t    return makeOrderedMap(newMap, newList);\n\t  }\n\t\n\t  createClass(ToKeyedSequence, KeyedSeq);\n\t    function ToKeyedSequence(indexed, useKeys) {\n\t      this._iter = indexed;\n\t      this._useKeys = useKeys;\n\t      this.size = indexed.size;\n\t    }\n\t\n\t    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n\t      return this._iter.get(key, notSetValue);\n\t    };\n\t\n\t    ToKeyedSequence.prototype.has = function(key) {\n\t      return this._iter.has(key);\n\t    };\n\t\n\t    ToKeyedSequence.prototype.valueSeq = function() {\n\t      return this._iter.valueSeq();\n\t    };\n\t\n\t    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n\t      var reversedSequence = reverseFactory(this, true);\n\t      if (!this._useKeys) {\n\t        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n\t      }\n\t      return reversedSequence;\n\t    };\n\t\n\t    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n\t      var mappedSequence = mapFactory(this, mapper, context);\n\t      if (!this._useKeys) {\n\t        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n\t      }\n\t      return mappedSequence;\n\t    };\n\t\n\t    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      var ii;\n\t      return this._iter.__iterate(\n\t        this._useKeys ?\n\t          function(v, k)  {return fn(v, k, this$0)} :\n\t          ((ii = reverse ? resolveSize(this) : 0),\n\t            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n\t        reverse\n\t      );\n\t    };\n\t\n\t    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n\t      if (this._useKeys) {\n\t        return this._iter.__iterator(type, reverse);\n\t      }\n\t      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\t      var ii = reverse ? resolveSize(this) : 0;\n\t      return new Iterator(function()  {\n\t        var step = iterator.next();\n\t        return step.done ? step :\n\t          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n\t      });\n\t    };\n\t\n\t  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\t\n\t\n\t  createClass(ToIndexedSequence, IndexedSeq);\n\t    function ToIndexedSequence(iter) {\n\t      this._iter = iter;\n\t      this.size = iter.size;\n\t    }\n\t\n\t    ToIndexedSequence.prototype.includes = function(value) {\n\t      return this._iter.includes(value);\n\t    };\n\t\n\t    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      var iterations = 0;\n\t      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n\t    };\n\t\n\t    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n\t      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        var step = iterator.next();\n\t        return step.done ? step :\n\t          iteratorValue(type, iterations++, step.value, step)\n\t      });\n\t    };\n\t\n\t\n\t\n\t  createClass(ToSetSequence, SetSeq);\n\t    function ToSetSequence(iter) {\n\t      this._iter = iter;\n\t      this.size = iter.size;\n\t    }\n\t\n\t    ToSetSequence.prototype.has = function(key) {\n\t      return this._iter.includes(key);\n\t    };\n\t\n\t    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n\t    };\n\t\n\t    ToSetSequence.prototype.__iterator = function(type, reverse) {\n\t      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\t      return new Iterator(function()  {\n\t        var step = iterator.next();\n\t        return step.done ? step :\n\t          iteratorValue(type, step.value, step.value, step);\n\t      });\n\t    };\n\t\n\t\n\t\n\t  createClass(FromEntriesSequence, KeyedSeq);\n\t    function FromEntriesSequence(entries) {\n\t      this._iter = entries;\n\t      this.size = entries.size;\n\t    }\n\t\n\t    FromEntriesSequence.prototype.entrySeq = function() {\n\t      return this._iter.toSeq();\n\t    };\n\t\n\t    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      return this._iter.__iterate(function(entry ) {\n\t        // Check if entry exists first so array access doesn't throw for holes\n\t        // in the parent iteration.\n\t        if (entry) {\n\t          validateEntry(entry);\n\t          var indexedIterable = isIterable(entry);\n\t          return fn(\n\t            indexedIterable ? entry.get(1) : entry[1],\n\t            indexedIterable ? entry.get(0) : entry[0],\n\t            this$0\n\t          );\n\t        }\n\t      }, reverse);\n\t    };\n\t\n\t    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n\t      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n\t      return new Iterator(function()  {\n\t        while (true) {\n\t          var step = iterator.next();\n\t          if (step.done) {\n\t            return step;\n\t          }\n\t          var entry = step.value;\n\t          // Check if entry exists first so array access doesn't throw for holes\n\t          // in the parent iteration.\n\t          if (entry) {\n\t            validateEntry(entry);\n\t            var indexedIterable = isIterable(entry);\n\t            return iteratorValue(\n\t              type,\n\t              indexedIterable ? entry.get(0) : entry[0],\n\t              indexedIterable ? entry.get(1) : entry[1],\n\t              step\n\t            );\n\t          }\n\t        }\n\t      });\n\t    };\n\t\n\t\n\t  ToIndexedSequence.prototype.cacheResult =\n\t  ToKeyedSequence.prototype.cacheResult =\n\t  ToSetSequence.prototype.cacheResult =\n\t  FromEntriesSequence.prototype.cacheResult =\n\t    cacheResultThrough;\n\t\n\t\n\t  function flipFactory(iterable) {\n\t    var flipSequence = makeSequence(iterable);\n\t    flipSequence._iter = iterable;\n\t    flipSequence.size = iterable.size;\n\t    flipSequence.flip = function()  {return iterable};\n\t    flipSequence.reverse = function () {\n\t      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n\t      reversedSequence.flip = function()  {return iterable.reverse()};\n\t      return reversedSequence;\n\t    };\n\t    flipSequence.has = function(key ) {return iterable.includes(key)};\n\t    flipSequence.includes = function(key ) {return iterable.has(key)};\n\t    flipSequence.cacheResult = cacheResultThrough;\n\t    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n\t      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n\t    }\n\t    flipSequence.__iteratorUncached = function(type, reverse) {\n\t      if (type === ITERATE_ENTRIES) {\n\t        var iterator = iterable.__iterator(type, reverse);\n\t        return new Iterator(function()  {\n\t          var step = iterator.next();\n\t          if (!step.done) {\n\t            var k = step.value[0];\n\t            step.value[0] = step.value[1];\n\t            step.value[1] = k;\n\t          }\n\t          return step;\n\t        });\n\t      }\n\t      return iterable.__iterator(\n\t        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n\t        reverse\n\t      );\n\t    }\n\t    return flipSequence;\n\t  }\n\t\n\t\n\t  function mapFactory(iterable, mapper, context) {\n\t    var mappedSequence = makeSequence(iterable);\n\t    mappedSequence.size = iterable.size;\n\t    mappedSequence.has = function(key ) {return iterable.has(key)};\n\t    mappedSequence.get = function(key, notSetValue)  {\n\t      var v = iterable.get(key, NOT_SET);\n\t      return v === NOT_SET ?\n\t        notSetValue :\n\t        mapper.call(context, v, key, iterable);\n\t    };\n\t    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n\t      return iterable.__iterate(\n\t        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n\t        reverse\n\t      );\n\t    }\n\t    mappedSequence.__iteratorUncached = function (type, reverse) {\n\t      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\t      return new Iterator(function()  {\n\t        var step = iterator.next();\n\t        if (step.done) {\n\t          return step;\n\t        }\n\t        var entry = step.value;\n\t        var key = entry[0];\n\t        return iteratorValue(\n\t          type,\n\t          key,\n\t          mapper.call(context, entry[1], key, iterable),\n\t          step\n\t        );\n\t      });\n\t    }\n\t    return mappedSequence;\n\t  }\n\t\n\t\n\t  function reverseFactory(iterable, useKeys) {\n\t    var reversedSequence = makeSequence(iterable);\n\t    reversedSequence._iter = iterable;\n\t    reversedSequence.size = iterable.size;\n\t    reversedSequence.reverse = function()  {return iterable};\n\t    if (iterable.flip) {\n\t      reversedSequence.flip = function () {\n\t        var flipSequence = flipFactory(iterable);\n\t        flipSequence.reverse = function()  {return iterable.flip()};\n\t        return flipSequence;\n\t      };\n\t    }\n\t    reversedSequence.get = function(key, notSetValue) \n\t      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n\t    reversedSequence.has = function(key )\n\t      {return iterable.has(useKeys ? key : -1 - key)};\n\t    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n\t    reversedSequence.cacheResult = cacheResultThrough;\n\t    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n\t      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n\t    };\n\t    reversedSequence.__iterator =\n\t      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n\t    return reversedSequence;\n\t  }\n\t\n\t\n\t  function filterFactory(iterable, predicate, context, useKeys) {\n\t    var filterSequence = makeSequence(iterable);\n\t    if (useKeys) {\n\t      filterSequence.has = function(key ) {\n\t        var v = iterable.get(key, NOT_SET);\n\t        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n\t      };\n\t      filterSequence.get = function(key, notSetValue)  {\n\t        var v = iterable.get(key, NOT_SET);\n\t        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n\t          v : notSetValue;\n\t      };\n\t    }\n\t    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n\t      var iterations = 0;\n\t      iterable.__iterate(function(v, k, c)  {\n\t        if (predicate.call(context, v, k, c)) {\n\t          iterations++;\n\t          return fn(v, useKeys ? k : iterations - 1, this$0);\n\t        }\n\t      }, reverse);\n\t      return iterations;\n\t    };\n\t    filterSequence.__iteratorUncached = function (type, reverse) {\n\t      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        while (true) {\n\t          var step = iterator.next();\n\t          if (step.done) {\n\t            return step;\n\t          }\n\t          var entry = step.value;\n\t          var key = entry[0];\n\t          var value = entry[1];\n\t          if (predicate.call(context, value, key, iterable)) {\n\t            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n\t          }\n\t        }\n\t      });\n\t    }\n\t    return filterSequence;\n\t  }\n\t\n\t\n\t  function countByFactory(iterable, grouper, context) {\n\t    var groups = Map().asMutable();\n\t    iterable.__iterate(function(v, k)  {\n\t      groups.update(\n\t        grouper.call(context, v, k, iterable),\n\t        0,\n\t        function(a ) {return a + 1}\n\t      );\n\t    });\n\t    return groups.asImmutable();\n\t  }\n\t\n\t\n\t  function groupByFactory(iterable, grouper, context) {\n\t    var isKeyedIter = isKeyed(iterable);\n\t    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n\t    iterable.__iterate(function(v, k)  {\n\t      groups.update(\n\t        grouper.call(context, v, k, iterable),\n\t        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n\t      );\n\t    });\n\t    var coerce = iterableClass(iterable);\n\t    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n\t  }\n\t\n\t\n\t  function sliceFactory(iterable, begin, end, useKeys) {\n\t    var originalSize = iterable.size;\n\t\n\t    // Sanitize begin & end using this shorthand for ToInt32(argument)\n\t    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n\t    if (begin !== undefined) {\n\t      begin = begin | 0;\n\t    }\n\t    if (end !== undefined) {\n\t      if (end === Infinity) {\n\t        end = originalSize;\n\t      } else {\n\t        end = end | 0;\n\t      }\n\t    }\n\t\n\t    if (wholeSlice(begin, end, originalSize)) {\n\t      return iterable;\n\t    }\n\t\n\t    var resolvedBegin = resolveBegin(begin, originalSize);\n\t    var resolvedEnd = resolveEnd(end, originalSize);\n\t\n\t    // begin or end will be NaN if they were provided as negative numbers and\n\t    // this iterable's size is unknown. In that case, cache first so there is\n\t    // a known size and these do not resolve to NaN.\n\t    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n\t      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n\t    }\n\t\n\t    // Note: resolvedEnd is undefined when the original sequence's length is\n\t    // unknown and this slice did not supply an end and should contain all\n\t    // elements after resolvedBegin.\n\t    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n\t    var resolvedSize = resolvedEnd - resolvedBegin;\n\t    var sliceSize;\n\t    if (resolvedSize === resolvedSize) {\n\t      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n\t    }\n\t\n\t    var sliceSeq = makeSequence(iterable);\n\t\n\t    // If iterable.size is undefined, the size of the realized sliceSeq is\n\t    // unknown at this point unless the number of items to slice is 0\n\t    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\t\n\t    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n\t      sliceSeq.get = function (index, notSetValue) {\n\t        index = wrapIndex(this, index);\n\t        return index >= 0 && index < sliceSize ?\n\t          iterable.get(index + resolvedBegin, notSetValue) :\n\t          notSetValue;\n\t      }\n\t    }\n\t\n\t    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n\t      if (sliceSize === 0) {\n\t        return 0;\n\t      }\n\t      if (reverse) {\n\t        return this.cacheResult().__iterate(fn, reverse);\n\t      }\n\t      var skipped = 0;\n\t      var isSkipping = true;\n\t      var iterations = 0;\n\t      iterable.__iterate(function(v, k)  {\n\t        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n\t          iterations++;\n\t          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n\t                 iterations !== sliceSize;\n\t        }\n\t      });\n\t      return iterations;\n\t    };\n\t\n\t    sliceSeq.__iteratorUncached = function(type, reverse) {\n\t      if (sliceSize !== 0 && reverse) {\n\t        return this.cacheResult().__iterator(type, reverse);\n\t      }\n\t      // Don't bother instantiating parent iterator if taking 0.\n\t      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n\t      var skipped = 0;\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        while (skipped++ < resolvedBegin) {\n\t          iterator.next();\n\t        }\n\t        if (++iterations > sliceSize) {\n\t          return iteratorDone();\n\t        }\n\t        var step = iterator.next();\n\t        if (useKeys || type === ITERATE_VALUES) {\n\t          return step;\n\t        } else if (type === ITERATE_KEYS) {\n\t          return iteratorValue(type, iterations - 1, undefined, step);\n\t        } else {\n\t          return iteratorValue(type, iterations - 1, step.value[1], step);\n\t        }\n\t      });\n\t    }\n\t\n\t    return sliceSeq;\n\t  }\n\t\n\t\n\t  function takeWhileFactory(iterable, predicate, context) {\n\t    var takeSequence = makeSequence(iterable);\n\t    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n\t      if (reverse) {\n\t        return this.cacheResult().__iterate(fn, reverse);\n\t      }\n\t      var iterations = 0;\n\t      iterable.__iterate(function(v, k, c) \n\t        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n\t      );\n\t      return iterations;\n\t    };\n\t    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n\t      if (reverse) {\n\t        return this.cacheResult().__iterator(type, reverse);\n\t      }\n\t      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\t      var iterating = true;\n\t      return new Iterator(function()  {\n\t        if (!iterating) {\n\t          return iteratorDone();\n\t        }\n\t        var step = iterator.next();\n\t        if (step.done) {\n\t          return step;\n\t        }\n\t        var entry = step.value;\n\t        var k = entry[0];\n\t        var v = entry[1];\n\t        if (!predicate.call(context, v, k, this$0)) {\n\t          iterating = false;\n\t          return iteratorDone();\n\t        }\n\t        return type === ITERATE_ENTRIES ? step :\n\t          iteratorValue(type, k, v, step);\n\t      });\n\t    };\n\t    return takeSequence;\n\t  }\n\t\n\t\n\t  function skipWhileFactory(iterable, predicate, context, useKeys) {\n\t    var skipSequence = makeSequence(iterable);\n\t    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n\t      if (reverse) {\n\t        return this.cacheResult().__iterate(fn, reverse);\n\t      }\n\t      var isSkipping = true;\n\t      var iterations = 0;\n\t      iterable.__iterate(function(v, k, c)  {\n\t        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n\t          iterations++;\n\t          return fn(v, useKeys ? k : iterations - 1, this$0);\n\t        }\n\t      });\n\t      return iterations;\n\t    };\n\t    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n\t      if (reverse) {\n\t        return this.cacheResult().__iterator(type, reverse);\n\t      }\n\t      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n\t      var skipping = true;\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        var step, k, v;\n\t        do {\n\t          step = iterator.next();\n\t          if (step.done) {\n\t            if (useKeys || type === ITERATE_VALUES) {\n\t              return step;\n\t            } else if (type === ITERATE_KEYS) {\n\t              return iteratorValue(type, iterations++, undefined, step);\n\t            } else {\n\t              return iteratorValue(type, iterations++, step.value[1], step);\n\t            }\n\t          }\n\t          var entry = step.value;\n\t          k = entry[0];\n\t          v = entry[1];\n\t          skipping && (skipping = predicate.call(context, v, k, this$0));\n\t        } while (skipping);\n\t        return type === ITERATE_ENTRIES ? step :\n\t          iteratorValue(type, k, v, step);\n\t      });\n\t    };\n\t    return skipSequence;\n\t  }\n\t\n\t\n\t  function concatFactory(iterable, values) {\n\t    var isKeyedIterable = isKeyed(iterable);\n\t    var iters = [iterable].concat(values).map(function(v ) {\n\t      if (!isIterable(v)) {\n\t        v = isKeyedIterable ?\n\t          keyedSeqFromValue(v) :\n\t          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n\t      } else if (isKeyedIterable) {\n\t        v = KeyedIterable(v);\n\t      }\n\t      return v;\n\t    }).filter(function(v ) {return v.size !== 0});\n\t\n\t    if (iters.length === 0) {\n\t      return iterable;\n\t    }\n\t\n\t    if (iters.length === 1) {\n\t      var singleton = iters[0];\n\t      if (singleton === iterable ||\n\t          isKeyedIterable && isKeyed(singleton) ||\n\t          isIndexed(iterable) && isIndexed(singleton)) {\n\t        return singleton;\n\t      }\n\t    }\n\t\n\t    var concatSeq = new ArraySeq(iters);\n\t    if (isKeyedIterable) {\n\t      concatSeq = concatSeq.toKeyedSeq();\n\t    } else if (!isIndexed(iterable)) {\n\t      concatSeq = concatSeq.toSetSeq();\n\t    }\n\t    concatSeq = concatSeq.flatten(true);\n\t    concatSeq.size = iters.reduce(\n\t      function(sum, seq)  {\n\t        if (sum !== undefined) {\n\t          var size = seq.size;\n\t          if (size !== undefined) {\n\t            return sum + size;\n\t          }\n\t        }\n\t      },\n\t      0\n\t    );\n\t    return concatSeq;\n\t  }\n\t\n\t\n\t  function flattenFactory(iterable, depth, useKeys) {\n\t    var flatSequence = makeSequence(iterable);\n\t    flatSequence.__iterateUncached = function(fn, reverse) {\n\t      var iterations = 0;\n\t      var stopped = false;\n\t      function flatDeep(iter, currentDepth) {var this$0 = this;\n\t        iter.__iterate(function(v, k)  {\n\t          if ((!depth || currentDepth < depth) && isIterable(v)) {\n\t            flatDeep(v, currentDepth + 1);\n\t          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n\t            stopped = true;\n\t          }\n\t          return !stopped;\n\t        }, reverse);\n\t      }\n\t      flatDeep(iterable, 0);\n\t      return iterations;\n\t    }\n\t    flatSequence.__iteratorUncached = function(type, reverse) {\n\t      var iterator = iterable.__iterator(type, reverse);\n\t      var stack = [];\n\t      var iterations = 0;\n\t      return new Iterator(function()  {\n\t        while (iterator) {\n\t          var step = iterator.next();\n\t          if (step.done !== false) {\n\t            iterator = stack.pop();\n\t            continue;\n\t          }\n\t          var v = step.value;\n\t          if (type === ITERATE_ENTRIES) {\n\t            v = v[1];\n\t          }\n\t          if ((!depth || stack.length < depth) && isIterable(v)) {\n\t            stack.push(iterator);\n\t            iterator = v.__iterator(type, reverse);\n\t          } else {\n\t            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n\t          }\n\t        }\n\t        return iteratorDone();\n\t      });\n\t    }\n\t    return flatSequence;\n\t  }\n\t\n\t\n\t  function flatMapFactory(iterable, mapper, context) {\n\t    var coerce = iterableClass(iterable);\n\t    return iterable.toSeq().map(\n\t      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n\t    ).flatten(true);\n\t  }\n\t\n\t\n\t  function interposeFactory(iterable, separator) {\n\t    var interposedSequence = makeSequence(iterable);\n\t    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n\t    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n\t      var iterations = 0;\n\t      iterable.__iterate(function(v, k) \n\t        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n\t        fn(v, iterations++, this$0) !== false},\n\t        reverse\n\t      );\n\t      return iterations;\n\t    };\n\t    interposedSequence.__iteratorUncached = function(type, reverse) {\n\t      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n\t      var iterations = 0;\n\t      var step;\n\t      return new Iterator(function()  {\n\t        if (!step || iterations % 2) {\n\t          step = iterator.next();\n\t          if (step.done) {\n\t            return step;\n\t          }\n\t        }\n\t        return iterations % 2 ?\n\t          iteratorValue(type, iterations++, separator) :\n\t          iteratorValue(type, iterations++, step.value, step);\n\t      });\n\t    };\n\t    return interposedSequence;\n\t  }\n\t\n\t\n\t  function sortFactory(iterable, comparator, mapper) {\n\t    if (!comparator) {\n\t      comparator = defaultComparator;\n\t    }\n\t    var isKeyedIterable = isKeyed(iterable);\n\t    var index = 0;\n\t    var entries = iterable.toSeq().map(\n\t      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n\t    ).toArray();\n\t    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n\t      isKeyedIterable ?\n\t      function(v, i)  { entries[i].length = 2; } :\n\t      function(v, i)  { entries[i] = v[1]; }\n\t    );\n\t    return isKeyedIterable ? KeyedSeq(entries) :\n\t      isIndexed(iterable) ? IndexedSeq(entries) :\n\t      SetSeq(entries);\n\t  }\n\t\n\t\n\t  function maxFactory(iterable, comparator, mapper) {\n\t    if (!comparator) {\n\t      comparator = defaultComparator;\n\t    }\n\t    if (mapper) {\n\t      var entry = iterable.toSeq()\n\t        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n\t        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n\t      return entry && entry[0];\n\t    } else {\n\t      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n\t    }\n\t  }\n\t\n\t  function maxCompare(comparator, a, b) {\n\t    var comp = comparator(b, a);\n\t    // b is considered the new max if the comparator declares them equal, but\n\t    // they are not equal and b is in fact a nullish value.\n\t    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n\t  }\n\t\n\t\n\t  function zipWithFactory(keyIter, zipper, iters) {\n\t    var zipSequence = makeSequence(keyIter);\n\t    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n\t    // Note: this a generic base implementation of __iterate in terms of\n\t    // __iterator which may be more generically useful in the future.\n\t    zipSequence.__iterate = function(fn, reverse) {\n\t      /* generic:\n\t      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n\t      var step;\n\t      var iterations = 0;\n\t      while (!(step = iterator.next()).done) {\n\t        iterations++;\n\t        if (fn(step.value[1], step.value[0], this) === false) {\n\t          break;\n\t        }\n\t      }\n\t      return iterations;\n\t      */\n\t      // indexed:\n\t      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n\t      var step;\n\t      var iterations = 0;\n\t      while (!(step = iterator.next()).done) {\n\t        if (fn(step.value, iterations++, this) === false) {\n\t          break;\n\t        }\n\t      }\n\t      return iterations;\n\t    };\n\t    zipSequence.__iteratorUncached = function(type, reverse) {\n\t      var iterators = iters.map(function(i )\n\t        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n\t      );\n\t      var iterations = 0;\n\t      var isDone = false;\n\t      return new Iterator(function()  {\n\t        var steps;\n\t        if (!isDone) {\n\t          steps = iterators.map(function(i ) {return i.next()});\n\t          isDone = steps.some(function(s ) {return s.done});\n\t        }\n\t        if (isDone) {\n\t          return iteratorDone();\n\t        }\n\t        return iteratorValue(\n\t          type,\n\t          iterations++,\n\t          zipper.apply(null, steps.map(function(s ) {return s.value}))\n\t        );\n\t      });\n\t    };\n\t    return zipSequence\n\t  }\n\t\n\t\n\t  // #pragma Helper Functions\n\t\n\t  function reify(iter, seq) {\n\t    return isSeq(iter) ? seq : iter.constructor(seq);\n\t  }\n\t\n\t  function validateEntry(entry) {\n\t    if (entry !== Object(entry)) {\n\t      throw new TypeError('Expected [K, V] tuple: ' + entry);\n\t    }\n\t  }\n\t\n\t  function resolveSize(iter) {\n\t    assertNotInfinite(iter.size);\n\t    return ensureSize(iter);\n\t  }\n\t\n\t  function iterableClass(iterable) {\n\t    return isKeyed(iterable) ? KeyedIterable :\n\t      isIndexed(iterable) ? IndexedIterable :\n\t      SetIterable;\n\t  }\n\t\n\t  function makeSequence(iterable) {\n\t    return Object.create(\n\t      (\n\t        isKeyed(iterable) ? KeyedSeq :\n\t        isIndexed(iterable) ? IndexedSeq :\n\t        SetSeq\n\t      ).prototype\n\t    );\n\t  }\n\t\n\t  function cacheResultThrough() {\n\t    if (this._iter.cacheResult) {\n\t      this._iter.cacheResult();\n\t      this.size = this._iter.size;\n\t      return this;\n\t    } else {\n\t      return Seq.prototype.cacheResult.call(this);\n\t    }\n\t  }\n\t\n\t  function defaultComparator(a, b) {\n\t    return a > b ? 1 : a < b ? -1 : 0;\n\t  }\n\t\n\t  function forceIterator(keyPath) {\n\t    var iter = getIterator(keyPath);\n\t    if (!iter) {\n\t      // Array might not be iterable in this environment, so we need a fallback\n\t      // to our wrapped type.\n\t      if (!isArrayLike(keyPath)) {\n\t        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n\t      }\n\t      iter = getIterator(Iterable(keyPath));\n\t    }\n\t    return iter;\n\t  }\n\t\n\t  createClass(Record, KeyedCollection);\n\t\n\t    function Record(defaultValues, name) {\n\t      var hasInitialized;\n\t\n\t      var RecordType = function Record(values) {\n\t        if (values instanceof RecordType) {\n\t          return values;\n\t        }\n\t        if (!(this instanceof RecordType)) {\n\t          return new RecordType(values);\n\t        }\n\t        if (!hasInitialized) {\n\t          hasInitialized = true;\n\t          var keys = Object.keys(defaultValues);\n\t          setProps(RecordTypePrototype, keys);\n\t          RecordTypePrototype.size = keys.length;\n\t          RecordTypePrototype._name = name;\n\t          RecordTypePrototype._keys = keys;\n\t          RecordTypePrototype._defaultValues = defaultValues;\n\t        }\n\t        this._map = Map(values);\n\t      };\n\t\n\t      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n\t      RecordTypePrototype.constructor = RecordType;\n\t\n\t      return RecordType;\n\t    }\n\t\n\t    Record.prototype.toString = function() {\n\t      return this.__toString(recordName(this) + ' {', '}');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    Record.prototype.has = function(k) {\n\t      return this._defaultValues.hasOwnProperty(k);\n\t    };\n\t\n\t    Record.prototype.get = function(k, notSetValue) {\n\t      if (!this.has(k)) {\n\t        return notSetValue;\n\t      }\n\t      var defaultVal = this._defaultValues[k];\n\t      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    Record.prototype.clear = function() {\n\t      if (this.__ownerID) {\n\t        this._map && this._map.clear();\n\t        return this;\n\t      }\n\t      var RecordType = this.constructor;\n\t      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n\t    };\n\t\n\t    Record.prototype.set = function(k, v) {\n\t      if (!this.has(k)) {\n\t        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n\t      }\n\t      if (this._map && !this._map.has(k)) {\n\t        var defaultVal = this._defaultValues[k];\n\t        if (v === defaultVal) {\n\t          return this;\n\t        }\n\t      }\n\t      var newMap = this._map && this._map.set(k, v);\n\t      if (this.__ownerID || newMap === this._map) {\n\t        return this;\n\t      }\n\t      return makeRecord(this, newMap);\n\t    };\n\t\n\t    Record.prototype.remove = function(k) {\n\t      if (!this.has(k)) {\n\t        return this;\n\t      }\n\t      var newMap = this._map && this._map.remove(k);\n\t      if (this.__ownerID || newMap === this._map) {\n\t        return this;\n\t      }\n\t      return makeRecord(this, newMap);\n\t    };\n\t\n\t    Record.prototype.wasAltered = function() {\n\t      return this._map.wasAltered();\n\t    };\n\t\n\t    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n\t      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n\t    };\n\t\n\t    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n\t    };\n\t\n\t    Record.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      var newMap = this._map && this._map.__ensureOwner(ownerID);\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        this._map = newMap;\n\t        return this;\n\t      }\n\t      return makeRecord(this, newMap, ownerID);\n\t    };\n\t\n\t\n\t  var RecordPrototype = Record.prototype;\n\t  RecordPrototype[DELETE] = RecordPrototype.remove;\n\t  RecordPrototype.deleteIn =\n\t  RecordPrototype.removeIn = MapPrototype.removeIn;\n\t  RecordPrototype.merge = MapPrototype.merge;\n\t  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n\t  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n\t  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n\t  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n\t  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n\t  RecordPrototype.setIn = MapPrototype.setIn;\n\t  RecordPrototype.update = MapPrototype.update;\n\t  RecordPrototype.updateIn = MapPrototype.updateIn;\n\t  RecordPrototype.withMutations = MapPrototype.withMutations;\n\t  RecordPrototype.asMutable = MapPrototype.asMutable;\n\t  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\t\n\t\n\t  function makeRecord(likeRecord, map, ownerID) {\n\t    var record = Object.create(Object.getPrototypeOf(likeRecord));\n\t    record._map = map;\n\t    record.__ownerID = ownerID;\n\t    return record;\n\t  }\n\t\n\t  function recordName(record) {\n\t    return record._name || record.constructor.name || 'Record';\n\t  }\n\t\n\t  function setProps(prototype, names) {\n\t    try {\n\t      names.forEach(setProp.bind(undefined, prototype));\n\t    } catch (error) {\n\t      // Object.defineProperty failed. Probably IE8.\n\t    }\n\t  }\n\t\n\t  function setProp(prototype, name) {\n\t    Object.defineProperty(prototype, name, {\n\t      get: function() {\n\t        return this.get(name);\n\t      },\n\t      set: function(value) {\n\t        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n\t        this.set(name, value);\n\t      }\n\t    });\n\t  }\n\t\n\t  createClass(Set, SetCollection);\n\t\n\t    // @pragma Construction\n\t\n\t    function Set(value) {\n\t      return value === null || value === undefined ? emptySet() :\n\t        isSet(value) && !isOrdered(value) ? value :\n\t        emptySet().withMutations(function(set ) {\n\t          var iter = SetIterable(value);\n\t          assertNotInfinite(iter.size);\n\t          iter.forEach(function(v ) {return set.add(v)});\n\t        });\n\t    }\n\t\n\t    Set.of = function(/*...values*/) {\n\t      return this(arguments);\n\t    };\n\t\n\t    Set.fromKeys = function(value) {\n\t      return this(KeyedIterable(value).keySeq());\n\t    };\n\t\n\t    Set.prototype.toString = function() {\n\t      return this.__toString('Set {', '}');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    Set.prototype.has = function(value) {\n\t      return this._map.has(value);\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    Set.prototype.add = function(value) {\n\t      return updateSet(this, this._map.set(value, true));\n\t    };\n\t\n\t    Set.prototype.remove = function(value) {\n\t      return updateSet(this, this._map.remove(value));\n\t    };\n\t\n\t    Set.prototype.clear = function() {\n\t      return updateSet(this, this._map.clear());\n\t    };\n\t\n\t    // @pragma Composition\n\t\n\t    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n\t      iters = iters.filter(function(x ) {return x.size !== 0});\n\t      if (iters.length === 0) {\n\t        return this;\n\t      }\n\t      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n\t        return this.constructor(iters[0]);\n\t      }\n\t      return this.withMutations(function(set ) {\n\t        for (var ii = 0; ii < iters.length; ii++) {\n\t          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n\t        }\n\t      });\n\t    };\n\t\n\t    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n\t      if (iters.length === 0) {\n\t        return this;\n\t      }\n\t      iters = iters.map(function(iter ) {return SetIterable(iter)});\n\t      var originalSet = this;\n\t      return this.withMutations(function(set ) {\n\t        originalSet.forEach(function(value ) {\n\t          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n\t            set.remove(value);\n\t          }\n\t        });\n\t      });\n\t    };\n\t\n\t    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n\t      if (iters.length === 0) {\n\t        return this;\n\t      }\n\t      iters = iters.map(function(iter ) {return SetIterable(iter)});\n\t      var originalSet = this;\n\t      return this.withMutations(function(set ) {\n\t        originalSet.forEach(function(value ) {\n\t          if (iters.some(function(iter ) {return iter.includes(value)})) {\n\t            set.remove(value);\n\t          }\n\t        });\n\t      });\n\t    };\n\t\n\t    Set.prototype.merge = function() {\n\t      return this.union.apply(this, arguments);\n\t    };\n\t\n\t    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n\t      return this.union.apply(this, iters);\n\t    };\n\t\n\t    Set.prototype.sort = function(comparator) {\n\t      // Late binding\n\t      return OrderedSet(sortFactory(this, comparator));\n\t    };\n\t\n\t    Set.prototype.sortBy = function(mapper, comparator) {\n\t      // Late binding\n\t      return OrderedSet(sortFactory(this, comparator, mapper));\n\t    };\n\t\n\t    Set.prototype.wasAltered = function() {\n\t      return this._map.wasAltered();\n\t    };\n\t\n\t    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n\t      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n\t    };\n\t\n\t    Set.prototype.__iterator = function(type, reverse) {\n\t      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n\t    };\n\t\n\t    Set.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      var newMap = this._map.__ensureOwner(ownerID);\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        this._map = newMap;\n\t        return this;\n\t      }\n\t      return this.__make(newMap, ownerID);\n\t    };\n\t\n\t\n\t  function isSet(maybeSet) {\n\t    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n\t  }\n\t\n\t  Set.isSet = isSet;\n\t\n\t  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\t\n\t  var SetPrototype = Set.prototype;\n\t  SetPrototype[IS_SET_SENTINEL] = true;\n\t  SetPrototype[DELETE] = SetPrototype.remove;\n\t  SetPrototype.mergeDeep = SetPrototype.merge;\n\t  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n\t  SetPrototype.withMutations = MapPrototype.withMutations;\n\t  SetPrototype.asMutable = MapPrototype.asMutable;\n\t  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\t\n\t  SetPrototype.__empty = emptySet;\n\t  SetPrototype.__make = makeSet;\n\t\n\t  function updateSet(set, newMap) {\n\t    if (set.__ownerID) {\n\t      set.size = newMap.size;\n\t      set._map = newMap;\n\t      return set;\n\t    }\n\t    return newMap === set._map ? set :\n\t      newMap.size === 0 ? set.__empty() :\n\t      set.__make(newMap);\n\t  }\n\t\n\t  function makeSet(map, ownerID) {\n\t    var set = Object.create(SetPrototype);\n\t    set.size = map ? map.size : 0;\n\t    set._map = map;\n\t    set.__ownerID = ownerID;\n\t    return set;\n\t  }\n\t\n\t  var EMPTY_SET;\n\t  function emptySet() {\n\t    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n\t  }\n\t\n\t  createClass(OrderedSet, Set);\n\t\n\t    // @pragma Construction\n\t\n\t    function OrderedSet(value) {\n\t      return value === null || value === undefined ? emptyOrderedSet() :\n\t        isOrderedSet(value) ? value :\n\t        emptyOrderedSet().withMutations(function(set ) {\n\t          var iter = SetIterable(value);\n\t          assertNotInfinite(iter.size);\n\t          iter.forEach(function(v ) {return set.add(v)});\n\t        });\n\t    }\n\t\n\t    OrderedSet.of = function(/*...values*/) {\n\t      return this(arguments);\n\t    };\n\t\n\t    OrderedSet.fromKeys = function(value) {\n\t      return this(KeyedIterable(value).keySeq());\n\t    };\n\t\n\t    OrderedSet.prototype.toString = function() {\n\t      return this.__toString('OrderedSet {', '}');\n\t    };\n\t\n\t\n\t  function isOrderedSet(maybeOrderedSet) {\n\t    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n\t  }\n\t\n\t  OrderedSet.isOrderedSet = isOrderedSet;\n\t\n\t  var OrderedSetPrototype = OrderedSet.prototype;\n\t  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\t\n\t  OrderedSetPrototype.__empty = emptyOrderedSet;\n\t  OrderedSetPrototype.__make = makeOrderedSet;\n\t\n\t  function makeOrderedSet(map, ownerID) {\n\t    var set = Object.create(OrderedSetPrototype);\n\t    set.size = map ? map.size : 0;\n\t    set._map = map;\n\t    set.__ownerID = ownerID;\n\t    return set;\n\t  }\n\t\n\t  var EMPTY_ORDERED_SET;\n\t  function emptyOrderedSet() {\n\t    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n\t  }\n\t\n\t  createClass(Stack, IndexedCollection);\n\t\n\t    // @pragma Construction\n\t\n\t    function Stack(value) {\n\t      return value === null || value === undefined ? emptyStack() :\n\t        isStack(value) ? value :\n\t        emptyStack().unshiftAll(value);\n\t    }\n\t\n\t    Stack.of = function(/*...values*/) {\n\t      return this(arguments);\n\t    };\n\t\n\t    Stack.prototype.toString = function() {\n\t      return this.__toString('Stack [', ']');\n\t    };\n\t\n\t    // @pragma Access\n\t\n\t    Stack.prototype.get = function(index, notSetValue) {\n\t      var head = this._head;\n\t      index = wrapIndex(this, index);\n\t      while (head && index--) {\n\t        head = head.next;\n\t      }\n\t      return head ? head.value : notSetValue;\n\t    };\n\t\n\t    Stack.prototype.peek = function() {\n\t      return this._head && this._head.value;\n\t    };\n\t\n\t    // @pragma Modification\n\t\n\t    Stack.prototype.push = function(/*...values*/) {\n\t      if (arguments.length === 0) {\n\t        return this;\n\t      }\n\t      var newSize = this.size + arguments.length;\n\t      var head = this._head;\n\t      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n\t        head = {\n\t          value: arguments[ii],\n\t          next: head\n\t        };\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = newSize;\n\t        this._head = head;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return makeStack(newSize, head);\n\t    };\n\t\n\t    Stack.prototype.pushAll = function(iter) {\n\t      iter = IndexedIterable(iter);\n\t      if (iter.size === 0) {\n\t        return this;\n\t      }\n\t      assertNotInfinite(iter.size);\n\t      var newSize = this.size;\n\t      var head = this._head;\n\t      iter.reverse().forEach(function(value ) {\n\t        newSize++;\n\t        head = {\n\t          value: value,\n\t          next: head\n\t        };\n\t      });\n\t      if (this.__ownerID) {\n\t        this.size = newSize;\n\t        this._head = head;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return makeStack(newSize, head);\n\t    };\n\t\n\t    Stack.prototype.pop = function() {\n\t      return this.slice(1);\n\t    };\n\t\n\t    Stack.prototype.unshift = function(/*...values*/) {\n\t      return this.push.apply(this, arguments);\n\t    };\n\t\n\t    Stack.prototype.unshiftAll = function(iter) {\n\t      return this.pushAll(iter);\n\t    };\n\t\n\t    Stack.prototype.shift = function() {\n\t      return this.pop.apply(this, arguments);\n\t    };\n\t\n\t    Stack.prototype.clear = function() {\n\t      if (this.size === 0) {\n\t        return this;\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = 0;\n\t        this._head = undefined;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return emptyStack();\n\t    };\n\t\n\t    Stack.prototype.slice = function(begin, end) {\n\t      if (wholeSlice(begin, end, this.size)) {\n\t        return this;\n\t      }\n\t      var resolvedBegin = resolveBegin(begin, this.size);\n\t      var resolvedEnd = resolveEnd(end, this.size);\n\t      if (resolvedEnd !== this.size) {\n\t        // super.slice(begin, end);\n\t        return IndexedCollection.prototype.slice.call(this, begin, end);\n\t      }\n\t      var newSize = this.size - resolvedBegin;\n\t      var head = this._head;\n\t      while (resolvedBegin--) {\n\t        head = head.next;\n\t      }\n\t      if (this.__ownerID) {\n\t        this.size = newSize;\n\t        this._head = head;\n\t        this.__hash = undefined;\n\t        this.__altered = true;\n\t        return this;\n\t      }\n\t      return makeStack(newSize, head);\n\t    };\n\t\n\t    // @pragma Mutability\n\t\n\t    Stack.prototype.__ensureOwner = function(ownerID) {\n\t      if (ownerID === this.__ownerID) {\n\t        return this;\n\t      }\n\t      if (!ownerID) {\n\t        this.__ownerID = ownerID;\n\t        this.__altered = false;\n\t        return this;\n\t      }\n\t      return makeStack(this.size, this._head, ownerID, this.__hash);\n\t    };\n\t\n\t    // @pragma Iteration\n\t\n\t    Stack.prototype.__iterate = function(fn, reverse) {\n\t      if (reverse) {\n\t        return this.reverse().__iterate(fn);\n\t      }\n\t      var iterations = 0;\n\t      var node = this._head;\n\t      while (node) {\n\t        if (fn(node.value, iterations++, this) === false) {\n\t          break;\n\t        }\n\t        node = node.next;\n\t      }\n\t      return iterations;\n\t    };\n\t\n\t    Stack.prototype.__iterator = function(type, reverse) {\n\t      if (reverse) {\n\t        return this.reverse().__iterator(type);\n\t      }\n\t      var iterations = 0;\n\t      var node = this._head;\n\t      return new Iterator(function()  {\n\t        if (node) {\n\t          var value = node.value;\n\t          node = node.next;\n\t          return iteratorValue(type, iterations++, value);\n\t        }\n\t        return iteratorDone();\n\t      });\n\t    };\n\t\n\t\n\t  function isStack(maybeStack) {\n\t    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n\t  }\n\t\n\t  Stack.isStack = isStack;\n\t\n\t  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\t\n\t  var StackPrototype = Stack.prototype;\n\t  StackPrototype[IS_STACK_SENTINEL] = true;\n\t  StackPrototype.withMutations = MapPrototype.withMutations;\n\t  StackPrototype.asMutable = MapPrototype.asMutable;\n\t  StackPrototype.asImmutable = MapPrototype.asImmutable;\n\t  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\t\n\t\n\t  function makeStack(size, head, ownerID, hash) {\n\t    var map = Object.create(StackPrototype);\n\t    map.size = size;\n\t    map._head = head;\n\t    map.__ownerID = ownerID;\n\t    map.__hash = hash;\n\t    map.__altered = false;\n\t    return map;\n\t  }\n\t\n\t  var EMPTY_STACK;\n\t  function emptyStack() {\n\t    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n\t  }\n\t\n\t  /**\n\t   * Contributes additional methods to a constructor\n\t   */\n\t  function mixin(ctor, methods) {\n\t    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n\t    Object.keys(methods).forEach(keyCopier);\n\t    Object.getOwnPropertySymbols &&\n\t      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n\t    return ctor;\n\t  }\n\t\n\t  Iterable.Iterator = Iterator;\n\t\n\t  mixin(Iterable, {\n\t\n\t    // ### Conversion to other types\n\t\n\t    toArray: function() {\n\t      assertNotInfinite(this.size);\n\t      var array = new Array(this.size || 0);\n\t      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n\t      return array;\n\t    },\n\t\n\t    toIndexedSeq: function() {\n\t      return new ToIndexedSequence(this);\n\t    },\n\t\n\t    toJS: function() {\n\t      return this.toSeq().map(\n\t        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n\t      ).__toJS();\n\t    },\n\t\n\t    toJSON: function() {\n\t      return this.toSeq().map(\n\t        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n\t      ).__toJS();\n\t    },\n\t\n\t    toKeyedSeq: function() {\n\t      return new ToKeyedSequence(this, true);\n\t    },\n\t\n\t    toMap: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return Map(this.toKeyedSeq());\n\t    },\n\t\n\t    toObject: function() {\n\t      assertNotInfinite(this.size);\n\t      var object = {};\n\t      this.__iterate(function(v, k)  { object[k] = v; });\n\t      return object;\n\t    },\n\t\n\t    toOrderedMap: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return OrderedMap(this.toKeyedSeq());\n\t    },\n\t\n\t    toOrderedSet: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n\t    },\n\t\n\t    toSet: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return Set(isKeyed(this) ? this.valueSeq() : this);\n\t    },\n\t\n\t    toSetSeq: function() {\n\t      return new ToSetSequence(this);\n\t    },\n\t\n\t    toSeq: function() {\n\t      return isIndexed(this) ? this.toIndexedSeq() :\n\t        isKeyed(this) ? this.toKeyedSeq() :\n\t        this.toSetSeq();\n\t    },\n\t\n\t    toStack: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return Stack(isKeyed(this) ? this.valueSeq() : this);\n\t    },\n\t\n\t    toList: function() {\n\t      // Use Late Binding here to solve the circular dependency.\n\t      return List(isKeyed(this) ? this.valueSeq() : this);\n\t    },\n\t\n\t\n\t    // ### Common JavaScript methods and properties\n\t\n\t    toString: function() {\n\t      return '[Iterable]';\n\t    },\n\t\n\t    __toString: function(head, tail) {\n\t      if (this.size === 0) {\n\t        return head + tail;\n\t      }\n\t      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n\t    },\n\t\n\t\n\t    // ### ES6 Collection methods (ES6 Array and Map)\n\t\n\t    concat: function() {var values = SLICE$0.call(arguments, 0);\n\t      return reify(this, concatFactory(this, values));\n\t    },\n\t\n\t    includes: function(searchValue) {\n\t      return this.some(function(value ) {return is(value, searchValue)});\n\t    },\n\t\n\t    entries: function() {\n\t      return this.__iterator(ITERATE_ENTRIES);\n\t    },\n\t\n\t    every: function(predicate, context) {\n\t      assertNotInfinite(this.size);\n\t      var returnValue = true;\n\t      this.__iterate(function(v, k, c)  {\n\t        if (!predicate.call(context, v, k, c)) {\n\t          returnValue = false;\n\t          return false;\n\t        }\n\t      });\n\t      return returnValue;\n\t    },\n\t\n\t    filter: function(predicate, context) {\n\t      return reify(this, filterFactory(this, predicate, context, true));\n\t    },\n\t\n\t    find: function(predicate, context, notSetValue) {\n\t      var entry = this.findEntry(predicate, context);\n\t      return entry ? entry[1] : notSetValue;\n\t    },\n\t\n\t    forEach: function(sideEffect, context) {\n\t      assertNotInfinite(this.size);\n\t      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n\t    },\n\t\n\t    join: function(separator) {\n\t      assertNotInfinite(this.size);\n\t      separator = separator !== undefined ? '' + separator : ',';\n\t      var joined = '';\n\t      var isFirst = true;\n\t      this.__iterate(function(v ) {\n\t        isFirst ? (isFirst = false) : (joined += separator);\n\t        joined += v !== null && v !== undefined ? v.toString() : '';\n\t      });\n\t      return joined;\n\t    },\n\t\n\t    keys: function() {\n\t      return this.__iterator(ITERATE_KEYS);\n\t    },\n\t\n\t    map: function(mapper, context) {\n\t      return reify(this, mapFactory(this, mapper, context));\n\t    },\n\t\n\t    reduce: function(reducer, initialReduction, context) {\n\t      assertNotInfinite(this.size);\n\t      var reduction;\n\t      var useFirst;\n\t      if (arguments.length < 2) {\n\t        useFirst = true;\n\t      } else {\n\t        reduction = initialReduction;\n\t      }\n\t      this.__iterate(function(v, k, c)  {\n\t        if (useFirst) {\n\t          useFirst = false;\n\t          reduction = v;\n\t        } else {\n\t          reduction = reducer.call(context, reduction, v, k, c);\n\t        }\n\t      });\n\t      return reduction;\n\t    },\n\t\n\t    reduceRight: function(reducer, initialReduction, context) {\n\t      var reversed = this.toKeyedSeq().reverse();\n\t      return reversed.reduce.apply(reversed, arguments);\n\t    },\n\t\n\t    reverse: function() {\n\t      return reify(this, reverseFactory(this, true));\n\t    },\n\t\n\t    slice: function(begin, end) {\n\t      return reify(this, sliceFactory(this, begin, end, true));\n\t    },\n\t\n\t    some: function(predicate, context) {\n\t      return !this.every(not(predicate), context);\n\t    },\n\t\n\t    sort: function(comparator) {\n\t      return reify(this, sortFactory(this, comparator));\n\t    },\n\t\n\t    values: function() {\n\t      return this.__iterator(ITERATE_VALUES);\n\t    },\n\t\n\t\n\t    // ### More sequential methods\n\t\n\t    butLast: function() {\n\t      return this.slice(0, -1);\n\t    },\n\t\n\t    isEmpty: function() {\n\t      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n\t    },\n\t\n\t    count: function(predicate, context) {\n\t      return ensureSize(\n\t        predicate ? this.toSeq().filter(predicate, context) : this\n\t      );\n\t    },\n\t\n\t    countBy: function(grouper, context) {\n\t      return countByFactory(this, grouper, context);\n\t    },\n\t\n\t    equals: function(other) {\n\t      return deepEqual(this, other);\n\t    },\n\t\n\t    entrySeq: function() {\n\t      var iterable = this;\n\t      if (iterable._cache) {\n\t        // We cache as an entries array, so we can just return the cache!\n\t        return new ArraySeq(iterable._cache);\n\t      }\n\t      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n\t      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n\t      return entriesSequence;\n\t    },\n\t\n\t    filterNot: function(predicate, context) {\n\t      return this.filter(not(predicate), context);\n\t    },\n\t\n\t    findEntry: function(predicate, context, notSetValue) {\n\t      var found = notSetValue;\n\t      this.__iterate(function(v, k, c)  {\n\t        if (predicate.call(context, v, k, c)) {\n\t          found = [k, v];\n\t          return false;\n\t        }\n\t      });\n\t      return found;\n\t    },\n\t\n\t    findKey: function(predicate, context) {\n\t      var entry = this.findEntry(predicate, context);\n\t      return entry && entry[0];\n\t    },\n\t\n\t    findLast: function(predicate, context, notSetValue) {\n\t      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n\t    },\n\t\n\t    findLastEntry: function(predicate, context, notSetValue) {\n\t      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n\t    },\n\t\n\t    findLastKey: function(predicate, context) {\n\t      return this.toKeyedSeq().reverse().findKey(predicate, context);\n\t    },\n\t\n\t    first: function() {\n\t      return this.find(returnTrue);\n\t    },\n\t\n\t    flatMap: function(mapper, context) {\n\t      return reify(this, flatMapFactory(this, mapper, context));\n\t    },\n\t\n\t    flatten: function(depth) {\n\t      return reify(this, flattenFactory(this, depth, true));\n\t    },\n\t\n\t    fromEntrySeq: function() {\n\t      return new FromEntriesSequence(this);\n\t    },\n\t\n\t    get: function(searchKey, notSetValue) {\n\t      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n\t    },\n\t\n\t    getIn: function(searchKeyPath, notSetValue) {\n\t      var nested = this;\n\t      // Note: in an ES6 environment, we would prefer:\n\t      // for (var key of searchKeyPath) {\n\t      var iter = forceIterator(searchKeyPath);\n\t      var step;\n\t      while (!(step = iter.next()).done) {\n\t        var key = step.value;\n\t        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n\t        if (nested === NOT_SET) {\n\t          return notSetValue;\n\t        }\n\t      }\n\t      return nested;\n\t    },\n\t\n\t    groupBy: function(grouper, context) {\n\t      return groupByFactory(this, grouper, context);\n\t    },\n\t\n\t    has: function(searchKey) {\n\t      return this.get(searchKey, NOT_SET) !== NOT_SET;\n\t    },\n\t\n\t    hasIn: function(searchKeyPath) {\n\t      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n\t    },\n\t\n\t    isSubset: function(iter) {\n\t      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n\t      return this.every(function(value ) {return iter.includes(value)});\n\t    },\n\t\n\t    isSuperset: function(iter) {\n\t      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n\t      return iter.isSubset(this);\n\t    },\n\t\n\t    keyOf: function(searchValue) {\n\t      return this.findKey(function(value ) {return is(value, searchValue)});\n\t    },\n\t\n\t    keySeq: function() {\n\t      return this.toSeq().map(keyMapper).toIndexedSeq();\n\t    },\n\t\n\t    last: function() {\n\t      return this.toSeq().reverse().first();\n\t    },\n\t\n\t    lastKeyOf: function(searchValue) {\n\t      return this.toKeyedSeq().reverse().keyOf(searchValue);\n\t    },\n\t\n\t    max: function(comparator) {\n\t      return maxFactory(this, comparator);\n\t    },\n\t\n\t    maxBy: function(mapper, comparator) {\n\t      return maxFactory(this, comparator, mapper);\n\t    },\n\t\n\t    min: function(comparator) {\n\t      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n\t    },\n\t\n\t    minBy: function(mapper, comparator) {\n\t      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n\t    },\n\t\n\t    rest: function() {\n\t      return this.slice(1);\n\t    },\n\t\n\t    skip: function(amount) {\n\t      return this.slice(Math.max(0, amount));\n\t    },\n\t\n\t    skipLast: function(amount) {\n\t      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n\t    },\n\t\n\t    skipWhile: function(predicate, context) {\n\t      return reify(this, skipWhileFactory(this, predicate, context, true));\n\t    },\n\t\n\t    skipUntil: function(predicate, context) {\n\t      return this.skipWhile(not(predicate), context);\n\t    },\n\t\n\t    sortBy: function(mapper, comparator) {\n\t      return reify(this, sortFactory(this, comparator, mapper));\n\t    },\n\t\n\t    take: function(amount) {\n\t      return this.slice(0, Math.max(0, amount));\n\t    },\n\t\n\t    takeLast: function(amount) {\n\t      return reify(this, this.toSeq().reverse().take(amount).reverse());\n\t    },\n\t\n\t    takeWhile: function(predicate, context) {\n\t      return reify(this, takeWhileFactory(this, predicate, context));\n\t    },\n\t\n\t    takeUntil: function(predicate, context) {\n\t      return this.takeWhile(not(predicate), context);\n\t    },\n\t\n\t    valueSeq: function() {\n\t      return this.toIndexedSeq();\n\t    },\n\t\n\t\n\t    // ### Hashable Object\n\t\n\t    hashCode: function() {\n\t      return this.__hash || (this.__hash = hashIterable(this));\n\t    }\n\t\n\t\n\t    // ### Internal\n\t\n\t    // abstract __iterate(fn, reverse)\n\t\n\t    // abstract __iterator(type, reverse)\n\t  });\n\t\n\t  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n\t  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n\t  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n\t  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\t\n\t  var IterablePrototype = Iterable.prototype;\n\t  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n\t  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n\t  IterablePrototype.__toJS = IterablePrototype.toArray;\n\t  IterablePrototype.__toStringMapper = quoteString;\n\t  IterablePrototype.inspect =\n\t  IterablePrototype.toSource = function() { return this.toString(); };\n\t  IterablePrototype.chain = IterablePrototype.flatMap;\n\t  IterablePrototype.contains = IterablePrototype.includes;\n\t\n\t  mixin(KeyedIterable, {\n\t\n\t    // ### More sequential methods\n\t\n\t    flip: function() {\n\t      return reify(this, flipFactory(this));\n\t    },\n\t\n\t    mapEntries: function(mapper, context) {var this$0 = this;\n\t      var iterations = 0;\n\t      return reify(this,\n\t        this.toSeq().map(\n\t          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n\t        ).fromEntrySeq()\n\t      );\n\t    },\n\t\n\t    mapKeys: function(mapper, context) {var this$0 = this;\n\t      return reify(this,\n\t        this.toSeq().flip().map(\n\t          function(k, v)  {return mapper.call(context, k, v, this$0)}\n\t        ).flip()\n\t      );\n\t    }\n\t\n\t  });\n\t\n\t  var KeyedIterablePrototype = KeyedIterable.prototype;\n\t  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n\t  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n\t  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n\t  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\t\n\t\n\t\n\t  mixin(IndexedIterable, {\n\t\n\t    // ### Conversion to other types\n\t\n\t    toKeyedSeq: function() {\n\t      return new ToKeyedSequence(this, false);\n\t    },\n\t\n\t\n\t    // ### ES6 Collection methods (ES6 Array and Map)\n\t\n\t    filter: function(predicate, context) {\n\t      return reify(this, filterFactory(this, predicate, context, false));\n\t    },\n\t\n\t    findIndex: function(predicate, context) {\n\t      var entry = this.findEntry(predicate, context);\n\t      return entry ? entry[0] : -1;\n\t    },\n\t\n\t    indexOf: function(searchValue) {\n\t      var key = this.keyOf(searchValue);\n\t      return key === undefined ? -1 : key;\n\t    },\n\t\n\t    lastIndexOf: function(searchValue) {\n\t      var key = this.lastKeyOf(searchValue);\n\t      return key === undefined ? -1 : key;\n\t    },\n\t\n\t    reverse: function() {\n\t      return reify(this, reverseFactory(this, false));\n\t    },\n\t\n\t    slice: function(begin, end) {\n\t      return reify(this, sliceFactory(this, begin, end, false));\n\t    },\n\t\n\t    splice: function(index, removeNum /*, ...values*/) {\n\t      var numArgs = arguments.length;\n\t      removeNum = Math.max(removeNum | 0, 0);\n\t      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n\t        return this;\n\t      }\n\t      // If index is negative, it should resolve relative to the size of the\n\t      // collection. However size may be expensive to compute if not cached, so\n\t      // only call count() if the number is in fact negative.\n\t      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n\t      var spliced = this.slice(0, index);\n\t      return reify(\n\t        this,\n\t        numArgs === 1 ?\n\t          spliced :\n\t          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n\t      );\n\t    },\n\t\n\t\n\t    // ### More collection methods\n\t\n\t    findLastIndex: function(predicate, context) {\n\t      var entry = this.findLastEntry(predicate, context);\n\t      return entry ? entry[0] : -1;\n\t    },\n\t\n\t    first: function() {\n\t      return this.get(0);\n\t    },\n\t\n\t    flatten: function(depth) {\n\t      return reify(this, flattenFactory(this, depth, false));\n\t    },\n\t\n\t    get: function(index, notSetValue) {\n\t      index = wrapIndex(this, index);\n\t      return (index < 0 || (this.size === Infinity ||\n\t          (this.size !== undefined && index > this.size))) ?\n\t        notSetValue :\n\t        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n\t    },\n\t\n\t    has: function(index) {\n\t      index = wrapIndex(this, index);\n\t      return index >= 0 && (this.size !== undefined ?\n\t        this.size === Infinity || index < this.size :\n\t        this.indexOf(index) !== -1\n\t      );\n\t    },\n\t\n\t    interpose: function(separator) {\n\t      return reify(this, interposeFactory(this, separator));\n\t    },\n\t\n\t    interleave: function(/*...iterables*/) {\n\t      var iterables = [this].concat(arrCopy(arguments));\n\t      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n\t      var interleaved = zipped.flatten(true);\n\t      if (zipped.size) {\n\t        interleaved.size = zipped.size * iterables.length;\n\t      }\n\t      return reify(this, interleaved);\n\t    },\n\t\n\t    keySeq: function() {\n\t      return Range(0, this.size);\n\t    },\n\t\n\t    last: function() {\n\t      return this.get(-1);\n\t    },\n\t\n\t    skipWhile: function(predicate, context) {\n\t      return reify(this, skipWhileFactory(this, predicate, context, false));\n\t    },\n\t\n\t    zip: function(/*, ...iterables */) {\n\t      var iterables = [this].concat(arrCopy(arguments));\n\t      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n\t    },\n\t\n\t    zipWith: function(zipper/*, ...iterables */) {\n\t      var iterables = arrCopy(arguments);\n\t      iterables[0] = this;\n\t      return reify(this, zipWithFactory(this, zipper, iterables));\n\t    }\n\t\n\t  });\n\t\n\t  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n\t  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\t\n\t\n\t\n\t  mixin(SetIterable, {\n\t\n\t    // ### ES6 Collection methods (ES6 Array and Map)\n\t\n\t    get: function(value, notSetValue) {\n\t      return this.has(value) ? value : notSetValue;\n\t    },\n\t\n\t    includes: function(value) {\n\t      return this.has(value);\n\t    },\n\t\n\t\n\t    // ### More sequential methods\n\t\n\t    keySeq: function() {\n\t      return this.valueSeq();\n\t    }\n\t\n\t  });\n\t\n\t  SetIterable.prototype.has = IterablePrototype.includes;\n\t  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\t\n\t\n\t  // Mixin subclasses\n\t\n\t  mixin(KeyedSeq, KeyedIterable.prototype);\n\t  mixin(IndexedSeq, IndexedIterable.prototype);\n\t  mixin(SetSeq, SetIterable.prototype);\n\t\n\t  mixin(KeyedCollection, KeyedIterable.prototype);\n\t  mixin(IndexedCollection, IndexedIterable.prototype);\n\t  mixin(SetCollection, SetIterable.prototype);\n\t\n\t\n\t  // #pragma Helper functions\n\t\n\t  function keyMapper(v, k) {\n\t    return k;\n\t  }\n\t\n\t  function entryMapper(v, k) {\n\t    return [k, v];\n\t  }\n\t\n\t  function not(predicate) {\n\t    return function() {\n\t      return !predicate.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  function neg(predicate) {\n\t    return function() {\n\t      return -predicate.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  function quoteString(value) {\n\t    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n\t  }\n\t\n\t  function defaultZipper() {\n\t    return arrCopy(arguments);\n\t  }\n\t\n\t  function defaultNegComparator(a, b) {\n\t    return a < b ? 1 : a > b ? -1 : 0;\n\t  }\n\t\n\t  function hashIterable(iterable) {\n\t    if (iterable.size === Infinity) {\n\t      return 0;\n\t    }\n\t    var ordered = isOrdered(iterable);\n\t    var keyed = isKeyed(iterable);\n\t    var h = ordered ? 1 : 0;\n\t    var size = iterable.__iterate(\n\t      keyed ?\n\t        ordered ?\n\t          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n\t          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n\t        ordered ?\n\t          function(v ) { h = 31 * h + hash(v) | 0; } :\n\t          function(v ) { h = h + hash(v) | 0; }\n\t    );\n\t    return murmurHashOfSize(size, h);\n\t  }\n\t\n\t  function murmurHashOfSize(size, h) {\n\t    h = imul(h, 0xCC9E2D51);\n\t    h = imul(h << 15 | h >>> -15, 0x1B873593);\n\t    h = imul(h << 13 | h >>> -13, 5);\n\t    h = (h + 0xE6546B64 | 0) ^ size;\n\t    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n\t    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n\t    h = smi(h ^ h >>> 16);\n\t    return h;\n\t  }\n\t\n\t  function hashMerge(a, b) {\n\t    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n\t  }\n\t\n\t  var Immutable = {\n\t\n\t    Iterable: Iterable,\n\t\n\t    Seq: Seq,\n\t    Collection: Collection,\n\t    Map: Map,\n\t    OrderedMap: OrderedMap,\n\t    List: List,\n\t    Stack: Stack,\n\t    Set: Set,\n\t    OrderedSet: OrderedSet,\n\t\n\t    Record: Record,\n\t    Range: Range,\n\t    Repeat: Repeat,\n\t\n\t    is: is,\n\t    fromJS: fromJS\n\t\n\t  };\n\t\n\t  return Immutable;\n\t\n\t}));\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(68), __webpack_require__(69), __webpack_require__(67), __webpack_require__(57), __webpack_require__(55), __webpack_require__(30)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var createCardDescription_1 = __webpack_require__(69);\n\t    var createCardNavBar_1 = __webpack_require__(67);\n\t    var createSeenWith_1 = __webpack_require__(57);\n\t    var d_1 = __webpack_require__(55);\n\t    var lang_1 = __webpack_require__(30);\n\t    var createCardDetailsPage = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'pageHolder', 'cardDetails'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var _a = this.state, cards = _a.cards, cardDescription = _a.cardDescription, seenWith = _a.seenWith;\n\t                    var cardNavBar = d_1.default(createCardNavBar_1.default, { state: { cards: cards } });\n\t                    var descriptionState = lang_1.assign({\n\t                        enterAnimation: 'slideInRight',\n\t                        exitAnimation: 'slideOutLeft'\n\t                    }, cardDescription);\n\t                    var cardDescriptionView = d_1.default(createCardDescription_1.default, {\n\t                        id: \"card-details-description-\" + cardDescription.id,\n\t                        state: descriptionState\n\t                    });\n\t                    var jumbotron = d_1.default('div.jumbotron', {}, [cardDescriptionView]);\n\t                    var seenWithView = d_1.default(createSeenWith_1.default, { state: { cards: seenWith } });\n\t                    return [cardNavBar, jumbotron, seenWithView];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardDetailsPage;\n\t});\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(56)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var maquette_1 = __webpack_require__(56);\n\t    function d(tagNameOrFactory, options, children) {\n\t        if (options === void 0) { options = {}; }\n\t        if (children === void 0) { children = []; }\n\t        if (typeof tagNameOrFactory === 'string') {\n\t            children = children.filter(function (child) { return child; });\n\t            return {\n\t                children: children,\n\t                render: function () {\n\t                    return maquette_1.h(tagNameOrFactory, options, this.children);\n\t                }\n\t            };\n\t        }\n\t        if (typeof tagNameOrFactory === 'function') {\n\t            return {\n\t                factory: tagNameOrFactory,\n\t                options: options\n\t            };\n\t        }\n\t        throw new Error('Unsupported tagName or factory type');\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = d;\n\t});\n\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n\t    if (true) {\n\t        // AMD. Register as an anonymous module.\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n\t        // CommonJS\n\t        factory(exports);\n\t    } else {\n\t        // Browser globals\n\t        factory(root.maquette = {});\n\t    }\n\t}(this, function (exports) {\n\t    'use strict';\n\t    ;\n\t    ;\n\t    ;\n\t    ;\n\t    var NAMESPACE_W3 = 'http://www.w3.org/';\n\t    var NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\n\t    var NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\n\t    // Utilities\n\t    var emptyArray = [];\n\t    var extend = function (base, overrides) {\n\t        var result = {};\n\t        Object.keys(base).forEach(function (key) {\n\t            result[key] = base[key];\n\t        });\n\t        if (overrides) {\n\t            Object.keys(overrides).forEach(function (key) {\n\t                result[key] = overrides[key];\n\t            });\n\t        }\n\t        return result;\n\t    };\n\t    // Hyperscript helper functions\n\t    var same = function (vnode1, vnode2) {\n\t        if (vnode1.vnodeSelector !== vnode2.vnodeSelector) {\n\t            return false;\n\t        }\n\t        if (vnode1.properties && vnode2.properties) {\n\t            if (vnode1.properties.key !== vnode2.properties.key) {\n\t                return false;\n\t            }\n\t            return vnode1.properties.bind === vnode2.properties.bind;\n\t        }\n\t        return !vnode1.properties && !vnode2.properties;\n\t    };\n\t    var toTextVNode = function (data) {\n\t        return {\n\t            vnodeSelector: '',\n\t            properties: undefined,\n\t            children: undefined,\n\t            text: data.toString(),\n\t            domNode: null\n\t        };\n\t    };\n\t    var appendChildren = function (parentSelector, insertions, main) {\n\t        for (var i = 0, length_1 = insertions.length; i < length_1; i++) {\n\t            var item = insertions[i];\n\t            if (Array.isArray(item)) {\n\t                appendChildren(parentSelector, item, main);\n\t            } else {\n\t                if (item !== null && item !== undefined) {\n\t                    if (!item.hasOwnProperty('vnodeSelector')) {\n\t                        item = toTextVNode(item);\n\t                    }\n\t                    main.push(item);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    // Render helper functions\n\t    var missingTransition = function () {\n\t        throw new Error('Provide a transitions object to the projectionOptions to do animations');\n\t    };\n\t    var DEFAULT_PROJECTION_OPTIONS = {\n\t        namespace: undefined,\n\t        eventHandlerInterceptor: undefined,\n\t        styleApplyer: function (domNode, styleName, value) {\n\t            // Provides a hook to add vendor prefixes for browsers that still need it.\n\t            domNode.style[styleName] = value;\n\t        },\n\t        transitions: {\n\t            enter: missingTransition,\n\t            exit: missingTransition\n\t        }\n\t    };\n\t    var applyDefaultProjectionOptions = function (projectorOptions) {\n\t        return extend(DEFAULT_PROJECTION_OPTIONS, projectorOptions);\n\t    };\n\t    var checkStyleValue = function (styleValue) {\n\t        if (typeof styleValue !== 'string') {\n\t            throw new Error('Style values must be strings');\n\t        }\n\t    };\n\t    var setProperties = function (domNode, properties, projectionOptions) {\n\t        if (!properties) {\n\t            return;\n\t        }\n\t        var eventHandlerInterceptor = projectionOptions.eventHandlerInterceptor;\n\t        var propNames = Object.keys(properties);\n\t        var propCount = propNames.length;\n\t        for (var i = 0; i < propCount; i++) {\n\t            var propName = propNames[i];\n\t            /* tslint:disable:no-var-keyword: edge case */\n\t            var propValue = properties[propName];\n\t            /* tslint:enable:no-var-keyword */\n\t            if (propName === 'className') {\n\t                throw new Error('Property \"className\" is not supported, use \"class\".');\n\t            } else if (propName === 'class') {\n\t                propValue.split(/\\s+/).forEach(function (token) {\n\t                    return domNode.classList.add(token);\n\t                });\n\t            } else if (propName === 'classes') {\n\t                // object with string keys and boolean values\n\t                var classNames = Object.keys(propValue);\n\t                var classNameCount = classNames.length;\n\t                for (var j = 0; j < classNameCount; j++) {\n\t                    var className = classNames[j];\n\t                    if (propValue[className]) {\n\t                        domNode.classList.add(className);\n\t                    }\n\t                }\n\t            } else if (propName === 'styles') {\n\t                // object with string keys and string (!) values\n\t                var styleNames = Object.keys(propValue);\n\t                var styleCount = styleNames.length;\n\t                for (var j = 0; j < styleCount; j++) {\n\t                    var styleName = styleNames[j];\n\t                    var styleValue = propValue[styleName];\n\t                    if (styleValue) {\n\t                        checkStyleValue(styleValue);\n\t                        projectionOptions.styleApplyer(domNode, styleName, styleValue);\n\t                    }\n\t                }\n\t            } else if (propName === 'key') {\n\t                continue;\n\t            } else if (propValue === null || propValue === undefined) {\n\t                continue;\n\t            } else {\n\t                var type = typeof propValue;\n\t                if (type === 'function') {\n\t                    if (propName.lastIndexOf('on', 0) === 0) {\n\t                        if (eventHandlerInterceptor) {\n\t                            propValue = eventHandlerInterceptor(propName, propValue, domNode, properties);    // intercept eventhandlers\n\t                        }\n\t                        if (propName === 'oninput') {\n\t                            (function () {\n\t                                // record the evt.target.value, because IE and Edge sometimes do a requestAnimationFrame between changing value and running oninput\n\t                                var oldPropValue = propValue;\n\t                                propValue = function (evt) {\n\t                                    evt.target['oninput-value'] = evt.target.value;\n\t                                    // may be HTMLTextAreaElement as well\n\t                                    oldPropValue.apply(this, [evt]);\n\t                                };\n\t                            }());\n\t                        }\n\t                        domNode[propName] = propValue;\n\t                    }\n\t                } else if (type === 'string' && propName !== 'value' && propName !== 'innerHTML') {\n\t                    if (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n\t                        domNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n\t                    } else {\n\t                        domNode.setAttribute(propName, propValue);\n\t                    }\n\t                } else {\n\t                    domNode[propName] = propValue;\n\t                }\n\t            }\n\t        }\n\t    };\n\t    var updateProperties = function (domNode, previousProperties, properties, projectionOptions) {\n\t        if (!properties) {\n\t            return;\n\t        }\n\t        var propertiesUpdated = false;\n\t        var propNames = Object.keys(properties);\n\t        var propCount = propNames.length;\n\t        for (var i = 0; i < propCount; i++) {\n\t            var propName = propNames[i];\n\t            // assuming that properties will be nullified instead of missing is by design\n\t            var propValue = properties[propName];\n\t            var previousValue = previousProperties[propName];\n\t            if (propName === 'class') {\n\t                if (previousValue !== propValue) {\n\t                    throw new Error('\"class\" property may not be updated. Use the \"classes\" property for conditional css classes.');\n\t                }\n\t            } else if (propName === 'classes') {\n\t                var classList = domNode.classList;\n\t                var classNames = Object.keys(propValue);\n\t                var classNameCount = classNames.length;\n\t                for (var j = 0; j < classNameCount; j++) {\n\t                    var className = classNames[j];\n\t                    var on = !!propValue[className];\n\t                    var previousOn = !!previousValue[className];\n\t                    if (on === previousOn) {\n\t                        continue;\n\t                    }\n\t                    propertiesUpdated = true;\n\t                    if (on) {\n\t                        classList.add(className);\n\t                    } else {\n\t                        classList.remove(className);\n\t                    }\n\t                }\n\t            } else if (propName === 'styles') {\n\t                var styleNames = Object.keys(propValue);\n\t                var styleCount = styleNames.length;\n\t                for (var j = 0; j < styleCount; j++) {\n\t                    var styleName = styleNames[j];\n\t                    var newStyleValue = propValue[styleName];\n\t                    var oldStyleValue = previousValue[styleName];\n\t                    if (newStyleValue === oldStyleValue) {\n\t                        continue;\n\t                    }\n\t                    propertiesUpdated = true;\n\t                    if (newStyleValue) {\n\t                        checkStyleValue(newStyleValue);\n\t                        projectionOptions.styleApplyer(domNode, styleName, newStyleValue);\n\t                    } else {\n\t                        projectionOptions.styleApplyer(domNode, styleName, '');\n\t                    }\n\t                }\n\t            } else {\n\t                if (!propValue && typeof previousValue === 'string') {\n\t                    propValue = '';\n\t                }\n\t                if (propName === 'value') {\n\t                    if (domNode[propName] !== propValue && domNode['oninput-value'] !== propValue) {\n\t                        domNode[propName] = propValue;\n\t                        // Reset the value, even if the virtual DOM did not change\n\t                        domNode['oninput-value'] = undefined;\n\t                    }\n\t                    // else do not update the domNode, otherwise the cursor position would be changed\n\t                    if (propValue !== previousValue) {\n\t                        propertiesUpdated = true;\n\t                    }\n\t                } else if (propValue !== previousValue) {\n\t                    var type = typeof propValue;\n\t                    if (type === 'function') {\n\t                        throw new Error('Functions may not be updated on subsequent renders (property: ' + propName + '). Hint: declare event handler functions outside the render() function.');\n\t                    }\n\t                    if (type === 'string' && propName !== 'innerHTML') {\n\t                        if (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n\t                            domNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n\t                        } else {\n\t                            domNode.setAttribute(propName, propValue);\n\t                        }\n\t                    } else {\n\t                        if (domNode[propName] !== propValue) {\n\t                            domNode[propName] = propValue;\n\t                        }\n\t                    }\n\t                    propertiesUpdated = true;\n\t                }\n\t            }\n\t        }\n\t        return propertiesUpdated;\n\t    };\n\t    var findIndexOfChild = function (children, sameAs, start) {\n\t        if (sameAs.vnodeSelector !== '') {\n\t            // Never scan for text-nodes\n\t            for (var i = start; i < children.length; i++) {\n\t                if (same(children[i], sameAs)) {\n\t                    return i;\n\t                }\n\t            }\n\t        }\n\t        return -1;\n\t    };\n\t    var nodeAdded = function (vNode, transitions) {\n\t        if (vNode.properties) {\n\t            var enterAnimation = vNode.properties.enterAnimation;\n\t            if (enterAnimation) {\n\t                if (typeof enterAnimation === 'function') {\n\t                    enterAnimation(vNode.domNode, vNode.properties);\n\t                } else {\n\t                    transitions.enter(vNode.domNode, vNode.properties, enterAnimation);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    var nodeToRemove = function (vNode, transitions) {\n\t        var domNode = vNode.domNode;\n\t        if (vNode.properties) {\n\t            var exitAnimation = vNode.properties.exitAnimation;\n\t            if (exitAnimation) {\n\t                domNode.style.pointerEvents = 'none';\n\t                var removeDomNode = function () {\n\t                    if (domNode.parentNode) {\n\t                        domNode.parentNode.removeChild(domNode);\n\t                    }\n\t                };\n\t                if (typeof exitAnimation === 'function') {\n\t                    exitAnimation(domNode, removeDomNode, vNode.properties);\n\t                    return;\n\t                } else {\n\t                    transitions.exit(vNode.domNode, vNode.properties, exitAnimation, removeDomNode);\n\t                    return;\n\t                }\n\t            }\n\t        }\n\t        if (domNode.parentNode) {\n\t            domNode.parentNode.removeChild(domNode);\n\t        }\n\t    };\n\t    var checkDistinguishable = function (childNodes, indexToCheck, parentVNode, operation) {\n\t        var childNode = childNodes[indexToCheck];\n\t        if (childNode.vnodeSelector === '') {\n\t            return;    // Text nodes need not be distinguishable\n\t        }\n\t        var properties = childNode.properties;\n\t        var key = properties ? properties.key === undefined ? properties.bind : properties.key : undefined;\n\t        if (!key) {\n\t            for (var i = 0; i < childNodes.length; i++) {\n\t                if (i !== indexToCheck) {\n\t                    var node = childNodes[i];\n\t                    if (same(node, childNode)) {\n\t                        if (operation === 'added') {\n\t                            throw new Error(parentVNode.vnodeSelector + ' had a ' + childNode.vnodeSelector + ' child ' + 'added, but there is now more than one. You must add unique key properties to make them distinguishable.');\n\t                        } else {\n\t                            throw new Error(parentVNode.vnodeSelector + ' had a ' + childNode.vnodeSelector + ' child ' + 'removed, but there were more than one. You must add unique key properties to make them distinguishable.');\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    };\n\t    var createDom;\n\t    var updateDom;\n\t    var updateChildren = function (vnode, domNode, oldChildren, newChildren, projectionOptions) {\n\t        if (oldChildren === newChildren) {\n\t            return false;\n\t        }\n\t        oldChildren = oldChildren || emptyArray;\n\t        newChildren = newChildren || emptyArray;\n\t        var oldChildrenLength = oldChildren.length;\n\t        var newChildrenLength = newChildren.length;\n\t        var transitions = projectionOptions.transitions;\n\t        var oldIndex = 0;\n\t        var newIndex = 0;\n\t        var i;\n\t        var textUpdated = false;\n\t        while (newIndex < newChildrenLength) {\n\t            var oldChild = oldIndex < oldChildrenLength ? oldChildren[oldIndex] : undefined;\n\t            var newChild = newChildren[newIndex];\n\t            if (oldChild !== undefined && same(oldChild, newChild)) {\n\t                textUpdated = updateDom(oldChild, newChild, projectionOptions) || textUpdated;\n\t                oldIndex++;\n\t            } else {\n\t                var findOldIndex = findIndexOfChild(oldChildren, newChild, oldIndex + 1);\n\t                if (findOldIndex >= 0) {\n\t                    // Remove preceding missing children\n\t                    for (i = oldIndex; i < findOldIndex; i++) {\n\t                        nodeToRemove(oldChildren[i], transitions);\n\t                        checkDistinguishable(oldChildren, i, vnode, 'removed');\n\t                    }\n\t                    textUpdated = updateDom(oldChildren[findOldIndex], newChild, projectionOptions) || textUpdated;\n\t                    oldIndex = findOldIndex + 1;\n\t                } else {\n\t                    // New child\n\t                    createDom(newChild, domNode, oldIndex < oldChildrenLength ? oldChildren[oldIndex].domNode : undefined, projectionOptions);\n\t                    nodeAdded(newChild, transitions);\n\t                    checkDistinguishable(newChildren, newIndex, vnode, 'added');\n\t                }\n\t            }\n\t            newIndex++;\n\t        }\n\t        if (oldChildrenLength > oldIndex) {\n\t            // Remove child fragments\n\t            for (i = oldIndex; i < oldChildrenLength; i++) {\n\t                nodeToRemove(oldChildren[i], transitions);\n\t                checkDistinguishable(oldChildren, i, vnode, 'removed');\n\t            }\n\t        }\n\t        return textUpdated;\n\t    };\n\t    var addChildren = function (domNode, children, projectionOptions) {\n\t        if (!children) {\n\t            return;\n\t        }\n\t        for (var i = 0; i < children.length; i++) {\n\t            createDom(children[i], domNode, undefined, projectionOptions);\n\t        }\n\t    };\n\t    var initPropertiesAndChildren = function (domNode, vnode, projectionOptions) {\n\t        addChildren(domNode, vnode.children, projectionOptions);\n\t        // children before properties, needed for value property of <select>.\n\t        if (vnode.text) {\n\t            domNode.textContent = vnode.text;\n\t        }\n\t        setProperties(domNode, vnode.properties, projectionOptions);\n\t        if (vnode.properties && vnode.properties.afterCreate) {\n\t            vnode.properties.afterCreate.apply(vnode.properties.bind || vnode.properties, [\n\t                domNode,\n\t                projectionOptions,\n\t                vnode.vnodeSelector,\n\t                vnode.properties,\n\t                vnode.children\n\t            ]);\n\t        }\n\t    };\n\t    createDom = function (vnode, parentNode, insertBefore, projectionOptions) {\n\t        var domNode, i, c, start = 0, type, found;\n\t        var vnodeSelector = vnode.vnodeSelector;\n\t        if (vnodeSelector === '') {\n\t            domNode = vnode.domNode = document.createTextNode(vnode.text);\n\t            if (insertBefore !== undefined) {\n\t                parentNode.insertBefore(domNode, insertBefore);\n\t            } else {\n\t                parentNode.appendChild(domNode);\n\t            }\n\t        } else {\n\t            for (i = 0; i <= vnodeSelector.length; ++i) {\n\t                c = vnodeSelector.charAt(i);\n\t                if (i === vnodeSelector.length || c === '.' || c === '#') {\n\t                    type = vnodeSelector.charAt(start - 1);\n\t                    found = vnodeSelector.slice(start, i);\n\t                    if (type === '.') {\n\t                        domNode.classList.add(found);\n\t                    } else if (type === '#') {\n\t                        domNode.id = found;\n\t                    } else {\n\t                        if (found === 'svg') {\n\t                            projectionOptions = extend(projectionOptions, { namespace: NAMESPACE_SVG });\n\t                        }\n\t                        if (projectionOptions.namespace !== undefined) {\n\t                            domNode = vnode.domNode = document.createElementNS(projectionOptions.namespace, found);\n\t                        } else {\n\t                            domNode = vnode.domNode = document.createElement(found);\n\t                            if (found === 'input' && vnode.properties && vnode.properties.type !== undefined) {\n\t                                // IE8 and older don't support setting input type after the DOM Node has been added to the document\n\t                                domNode.setAttribute('type', vnode.properties.type);\n\t                            }\n\t                        }\n\t                        if (insertBefore !== undefined) {\n\t                            parentNode.insertBefore(domNode, insertBefore);\n\t                        } else {\n\t                            parentNode.appendChild(domNode);\n\t                        }\n\t                    }\n\t                    start = i + 1;\n\t                }\n\t            }\n\t            initPropertiesAndChildren(domNode, vnode, projectionOptions);\n\t        }\n\t    };\n\t    updateDom = function (previous, vnode, projectionOptions) {\n\t        var domNode = previous.domNode;\n\t        var textUpdated = false;\n\t        if (previous === vnode) {\n\t            return false;    // By contract, VNode objects may not be modified anymore after passing them to maquette\n\t        }\n\t        var updated = false;\n\t        if (vnode.vnodeSelector === '') {\n\t            if (vnode.text !== previous.text) {\n\t                var newVNode = document.createTextNode(vnode.text);\n\t                domNode.parentNode.replaceChild(newVNode, domNode);\n\t                vnode.domNode = newVNode;\n\t                textUpdated = true;\n\t                return textUpdated;\n\t            }\n\t        } else {\n\t            if (vnode.vnodeSelector.lastIndexOf('svg', 0) === 0) {\n\t                projectionOptions = extend(projectionOptions, { namespace: NAMESPACE_SVG });\n\t            }\n\t            if (previous.text !== vnode.text) {\n\t                updated = true;\n\t                if (vnode.text === undefined) {\n\t                    domNode.removeChild(domNode.firstChild);    // the only textnode presumably\n\t                } else {\n\t                    domNode.textContent = vnode.text;\n\t                }\n\t            }\n\t            updated = updateChildren(vnode, domNode, previous.children, vnode.children, projectionOptions) || updated;\n\t            updated = updateProperties(domNode, previous.properties, vnode.properties, projectionOptions) || updated;\n\t            if (vnode.properties && vnode.properties.afterUpdate) {\n\t                vnode.properties.afterUpdate.apply(vnode.properties.bind || vnode.properties, [\n\t                    domNode,\n\t                    projectionOptions,\n\t                    vnode.vnodeSelector,\n\t                    vnode.properties,\n\t                    vnode.children\n\t                ]);\n\t            }\n\t        }\n\t        if (updated && vnode.properties && vnode.properties.updateAnimation) {\n\t            vnode.properties.updateAnimation(domNode, vnode.properties, previous.properties);\n\t        }\n\t        vnode.domNode = previous.domNode;\n\t        return textUpdated;\n\t    };\n\t    var createProjection = function (vnode, projectionOptions) {\n\t        return {\n\t            update: function (updatedVnode) {\n\t                if (vnode.vnodeSelector !== updatedVnode.vnodeSelector) {\n\t                    throw new Error('The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)');\n\t                }\n\t                updateDom(vnode, updatedVnode, projectionOptions);\n\t                vnode = updatedVnode;\n\t            },\n\t            domNode: vnode.domNode\n\t        };\n\t    };\n\t    ;\n\t    // The other two parameters are not added here, because the Typescript compiler creates surrogate code for destructuring 'children'.\n\t    exports.h = function (selector) {\n\t        var properties = arguments[1];\n\t        if (typeof selector !== 'string') {\n\t            throw new Error();\n\t        }\n\t        var childIndex = 1;\n\t        if (properties && !properties.hasOwnProperty('vnodeSelector') && !Array.isArray(properties) && typeof properties === 'object') {\n\t            childIndex = 2;\n\t        } else {\n\t            // Optional properties argument was omitted\n\t            properties = undefined;\n\t        }\n\t        var text = undefined;\n\t        var children = undefined;\n\t        var argsLength = arguments.length;\n\t        // Recognize a common special case where there is only a single text node\n\t        if (argsLength === childIndex + 1) {\n\t            var onlyChild = arguments[childIndex];\n\t            if (typeof onlyChild === 'string') {\n\t                text = onlyChild;\n\t            } else if (onlyChild !== undefined && onlyChild !== null && onlyChild.length === 1 && typeof onlyChild[0] === 'string') {\n\t                text = onlyChild[0];\n\t            }\n\t        }\n\t        if (text === undefined) {\n\t            children = [];\n\t            for (; childIndex < argsLength; childIndex++) {\n\t                var child = arguments[childIndex];\n\t                if (child === null || child === undefined) {\n\t                    continue;\n\t                } else if (Array.isArray(child)) {\n\t                    appendChildren(selector, child, children);\n\t                } else if (child.hasOwnProperty('vnodeSelector')) {\n\t                    children.push(child);\n\t                } else {\n\t                    children.push(toTextVNode(child));\n\t                }\n\t            }\n\t        }\n\t        return {\n\t            vnodeSelector: selector,\n\t            properties: properties,\n\t            children: children,\n\t            text: text === '' ? undefined : text,\n\t            domNode: null\n\t        };\n\t    };\n\t    /**\n\t * Contains simple low-level utility functions to manipulate the real DOM.\n\t */\n\t    exports.dom = {\n\t        /**\n\t     * Creates a real DOM tree from `vnode`. The [[Projection]] object returned will contain the resulting DOM Node in\n\t     * its [[Projection.domNode|domNode]] property.\n\t     * This is a low-level method. Users will typically use a [[Projector]] instead.\n\t     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]]\n\t     * objects may only be rendered once.\n\t     * @param projectionOptions - Options to be used to create and update the projection.\n\t     * @returns The [[Projection]] which also contains the DOM Node that was created.\n\t     */\n\t        create: function (vnode, projectionOptions) {\n\t            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n\t            createDom(vnode, document.createElement('div'), undefined, projectionOptions);\n\t            return createProjection(vnode, projectionOptions);\n\t        },\n\t        /**\n\t     * Appends a new childnode to the DOM which is generated from a [[VNode]].\n\t     * This is a low-level method. Users will typically use a [[Projector]] instead.\n\t     * @param parentNode - The parent node for the new childNode.\n\t     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]]\n\t     * objects may only be rendered once.\n\t     * @param projectionOptions - Options to be used to create and update the [[Projection]].\n\t     * @returns The [[Projection]] that was created.\n\t     */\n\t        append: function (parentNode, vnode, projectionOptions) {\n\t            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n\t            createDom(vnode, parentNode, undefined, projectionOptions);\n\t            return createProjection(vnode, projectionOptions);\n\t        },\n\t        /**\n\t     * Inserts a new DOM node which is generated from a [[VNode]].\n\t     * This is a low-level method. Users wil typically use a [[Projector]] instead.\n\t     * @param beforeNode - The node that the DOM Node is inserted before.\n\t     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function.\n\t     * NOTE: [[VNode]] objects may only be rendered once.\n\t     * @param projectionOptions - Options to be used to create and update the projection, see [[createProjector]].\n\t     * @returns The [[Projection]] that was created.\n\t     */\n\t        insertBefore: function (beforeNode, vnode, projectionOptions) {\n\t            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n\t            createDom(vnode, beforeNode.parentNode, beforeNode, projectionOptions);\n\t            return createProjection(vnode, projectionOptions);\n\t        },\n\t        /**\n\t     * Merges a new DOM node which is generated from a [[VNode]] with an existing DOM Node.\n\t     * This means that the virtual DOM and the real DOM will have one overlapping element.\n\t     * Therefore the selector for the root [[VNode]] will be ignored, but its properties and children will be applied to the Element provided.\n\t     * This is a low-level method. Users wil typically use a [[Projector]] instead.\n\t     * @param element - The existing element to adopt as the root of the new virtual DOM. Existing attributes and childnodes are preserved.\n\t     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]] objects\n\t     * may only be rendered once.\n\t     * @param projectionOptions - Options to be used to create and update the projection, see [[createProjector]].\n\t     * @returns The [[Projection]] that was created.\n\t     */\n\t        merge: function (element, vnode, projectionOptions) {\n\t            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n\t            vnode.domNode = element;\n\t            initPropertiesAndChildren(element, vnode, projectionOptions);\n\t            return createProjection(vnode, projectionOptions);\n\t        }\n\t    };\n\t    /**\n\t * Creates a [[CalculationCache]] object, useful for caching [[VNode]] trees.\n\t * In practice, caching of [[VNode]] trees is not needed, because achieving 60 frames per second is almost never a problem.\n\t * For more information, see [[CalculationCache]].\n\t *\n\t * @param <Result> The type of the value that is cached.\n\t */\n\t    exports.createCache = function () {\n\t        var cachedInputs = undefined;\n\t        var cachedOutcome = undefined;\n\t        var result = {\n\t            invalidate: function () {\n\t                cachedOutcome = undefined;\n\t                cachedInputs = undefined;\n\t            },\n\t            result: function (inputs, calculation) {\n\t                if (cachedInputs) {\n\t                    for (var i = 0; i < inputs.length; i++) {\n\t                        if (cachedInputs[i] !== inputs[i]) {\n\t                            cachedOutcome = undefined;\n\t                        }\n\t                    }\n\t                }\n\t                if (!cachedOutcome) {\n\t                    cachedOutcome = calculation();\n\t                    cachedInputs = inputs;\n\t                }\n\t                return cachedOutcome;\n\t            }\n\t        };\n\t        return result;\n\t    };\n\t    /**\n\t * Creates a {@link Mapping} instance that keeps an array of result objects synchronized with an array of source objects.\n\t * See {@link http://maquettejs.org/docs/arrays.html|Working with arrays}.\n\t *\n\t * @param <Source>       The type of source items. A database-record for instance.\n\t * @param <Target>       The type of target items. A [[Component]] for instance.\n\t * @param getSourceKey   `function(source)` that must return a key to identify each source object. The result must either be a string or a number.\n\t * @param createResult   `function(source, index)` that must create a new result object from a given source. This function is identical\n\t *                       to the `callback` argument in `Array.map(callback)`.\n\t * @param updateResult   `function(source, target, index)` that updates a result to an updated source.\n\t */\n\t    exports.createMapping = function (getSourceKey, createResult, updateResult) {\n\t        var keys = [];\n\t        var results = [];\n\t        return {\n\t            results: results,\n\t            map: function (newSources) {\n\t                var newKeys = newSources.map(getSourceKey);\n\t                var oldTargets = results.slice();\n\t                var oldIndex = 0;\n\t                for (var i = 0; i < newSources.length; i++) {\n\t                    var source = newSources[i];\n\t                    var sourceKey = newKeys[i];\n\t                    if (sourceKey === keys[oldIndex]) {\n\t                        results[i] = oldTargets[oldIndex];\n\t                        updateResult(source, oldTargets[oldIndex], i);\n\t                        oldIndex++;\n\t                    } else {\n\t                        var found = false;\n\t                        for (var j = 1; j < keys.length + 1; j++) {\n\t                            var searchIndex = (oldIndex + j) % keys.length;\n\t                            if (keys[searchIndex] === sourceKey) {\n\t                                results[i] = oldTargets[searchIndex];\n\t                                updateResult(newSources[i], oldTargets[searchIndex], i);\n\t                                oldIndex = searchIndex + 1;\n\t                                found = true;\n\t                                break;\n\t                            }\n\t                        }\n\t                        if (!found) {\n\t                            results[i] = createResult(source, i);\n\t                        }\n\t                    }\n\t                }\n\t                results.length = newSources.length;\n\t                keys = newKeys;\n\t            }\n\t        };\n\t    };\n\t    /**\n\t * Creates a [[Projector]] instance using the provided projectionOptions.\n\t *\n\t * For more information, see [[Projector]].\n\t *\n\t * @param projectionOptions   Options that influence how the DOM is rendered and updated.\n\t */\n\t    exports.createProjector = function (projectorOptions) {\n\t        var projector;\n\t        var projectionOptions = applyDefaultProjectionOptions(projectorOptions);\n\t        projectionOptions.eventHandlerInterceptor = function (propertyName, eventHandler, domNode, properties) {\n\t            return function () {\n\t                // intercept function calls (event handlers) to do a render afterwards.\n\t                projector.scheduleRender();\n\t                return eventHandler.apply(properties.bind || this, arguments);\n\t            };\n\t        };\n\t        var renderCompleted = true;\n\t        var scheduled;\n\t        var stopped = false;\n\t        var projections = [];\n\t        var renderFunctions = [];\n\t        // matches the projections array\n\t        var doRender = function () {\n\t            scheduled = undefined;\n\t            if (!renderCompleted) {\n\t                return;    // The last render threw an error, it should be logged in the browser console.\n\t            }\n\t            renderCompleted = false;\n\t            for (var i = 0; i < projections.length; i++) {\n\t                var updatedVnode = renderFunctions[i]();\n\t                projections[i].update(updatedVnode);\n\t            }\n\t            renderCompleted = true;\n\t        };\n\t        projector = {\n\t            renderNow: doRender,\n\t            scheduleRender: function () {\n\t                if (!scheduled && !stopped) {\n\t                    scheduled = requestAnimationFrame(doRender);\n\t                }\n\t            },\n\t            stop: function () {\n\t                if (scheduled) {\n\t                    cancelAnimationFrame(scheduled);\n\t                    scheduled = undefined;\n\t                }\n\t                stopped = true;\n\t            },\n\t            resume: function () {\n\t                stopped = false;\n\t                renderCompleted = true;\n\t                projector.scheduleRender();\n\t            },\n\t            append: function (parentNode, renderMaquetteFunction) {\n\t                projections.push(exports.dom.append(parentNode, renderMaquetteFunction(), projectionOptions));\n\t                renderFunctions.push(renderMaquetteFunction);\n\t            },\n\t            insertBefore: function (beforeNode, renderMaquetteFunction) {\n\t                projections.push(exports.dom.insertBefore(beforeNode, renderMaquetteFunction(), projectionOptions));\n\t                renderFunctions.push(renderMaquetteFunction);\n\t            },\n\t            merge: function (domNode, renderMaquetteFunction) {\n\t                projections.push(exports.dom.merge(domNode, renderMaquetteFunction(), projectionOptions));\n\t                renderFunctions.push(renderMaquetteFunction);\n\t            },\n\t            replace: function (domNode, renderMaquetteFunction) {\n\t                var vnode = renderMaquetteFunction();\n\t                createDom(vnode, domNode.parentNode, domNode, projectionOptions);\n\t                domNode.parentNode.removeChild(domNode);\n\t                projections.push(createProjection(vnode, projectionOptions));\n\t                renderFunctions.push(renderMaquetteFunction);\n\t            },\n\t            detach: function (renderMaquetteFunction) {\n\t                for (var i = 0; i < renderFunctions.length; i++) {\n\t                    if (renderFunctions[i] === renderMaquetteFunction) {\n\t                        renderFunctions.splice(i, 1);\n\t                        return projections.splice(i, 1)[0];\n\t                    }\n\t                }\n\t                throw new Error('renderMaquetteFunction was not found');\n\t            }\n\t        };\n\t        return projector;\n\t    };\n\t}));\n\t//# sourceMappingURL=maquette.js.map\n\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(58), __webpack_require__(30)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCard_1 = __webpack_require__(58);\n\t    var lang_1 = __webpack_require__(30);\n\t    var createSeenWith = createWidgetBase_1.default.mixin({\n\t        mixin: {\n\t            classes: ['seenWith'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var cards = this.state.cards;\n\t                    var cardNodes = cards.map(function (card) {\n\t                        var state = lang_1.assign({ large: true }, card);\n\t                        return d_1.default(createCard_1.default, { id: \"card-details-seen-with-\" + state.id, state: state });\n\t                    });\n\t                    return [\n\t                        d_1.default('h2', { innerHTML: 'last seen with' })\n\t                    ].concat(cardNodes);\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createSeenWith;\n\t});\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCard = createWidgetBase_1.default.mixin({\n\t        mixin: {\n\t            tagName: 'a',\n\t            classes: ['milestoneCard'],\n\t            nodeAttributes: [\n\t                function () {\n\t                    return {\n\t                        href: \"#/cards/\" + this.state.id\n\t                    };\n\t                }\n\t            ],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var baseImageClass = this.state.large ? 'card-sprite-large' : 'card-sprite-small';\n\t                    return [d_1.default(\"div.\" + baseImageClass + \".\" + this.state.imageClass)];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCard;\n\t});\n\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(62), __webpack_require__(30), __webpack_require__(18), __webpack_require__(60), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createStateful_1 = __webpack_require__(62);\n\t    var lang_1 = __webpack_require__(30);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var Map_1 = __webpack_require__(60);\n\t    var d_1 = __webpack_require__(55);\n\t    ;\n\t    /**\n\t     * Internal state map for widget instances\n\t     */\n\t    var widgetInternalStateMap = new WeakMap_1.default();\n\t    /**\n\t     * The counter for generating a unique ID\n\t     */\n\t    var widgetCount = 0;\n\t    function generateID(instance) {\n\t        var id = \"widget-\" + ++widgetCount;\n\t        instance.setState({ id: id });\n\t        return id;\n\t    }\n\t    function isWNode(child) {\n\t        return child && child.factory !== undefined;\n\t    }\n\t    function dNodeToVNode(instance, dNode) {\n\t        var internalState = widgetInternalStateMap.get(instance);\n\t        var child;\n\t        if (isWNode(dNode)) {\n\t            var factory = dNode.factory, _a = dNode.options, id = _a.id, state = _a.state;\n\t            var childrenMapKey = id || factory;\n\t            var cachedChild = internalState.historicChildrenMap.get(childrenMapKey);\n\t            if (cachedChild) {\n\t                child = cachedChild;\n\t                if (state) {\n\t                    child.setState(state);\n\t                }\n\t            }\n\t            else {\n\t                child = factory(dNode.options);\n\t                child.own(child.on('invalidated', function () {\n\t                    instance.invalidate();\n\t                }));\n\t                internalState.historicChildrenMap.set(childrenMapKey, child);\n\t                instance.own(child);\n\t            }\n\t            if (!id && internalState.currentChildrenMap.has(factory)) {\n\t                var errorMsg = 'must provide unique keys when using the same widget factory multiple times';\n\t                console.error(errorMsg);\n\t                instance.emit({ type: 'error', target: instance, error: new Error(errorMsg) });\n\t            }\n\t            internalState.currentChildrenMap.set(childrenMapKey, child);\n\t        }\n\t        else {\n\t            child = dNode;\n\t            if (child.children) {\n\t                child.children = child.children.map(function (child) { return dNodeToVNode(instance, child); });\n\t            }\n\t        }\n\t        return child.render();\n\t    }\n\t    function manageDetachedChildren(instance) {\n\t        var internalState = widgetInternalStateMap.get(instance);\n\t        internalState.historicChildrenMap.forEach(function (child, key) {\n\t            if (!internalState.currentChildrenMap.has(key)) {\n\t                internalState.historicChildrenMap.delete(key);\n\t                child.destroy();\n\t            }\n\t        });\n\t        internalState.currentChildrenMap.clear();\n\t    }\n\t    function formatTagNameAndClasses(tagName, classes) {\n\t        if (classes.length) {\n\t            return tagName + \".\" + classes.join('.');\n\t        }\n\t        return tagName;\n\t    }\n\t    var createWidget = createStateful_1.default\n\t        .mixin({\n\t        mixin: {\n\t            childNodeRenderers: [],\n\t            classes: [],\n\t            getChildrenNodes: function () {\n\t                var _this = this;\n\t                var childrenWrappers = [];\n\t                this.childNodeRenderers.forEach(function (fn) {\n\t                    var wrappers = fn.call(_this);\n\t                    childrenWrappers = childrenWrappers.concat(wrappers);\n\t                });\n\t                return childrenWrappers;\n\t            },\n\t            getNodeAttributes: function (overrides) {\n\t                var _this = this;\n\t                var props = {};\n\t                this.nodeAttributes.forEach(function (fn) {\n\t                    var newProps = fn.call(_this);\n\t                    if (newProps) {\n\t                        lang_1.assign(props, newProps);\n\t                    }\n\t                });\n\t                return props;\n\t            },\n\t            invalidate: function () {\n\t                var internalState = widgetInternalStateMap.get(this);\n\t                internalState.dirty = true;\n\t                this.emit({\n\t                    type: 'invalidated',\n\t                    target: this\n\t                });\n\t            },\n\t            get id() {\n\t                var id = widgetInternalStateMap.get(this).id;\n\t                return id || (this.state && this.state.id) || generateID(this);\n\t            },\n\t            nodeAttributes: [\n\t                function () {\n\t                    var baseIdProp = this.state && this.state.id ? { 'data-widget-id': this.state.id } : {};\n\t                    var _a = this.state.styles, styles = _a === void 0 ? {} : _a;\n\t                    var classes = {};\n\t                    var internalState = widgetInternalStateMap.get(this);\n\t                    internalState.widgetClasses.forEach(function (c) { return classes[c] = false; });\n\t                    if (this.state && this.state.classes) {\n\t                        this.state.classes.forEach(function (c) { return classes[c] = true; });\n\t                        internalState.widgetClasses = this.state.classes;\n\t                    }\n\t                    return lang_1.assign(baseIdProp, { key: this, classes: classes, styles: styles });\n\t                }\n\t            ],\n\t            render: function () {\n\t                var internalState = widgetInternalStateMap.get(this);\n\t                if (internalState.dirty || !internalState.cachedVNode) {\n\t                    var dNode = d_1.default(formatTagNameAndClasses(this.tagName, this.classes), this.getNodeAttributes(), this.getChildrenNodes());\n\t                    var widget = dNodeToVNode(this, dNode);\n\t                    manageDetachedChildren(this);\n\t                    internalState.cachedVNode = widget;\n\t                    internalState.dirty = false;\n\t                }\n\t                return internalState.cachedVNode;\n\t            },\n\t            tagName: 'div'\n\t        },\n\t        initialize: function (instance, options) {\n\t            if (options === void 0) { options = {}; }\n\t            var id = options.id, tagName = options.tagName;\n\t            instance.tagName = tagName || instance.tagName;\n\t            widgetInternalStateMap.set(instance, {\n\t                id: id,\n\t                dirty: true,\n\t                widgetClasses: [],\n\t                historicChildrenMap: new Map_1.default(),\n\t                currentChildrenMap: new Map_1.default()\n\t            });\n\t            instance.own(instance.on('state:changed', function () {\n\t                instance.invalidate();\n\t            }));\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createWidget;\n\t});\n\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(27), __webpack_require__(21), __webpack_require__(25), __webpack_require__(61), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var decorators_1 = __webpack_require__(27);\n\t    var global_1 = __webpack_require__(21);\n\t    var iterator_1 = __webpack_require__(25);\n\t    var object_1 = __webpack_require__(61);\n\t    __webpack_require__(19);\n\t    var Shim;\n\t    (function (Shim) {\n\t        /**\n\t         * An implementation analogous to the Map specification in ES2015.\n\t         */\n\t        var Map = (function () {\n\t            /**\n\t             * Creates a new Map\n\t             *\n\t             * @constructor\n\t             *\n\t             * @param iterator\n\t             * Array or iterator containing two-item tuples used to initially populate the map.\n\t             * The first item in each tuple corresponds to the key of the map entry.\n\t             * The second item corresponds to the value of the map entry.\n\t             */\n\t            function Map(iterable) {\n\t                var _this = this;\n\t                this._keys = [];\n\t                this._values = [];\n\t                this[Symbol.toStringTag] = 'Map';\n\t                if (iterable) {\n\t                    iterator_1.forOf(iterable, function (value) {\n\t                        _this.set(value[0], value[1]);\n\t                    });\n\t                }\n\t            }\n\t            /**\n\t             * An alternative to Array.prototype.indexOf using Object.is\n\t             * to check for equality. See http://mzl.la/1zuKO2V\n\t             */\n\t            Map.prototype._indexOfKey = function (keys, key) {\n\t                for (var i = 0, length_1 = keys.length; i < length_1; i++) {\n\t                    if (object_1.is(keys[i], key)) {\n\t                        return i;\n\t                    }\n\t                }\n\t                return -1;\n\t            };\n\t            Object.defineProperty(Map.prototype, \"size\", {\n\t                /**\n\t                 * Returns the number of key / value pairs in the Map.\n\t                 *\n\t                 * @return the number of key / value pairs in the Map\n\t                 */\n\t                get: function () {\n\t                    return this._keys.length;\n\t                },\n\t                enumerable: true,\n\t                configurable: true\n\t            });\n\t            /**\n\t             * Deletes all keys and their associated values.\n\t             */\n\t            Map.prototype.clear = function () {\n\t                this._keys.length = this._values.length = 0;\n\t            };\n\t            /**\n\t             * Deletes a given key and its associated value.\n\t             *\n\t             * @param key The key to delete\n\t             * @return true if the key exists, false if it does not\n\t             */\n\t            Map.prototype.delete = function (key) {\n\t                var index = this._indexOfKey(this._keys, key);\n\t                if (index < 0) {\n\t                    return false;\n\t                }\n\t                this._keys.splice(index, 1);\n\t                this._values.splice(index, 1);\n\t                return true;\n\t            };\n\t            /**\n\t             * Returns an iterator that yields each key/value pair as an array.\n\t             *\n\t             * @return An iterator for each key/value pair in the instance.\n\t             */\n\t            Map.prototype.entries = function () {\n\t                var _this = this;\n\t                var values = this._keys.map(function (key, i) {\n\t                    return [key, _this._values[i]];\n\t                });\n\t                return new iterator_1.ShimIterator(values);\n\t            };\n\t            /**\n\t             * Executes a given function for each map entry. The function\n\t             * is invoked with three arguments: the element value, the\n\t             * element key, and the associated Map instance.\n\t             *\n\t             * @param callback The function to execute for each map entry,\n\t             * @param context The value to use for `this` for each execution of the calback\n\t             */\n\t            Map.prototype.forEach = function (callback, context) {\n\t                var keys = this._keys;\n\t                var values = this._values;\n\t                for (var i = 0, length_2 = keys.length; i < length_2; i++) {\n\t                    callback.call(context, values[i], keys[i], this);\n\t                }\n\t            };\n\t            /**\n\t             * Returns the value associated with a given key.\n\t             *\n\t             * @param key The key to look up\n\t             * @return The value if one exists or undefined\n\t             */\n\t            Map.prototype.get = function (key) {\n\t                var index = this._indexOfKey(this._keys, key);\n\t                return index < 0 ? undefined : this._values[index];\n\t            };\n\t            /**\n\t             * Checks for the presence of a given key.\n\t             *\n\t             * @param key The key to check for\n\t             * @return true if the key exists, false if it does not\n\t             */\n\t            Map.prototype.has = function (key) {\n\t                return this._indexOfKey(this._keys, key) > -1;\n\t            };\n\t            /**\n\t             * Returns an iterator that yields each key in the map.\n\t             *\n\t             * @return An iterator containing the instance's keys.\n\t             */\n\t            Map.prototype.keys = function () {\n\t                return new iterator_1.ShimIterator(this._keys);\n\t            };\n\t            /**\n\t             * Sets the value associated with a given key.\n\t             *\n\t             * @param key The key to define a value to\n\t             * @param value The value to assign\n\t             * @return The Map instance\n\t             */\n\t            Map.prototype.set = function (key, value) {\n\t                var index = this._indexOfKey(this._keys, key);\n\t                index = index < 0 ? this._keys.length : index;\n\t                this._keys[index] = key;\n\t                this._values[index] = value;\n\t                return this;\n\t            };\n\t            /**\n\t             * Returns an iterator that yields each value in the map.\n\t             *\n\t             * @return An iterator containing the instance's values.\n\t             */\n\t            Map.prototype.values = function () {\n\t                return new iterator_1.ShimIterator(this._values);\n\t            };\n\t            Map.prototype[Symbol.iterator] = function () {\n\t                return this.entries();\n\t            };\n\t            return Map;\n\t        }());\n\t        Shim.Map = Map;\n\t    })(Shim = exports.Shim || (exports.Shim = {}));\n\t    var Map = (function () {\n\t        /* istanbul ignore next */\n\t        function Map(iterable) {\n\t            /* istanbul ignore next */\n\t            this[Symbol.toStringTag] = 'Map';\n\t        }\n\t        ;\n\t        Object.defineProperty(Map.prototype, \"size\", {\n\t            /* istanbul ignore next */\n\t            get: function () { throw new Error('Abstract method'); },\n\t            enumerable: true,\n\t            configurable: true\n\t        });\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.clear = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.delete = function (key) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.entries = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.forEach = function (callback, context) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.get = function (key) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.has = function (key) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.keys = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.set = function (key, value) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype.values = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Map.prototype[Symbol.iterator] = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        Map = __decorate([\n\t            decorators_1.hasClass('es6-map', global_1.default.Map, Shim.Map)\n\t        ], Map);\n\t        return Map;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = Map;\n\t});\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    __webpack_require__(19);\n\t    var Shim;\n\t    (function (Shim) {\n\t        function is(value1, value2) {\n\t            if (value1 === value2) {\n\t                return value1 !== 0 || 1 / value1 === 1 / value2; // -0\n\t            }\n\t            return value1 !== value1 && value2 !== value2; // NaN\n\t        }\n\t        Shim.is = is;\n\t        function getOwnPropertySymbols(o) {\n\t            return Object.getOwnPropertyNames(o).filter(function (key) { return Boolean(key.match(/^@@.+/)); })\n\t                .map(function (key) { return Symbol.for(key.substring(2)); });\n\t        }\n\t        Shim.getOwnPropertySymbols = getOwnPropertySymbols;\n\t        function getOwnPropertyNames(o) {\n\t            return Object.getOwnPropertyNames(o).filter(function (key) { return !Boolean(key.match(/^@@.+/)); });\n\t        }\n\t        Shim.getOwnPropertyNames = getOwnPropertyNames;\n\t    })(Shim || (Shim = {}));\n\t    /**\n\t     * Determines whether two values are the same value.\n\t     *\n\t     * @param value1 The first value to compare\n\t     * @param value2 The second value to compare\n\t     * @return true if the values are the same; false otherwise\n\t     */\n\t    exports.is = 'is' in Object\n\t        ? Object.is\n\t        : Shim.is;\n\t    /**\n\t     * Returns an array of own properties who key is a symbol\n\t     *\n\t     * @param o The object to return the properties for\n\t     */\n\t    exports.getOwnPropertySymbols = 'getOwnPropertySymbols' in Object\n\t        ? Object.getOwnPropertySymbols\n\t        : Shim.getOwnPropertySymbols;\n\t    /**\n\t     * Returns an array of own properties who key is a string\n\t     *\n\t     * @param o The object to return the properties for\n\t     */\n\t    /* intentionally detecting `getOwnPropertySymbols` because we should should provide the shim\n\t     * when there is no support for symbols */\n\t    exports.getOwnPropertyNames = 'getOwnPropertySymbols' in Object\n\t        ? Object.getOwnPropertyNames\n\t        : Shim.getOwnPropertyNames;\n\t});\n\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30), __webpack_require__(18), __webpack_require__(64), __webpack_require__(63)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var createEvented_1 = __webpack_require__(64);\n\t    var createCancelableEvent_1 = __webpack_require__(63);\n\t    /**\n\t     * A weak map of stateful instances to their obseved state references\n\t     */\n\t    var observedStateMap = new WeakMap_1.default();\n\t    /**\n\t     * Internal function to unobserve the state of a `Stateful`.  It emits a `statecomplete` event which can be\n\t     * cancelled.\n\t     *\n\t     * @param stateful The `Stateful` object to unobserve\n\t     */\n\t    function completeStatefulState(stateful) {\n\t        var observedState = observedStateMap.get(stateful);\n\t        if (observedState) {\n\t            observedState.handle.destroy();\n\t            var statecomplete = createCancelableEvent_1.default({\n\t                type: 'state:completed',\n\t                target: stateful\n\t            });\n\t            stateful.emit(statecomplete);\n\t            if (!statecomplete.defaultPrevented) {\n\t                stateful.destroy();\n\t            }\n\t        }\n\t    }\n\t    /**\n\t     * Internal function that actually applies the state to the Stateful's state and\n\t     * emits the `statechange` event.\n\t     *\n\t     * @param stateful The Stateful instance\n\t     * @param state The State to be set\n\t     */\n\t    function setStatefulState(target, state) {\n\t        var previousState = stateWeakMap.get(target);\n\t        if (!previousState) {\n\t            throw new Error('Unable to set destroyed state');\n\t        }\n\t        var type = 'state:changed';\n\t        state = lang_1.deepAssign(previousState, state);\n\t        var eventObject = {\n\t            type: type,\n\t            state: state,\n\t            target: target\n\t        };\n\t        target.emit(eventObject);\n\t    }\n\t    /**\n\t     * A weak map that contains the stateful's state\n\t     */\n\t    var stateWeakMap = new WeakMap_1.default();\n\t    /**\n\t     * Create an instance of a stateful object\n\t     */\n\t    var createStateful = createEvented_1.default\n\t        .mixin({\n\t        className: 'Stateful',\n\t        mixin: {\n\t            get state() {\n\t                return stateWeakMap.get(this);\n\t            },\n\t            setState: function (value) {\n\t                var observedState = observedStateMap.get(this);\n\t                if (observedState) {\n\t                    observedState.observable.patch(value, { id: observedState.id });\n\t                }\n\t                else {\n\t                    setStatefulState(this, value);\n\t                }\n\t            },\n\t            observeState: function (id, observable) {\n\t                var observedState = observedStateMap.get(this);\n\t                if (observedState) {\n\t                    if (observedState.id === id && observedState.observable === observable) {\n\t                        return observedState.handle;\n\t                    }\n\t                    throw new Error(\"Already observing state with ID '\" + observedState.id + \"'\");\n\t                }\n\t                var stateful = this;\n\t                var handle = {\n\t                    destroy: function () {\n\t                        var observedState = observedStateMap.get(stateful);\n\t                        if (observedState) {\n\t                            observedState.subscription.unsubscribe();\n\t                            observedStateMap.delete(stateful);\n\t                        }\n\t                    }\n\t                };\n\t                var subscription = observable\n\t                    .observe(id)\n\t                    .subscribe(function (state) {\n\t                    setStatefulState(stateful, state);\n\t                }, function (err) {\n\t                    throw err;\n\t                }, function () {\n\t                    completeStatefulState(stateful);\n\t                });\n\t                observedStateMap.set(stateful, { id: id, observable: observable, subscription: subscription, handle: handle });\n\t                return handle;\n\t            }\n\t        },\n\t        initialize: function (instance, options) {\n\t            stateWeakMap.set(instance, Object.create(null));\n\t            instance.own({\n\t                destroy: function () {\n\t                    stateWeakMap.delete(instance);\n\t                }\n\t            });\n\t            if (options) {\n\t                var id = options.id, stateFrom = options.stateFrom, state = options.state;\n\t                if (typeof id !== 'undefined' && stateFrom) {\n\t                    instance.own(instance.observeState(id, stateFrom));\n\t                }\n\t                else if (stateFrom) {\n\t                    throw new TypeError('When \"stateFrom\" option is supplied, factory also requires \"id\" option.');\n\t                }\n\t                if (state) {\n\t                    instance.setState(state);\n\t                }\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createStateful;\n\t});\n\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    /**\n\t     * A simple factory that creates an event object which can be cancelled\n\t     *\n\t     * @param options The options for the event\n\t     */\n\t    function createCancelableEvent(options) {\n\t        var type = options.type, target = options.target;\n\t        var event = Object.defineProperties({}, {\n\t            type: { value: type, enumerable: true },\n\t            target: { value: target, enumerable: true },\n\t            cancelable: { value: true, enumerable: true },\n\t            defaultPrevented: { value: false, enumerable: true, configurable: true },\n\t            preventDefault: { value: function () {\n\t                    Object.defineProperty(event, 'defaultPrevented', { value: true, enumerable: true });\n\t                }, enumerable: true }\n\t        });\n\t        return event;\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCancelableEvent;\n\t});\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(66), __webpack_require__(60), __webpack_require__(18), __webpack_require__(65)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var aspect_1 = __webpack_require__(66);\n\t    var Map_1 = __webpack_require__(60);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var createDestroyable_1 = __webpack_require__(65);\n\t    /**\n\t     * A weak map that contains a map of the listeners for an `Evented`\n\t     */\n\t    var listenersMap = new WeakMap_1.default();\n\t    /**\n\t     * A guard which determines if the value is `Actionable`\n\t     *\n\t     * @param value The value to guard against\n\t     */\n\t    function isActionable(value) {\n\t        return Boolean(value && typeof value.do === 'function');\n\t    }\n\t    /**\n\t     * An internal function that always returns an EventedCallback\n\t     *\n\t     * @param listener Either a `EventedCallback` or an `Actionable`\n\t     */\n\t    function resolveListener(listener) {\n\t        return isActionable(listener) ? function (event) { return listener.do({ event: event }); } : listener;\n\t    }\n\t    exports.resolveListener = resolveListener;\n\t    /**\n\t     * Internal function to convert an array of handles to a single handle\n\t     *\n\t     * @param handles The array of handles to convert into a signle handle\n\t     * @return The single handle\n\t     */\n\t    function handlesArraytoHandle(handles) {\n\t        return {\n\t            destroy: function () {\n\t                handles.forEach(function (handle) { return handle.destroy(); });\n\t            }\n\t        };\n\t    }\n\t    /**\n\t     * Creates a new instance of an `Evented`\n\t     */\n\t    var createEvented = createDestroyable_1.default\n\t        .mixin({\n\t        className: 'Evented',\n\t        mixin: {\n\t            emit: function (event) {\n\t                var method = listenersMap.get(this).get(event.type);\n\t                if (method) {\n\t                    method.call(this, event);\n\t                }\n\t            },\n\t            on: function () {\n\t                var _this = this;\n\t                var args = [];\n\t                for (var _i = 0; _i < arguments.length; _i++) {\n\t                    args[_i - 0] = arguments[_i];\n\t                }\n\t                var listenerMap = listenersMap.get(this);\n\t                if (args.length === 2) {\n\t                    var _a = args, type_1 = _a[0], listeners = _a[1];\n\t                    if (Array.isArray(listeners)) {\n\t                        var handles = listeners.map(function (listener) { return aspect_1.on(listenerMap, type_1, resolveListener(listener)); });\n\t                        return handlesArraytoHandle(handles);\n\t                    }\n\t                    else {\n\t                        return aspect_1.on(listenerMap, type_1, resolveListener(listeners));\n\t                    }\n\t                }\n\t                else if (args.length === 1) {\n\t                    var listenerMapArg_1 = args[0];\n\t                    var handles = Object.keys(listenerMapArg_1).map(function (type) { return _this.on(type, listenerMapArg_1[type]); });\n\t                    return handlesArraytoHandle(handles);\n\t                }\n\t                else {\n\t                    throw new TypeError('Invalid arguments');\n\t                }\n\t            }\n\t        },\n\t        initialize: function (instance, options) {\n\t            listenersMap.set(instance, new Map_1.default());\n\t            if (options && options.listeners) {\n\t                instance.own(instance.on(options.listeners));\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createEvented;\n\t});\n\n\n/***/ },\n/* 65 */\n37,\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    /**\n\t     * An internal type guard that determines if an value is MapLike or not\n\t     *\n\t     * @param value The value to guard against\n\t     */\n\t    function isMapLike(value) {\n\t        return value && typeof value.get === 'function' && typeof value.set === 'function';\n\t    }\n\t    /**\n\t     * A UID for tracking advice ordering\n\t     */\n\t    var nextId = 0;\n\t    /**\n\t     * Internal function that advises a join point\n\t     *\n\t     * @param dispatcher The current advice dispatcher\n\t     * @param type The type of before or after advice to apply\n\t     * @param advice The advice to apply\n\t     * @param receiveArguments If true, the advice will receive the arguments passed to the join point\n\t     * @return The handle that will remove the advice\n\t     */\n\t    function advise(dispatcher, type, advice, receiveArguments) {\n\t        var previous = dispatcher && dispatcher[type];\n\t        var advised = {\n\t            id: nextId++,\n\t            advice: advice,\n\t            receiveArguments: receiveArguments\n\t        };\n\t        if (previous) {\n\t            if (type === 'after') {\n\t                // add the listener to the end of the list\n\t                // note that we had to change this loop a little bit to workaround a bizarre IE10 JIT bug\n\t                while (previous.next && (previous = previous.next)) { }\n\t                previous.next = advised;\n\t                advised.previous = previous;\n\t            }\n\t            else {\n\t                // add to the beginning\n\t                if (dispatcher) {\n\t                    dispatcher.before = advised;\n\t                }\n\t                advised.next = previous;\n\t                previous.previous = advised;\n\t            }\n\t        }\n\t        else {\n\t            dispatcher && (dispatcher[type] = advised);\n\t        }\n\t        advice = previous = undefined;\n\t        return lang_1.createHandle(function () {\n\t            var _a = (advised || {}), _b = _a.previous, previous = _b === void 0 ? undefined : _b, _c = _a.next, next = _c === void 0 ? undefined : _c;\n\t            if (dispatcher && !previous && !next) {\n\t                dispatcher[type] = undefined;\n\t            }\n\t            else {\n\t                if (previous) {\n\t                    previous.next = next;\n\t                }\n\t                else {\n\t                    dispatcher && (dispatcher[type] = next);\n\t                }\n\t                if (next) {\n\t                    next.previous = previous;\n\t                }\n\t            }\n\t            if (advised) {\n\t                delete advised.advice;\n\t            }\n\t            dispatcher = advised = undefined;\n\t        });\n\t    }\n\t    /**\n\t     * An internal function that resolves or creates the dispatcher for a given join point\n\t     *\n\t     * @param target The target object or map\n\t     * @param methodName The name of the method that the dispatcher should be resolved for\n\t     * @return The dispatcher\n\t     */\n\t    function getDispatcher(target, methodName) {\n\t        var existing = isMapLike(target) ? target.get(methodName) : target && target[methodName];\n\t        var dispatcher;\n\t        if (!existing || existing.target !== target) {\n\t            /* There is no existing dispatcher, therefore we will create one */\n\t            dispatcher = function () {\n\t                var executionId = nextId;\n\t                var args = arguments;\n\t                var results;\n\t                var before = dispatcher.before;\n\t                while (before) {\n\t                    if (before.advice) {\n\t                        args = before.advice.apply(this, args) || args;\n\t                    }\n\t                    before = before.next;\n\t                }\n\t                if (dispatcher.around && dispatcher.around.advice) {\n\t                    results = dispatcher.around.advice(this, args);\n\t                }\n\t                var after = dispatcher.after;\n\t                while (after && after.id < executionId) {\n\t                    if (after.advice) {\n\t                        if (after.receiveArguments) {\n\t                            var newResults = after.advice.apply(this, args);\n\t                            results = newResults === undefined ? results : newResults;\n\t                        }\n\t                        else {\n\t                            results = after.advice.call(this, results, args);\n\t                        }\n\t                    }\n\t                    after = after.next;\n\t                }\n\t                return results;\n\t            };\n\t            if (isMapLike(target)) {\n\t                target.set(methodName, dispatcher);\n\t            }\n\t            else {\n\t                target && (target[methodName] = dispatcher);\n\t            }\n\t            if (existing) {\n\t                dispatcher.around = {\n\t                    advice: function (target, args) {\n\t                        return existing.apply(target, args);\n\t                    }\n\t                };\n\t            }\n\t            dispatcher.target = target;\n\t        }\n\t        else {\n\t            dispatcher = existing;\n\t        }\n\t        return dispatcher;\n\t    }\n\t    /**\n\t     * Attaches \"after\" advice to be executed after the original method.\n\t     * The advising function will receive the original method's return value and arguments object.\n\t     * The value it returns will be returned from the method when it is called (even if the return value is undefined).\n\t     *\n\t     * @param target Object whose method will be aspected\n\t     * @param methodName Name of method to aspect\n\t     * @param advice Advising function which will receive the original method's return value and arguments object\n\t     * @return A handle which will remove the aspect when destroy is called\n\t     */\n\t    function after(target, methodName, advice) {\n\t        return advise(getDispatcher(target, methodName), 'after', advice);\n\t    }\n\t    exports.after = after;\n\t    /**\n\t     * Attaches \"around\" advice around the original method.\n\t     *\n\t     * @param target Object whose method will be aspected\n\t     * @param methodName Name of method to aspect\n\t     * @param advice Advising function which will receive the original function\n\t     * @return A handle which will remove the aspect when destroy is called\n\t     */\n\t    function around(target, methodName, advice) {\n\t        var dispatcher = getDispatcher(target, methodName);\n\t        var previous = dispatcher.around;\n\t        var advised;\n\t        if (advice) {\n\t            advised = advice(function () {\n\t                if (previous && previous.advice) {\n\t                    return previous.advice(this, arguments);\n\t                }\n\t            });\n\t        }\n\t        dispatcher.around = {\n\t            advice: function (target, args) {\n\t                return advised ? advised.apply(target, args) : previous && previous.advice && previous.advice(target, args);\n\t            }\n\t        };\n\t        return lang_1.createHandle(function () {\n\t            advised = dispatcher = undefined;\n\t        });\n\t    }\n\t    exports.around = around;\n\t    /**\n\t     * Attaches \"before\" advice to be executed before the original method.\n\t     *\n\t     * @param target Object whose method will be aspected\n\t     * @param methodName Name of method to aspect\n\t     * @param advice Advising function which will receive the same arguments as the original, and may return new arguments\n\t     * @return A handle which will remove the aspect when destroy is called\n\t     */\n\t    function before(target, methodName, advice) {\n\t        return advise(getDispatcher(target, methodName), 'before', advice);\n\t    }\n\t    exports.before = before;\n\t    /**\n\t     * Attaches advice to be executed after the original method.\n\t     * The advising function will receive the same arguments as the original method.\n\t     * The value it returns will be returned from the method when it is called *unless* its return value is undefined.\n\t     *\n\t     * @param target Object whose method will be aspected\n\t     * @param methodName Name of method to aspect\n\t     * @param advice Advising function which will receive the same arguments as the original method\n\t     * @return A handle which will remove the aspect when destroy is called\n\t     */\n\t    function on(target, methodName, advice) {\n\t        return advise(getDispatcher(target, methodName), 'after', advice, true);\n\t    }\n\t    exports.on = on;\n\t});\n\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(68), __webpack_require__(58)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var createCard_1 = __webpack_require__(58);\n\t    var createCardNavBar = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'cardNavBar'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var cards = this.state.cards;\n\t                    var cardNodes = cards.map(function (state) {\n\t                        return d_1.default(createCard_1.default, { id: \"card-details-nav-bar-\" + state.id, state: state });\n\t                    });\n\t                    return cardNodes;\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardNavBar;\n\t});\n\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(62)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var createStateful_1 = __webpack_require__(62);\n\t    ;\n\t    var createCssTransitionMixin = compose_1.default({\n\t        nodeAttributes: [\n\t            function () {\n\t                var _a = this.state, enterAnimation = _a.enterAnimation, exitAnimation = _a.exitAnimation;\n\t                return { enterAnimation: enterAnimation, exitAnimation: exitAnimation };\n\t            }\n\t        ]\n\t    })\n\t        .mixin(createStateful_1.default);\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCssTransitionMixin;\n\t});\n\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(68)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    function createButtonLink(_a) {\n\t        var iconClass = _a.iconClass, href = _a.href, innerHTML = _a.text;\n\t        var icon = d_1.default(\"i.fa.\" + iconClass);\n\t        var buttonText = innerHTML ? d_1.default('span', { innerHTML: innerHTML }) : null;\n\t        return d_1.default('a.button', { href: href }, [icon, buttonText]);\n\t    }\n\t    var shareButtonConfig = [\n\t        { href: '', iconClass: 'fa-heart-o', text: 'Add to favourites' },\n\t        { href: 'http://www.twitter.com', iconClass: 'fa-twitter' },\n\t        { href: 'https://facebook.com', iconClass: 'fa-facebook' }\n\t    ];\n\t    var createCardDescription = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'cardDescription'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var _a = this.state, imageClass = _a.imageClass, name = _a.name, tagline = _a.tagline, description = _a.description, favouriteCount = _a.favouriteCount;\n\t                    var cardImage = d_1.default(\"div.cardImage.card-sprite-large.\" + imageClass);\n\t                    var cardName = d_1.default('h1', { innerHTML: name });\n\t                    var cardTagline = d_1.default('strong.tagline', { innerHTML: tagline });\n\t                    var cardDescription = d_1.default('p', { innerHTML: description });\n\t                    var cardFavouriteCount = d_1.default('span', { innerHTML: \"Favourited: \" + favouriteCount });\n\t                    var shareButtons = d_1.default('div.buttonHolder', {}, shareButtonConfig.map(createButtonLink));\n\t                    return [\n\t                        cardImage,\n\t                        d_1.default('article', {}, [\n\t                            cardName,\n\t                            cardTagline,\n\t                            cardDescription,\n\t                            cardFavouriteCount,\n\t                            shareButtons\n\t                        ])\n\t                    ];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardDescription;\n\t});\n\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(68), __webpack_require__(71), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var createCardsList_1 = __webpack_require__(71);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCardsPage = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'pageHolder', 'cards'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var jumbotron = d_1.default('div.jumbotron');\n\t                    var cardsList = d_1.default(createCardsList_1.default, { state: this.state });\n\t                    return [jumbotron, cardsList];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardsPage;\n\t});\n\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(72)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCardSummary_1 = __webpack_require__(72);\n\t    var createCardList = createWidgetBase_1.default\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['cardList'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var cards = this.state.cards;\n\t                    return cards.map(function (state) {\n\t                        return d_1.default(createCardSummary_1.default, { id: \"card-list-summary-\" + state.id, state: state });\n\t                    });\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardList;\n\t});\n\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(58)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createCard_1 = __webpack_require__(58);\n\t    var createCardSummary = createWidgetBase_1.default.mixin({\n\t        mixin: {\n\t            classes: ['cardSummary'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var _a = this.state, id = _a.id, imageClass = _a.imageClass, name = _a.name, score = _a.score;\n\t                    var cardImage = d_1.default(createCard_1.default, { state: { id: id, imageClass: imageClass, large: true } });\n\t                    var cardName = d_1.default('h2', { innerHTML: name });\n\t                    var cardPoints = d_1.default('p.points', { innerHTML: \"milestone points: \" + score });\n\t                    return [\n\t                        cardImage,\n\t                        cardName,\n\t                        cardPoints\n\t                    ];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createCardSummary;\n\t});\n\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(68), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var d_1 = __webpack_require__(55);\n\t    var createAboutPage = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'pageHolder', 'about'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var heading = d_1.default('h1', { innerHTML: 'About' });\n\t                    var jumbotron = d_1.default('div.jumbotron', {}, [heading]);\n\t                    return [jumbotron];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createAboutPage;\n\t});\n\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(68), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var d_1 = __webpack_require__(55);\n\t    var createGameplayPage = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'pageHolder', 'gameplay'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var heading = d_1.default('h1', { innerHTML: 'Gameplay' });\n\t                    var jumbotron = d_1.default('div.jumbotron', {}, [heading]);\n\t                    return [jumbotron];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createGameplayPage;\n\t});\n\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(68), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var createCssTransitionMixin_1 = __webpack_require__(68);\n\t    var d_1 = __webpack_require__(55);\n\t    var createHomePage = createWidgetBase_1.default\n\t        .mixin(createCssTransitionMixin_1.default)\n\t        .mixin({\n\t        mixin: {\n\t            classes: ['animated', 'pageHolder', 'home'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var mmLogo = d_1.default('img', { src: './images/mm_logo.png' });\n\t                    var jumbotron = d_1.default('div.jumbotron', {}, [mmLogo]);\n\t                    return [jumbotron];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createHomePage;\n\t});\n\n\n/***/ },\n/* 76 */\n/***/ function(module, exports) {\n\n\t(function (global) {\n\t\n\t  \"use strict\";\n\t\n\t  var browserSpecificTransitionEndEventName = null;\n\t\n\t  var determineBrowserSpecificStyleNames = function (element) {\n\t    if (\"WebkitTransition\" in element.style) {\n\t      browserSpecificTransitionEndEventName = \"webkitTransitionEnd\";\n\t    } else if (\"transition\" in element.style) {\n\t      browserSpecificTransitionEndEventName = \"transitionend\";\n\t    } else if (\"MozTransition\" in element.style) {\n\t      browserSpecificTransitionEndEventName = \"transitionend\";\n\t    } else {\n\t      throw new Error(\"Your browser is not supported\");\n\t    }\n\t  };\n\t\n\t  var init = function (testElement) {\n\t    if (browserSpecificTransitionEndEventName === null) {\n\t      determineBrowserSpecificStyleNames(testElement);\n\t    }\n\t  };\n\t\n\t  var cssTransitions = {\n\t    exit: function (node, properties, exitAnimation, removeNode) {\n\t      init(node);\n\t      var finished = false;\n\t      var transitionEnd = function (evt) {\n\t        if (!finished) {\n\t          finished = true;\n\t          node.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t          removeNode();\n\t        }\n\t      };\n\t      node.classList.add(exitAnimation);\n\t      node.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t      requestAnimationFrame(function () {\n\t        node.classList.add(exitAnimation + \"-active\");\n\t      });\n\t    },\n\t    enter: function (node, properties, enterAnimation) {\n\t      init(node);\n\t      var finished = false;\n\t      var transitionEnd = function (evt) {\n\t        if (!finished) {\n\t          finished = true;\n\t          node.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t          node.classList.remove(enterAnimation);\n\t          node.classList.remove(enterAnimation + \"-active\");\n\t        }\n\t      };\n\t      node.classList.add(enterAnimation);\n\t      node.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t      requestAnimationFrame(function () {\n\t        node.classList.add(enterAnimation + \"-active\");\n\t      });\n\t    }\n\t  };\n\t\n\t  if (global.module !== undefined && global.module.exports) {\n\t    // Node and other CommonJS-like environments that support module.exports\n\t    global.module.exports = cssTransitions;\n\t  } else if (typeof global.define == 'function' && global.define.amd) {\n\t    // AMD / RequireJS\n\t    global.define(function () {\n\t      return cssTransitions;\n\t    });\n\t  }\n\t  if (window) {\n\t    // Browser\n\t    window.cssTransitions = cssTransitions;\n\t  }\n\t\n\t})(this);\n\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55), __webpack_require__(78)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createSearchInput_1 = __webpack_require__(78);\n\t    function listItem(childNode) {\n\t        return d_1.default('li', {}, [childNode]);\n\t    }\n\t    function createNavBarLink(_a) {\n\t        var innerHTML = _a.text, href = _a.href;\n\t        return listItem(d_1.default('a', { href: href, innerHTML: innerHTML }));\n\t    }\n\t    var createNavbar = createWidgetBase_1.default.mixin({\n\t        mixin: {\n\t            tagName: 'header',\n\t            classes: ['navbar'],\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var homeLink = listItem(d_1.default('a', { href: '#' }, [\n\t                        d_1.default('img', { src: 'images/navbar-app-icon.png' })\n\t                    ]));\n\t                    var sectionLinks = this.state.sections.map(createNavBarLink);\n\t                    var searchAction = listItem(d_1.default(createSearchInput_1.default, {}));\n\t                    var favouriteAction = listItem(d_1.default('i.fa.fa-2x.fa-heart-o'));\n\t                    var pageLinks = d_1.default('ul.inline-list', {}, [homeLink].concat(sectionLinks));\n\t                    var actionLinks = d_1.default('ul.inline-list.pull-right', {}, [searchAction, favouriteAction]);\n\t                    return [pageLinks, actionLinks];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createNavbar;\n\t});\n\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59), __webpack_require__(55)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    var d_1 = __webpack_require__(55);\n\t    var createSearchInput = createWidgetBase_1.default.mixin({\n\t        mixin: {\n\t            childNodeRenderers: [\n\t                function () {\n\t                    var input = d_1.default('input', { type: 'search' });\n\t                    var icon = d_1.default('i.fa.fa-2x.fa-search');\n\t                    return [input, icon];\n\t                }\n\t            ]\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createSearchInput;\n\t});\n\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(15), __webpack_require__(80), __webpack_require__(28)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createMemoryStore_1 = __webpack_require__(15);\n\t    var widgetStoreActions_1 = __webpack_require__(80);\n\t    var array_1 = __webpack_require__(28);\n\t    var cardStore = createMemoryStore_1.default({\n\t        data: [\n\t            { id: 'card-1', cardType: 'momentum', name: 'Brainstorming', description: 'People\\'s best ideas often come to them when they\\'re alone, but so do their worst. Your team brainstorms to build on each other\\'s great ideas.', score: 1, tagline: '', imageClass: 'Cards-Momentum1', favouriteCount: 0 },\n\t            { id: 'card-2', cardType: 'momentum', name: 'Clear Objectives', description: 'You tell your team that knowing the goal of the task is far more important than understanding the specific words of the request.', score: 3, tagline: '', imageClass: 'Cards-Momentum2', favouriteCount: 0 },\n\t            { id: 'card-3', cardType: 'momentum', name: 'Code Conventions', description: 'While tabs are superior to spaces in every way, the most important thing is that everyone on the project is structuring their code the same way.', score: 1, tagline: '', imageClass: 'Cards-Momentum3', favouriteCount: 0 },\n\t            { id: 'card-4', cardType: 'momentum', name: 'Code Reviews', description: 'The major benefit of your code review initiative wasn\\'t reducing errors, but in the camaraderie it built between engineers.', score: 4, tagline: '', imageClass: 'Cards-Momentum4', favouriteCount: 0 },\n\t            { id: 'card-5', cardType: 'momentum', name: 'Collaboration', description: 'Through collaboration, your team sees more of the big picture then most, enabling them to make better decisions.', score: 1, tagline: '', imageClass: 'Cards-Momentum5', favouriteCount: 0 },\n\t            { id: 'card-6', cardType: 'momentum', name: 'Communication', description: 'Your team communicates effectively, helping to avoid last minute scrambles and missed milestones.', score: 3, tagline: '', imageClass: 'Cards-Momentum6', favouriteCount: 0 },\n\t            { id: 'card-7', cardType: 'momentum', name: 'Decision Makers', description: 'Your team feels empowered to make important real-time decisions, removing minor roadblocks before they impact the entire project.', score: 4, tagline: '', imageClass: 'Cards-Momentum7', favouriteCount: 0 },\n\t            { id: 'card-8', cardType: 'momentum', name: 'Delegation', description: 'You let your team know that you don\\'t have to be involved in every decision. You trust them to use their judgement.', score: 2, tagline: '', imageClass: 'Cards-Momentum8', favouriteCount: 0 },\n\t            { id: 'card-9', cardType: 'momentum', name: 'Design Iteration', description: 'Your designers and developers iterate together to make sure that what\\'s being designed and built delivers the best possible experience', score: 2, tagline: '', imageClass: 'Cards-Momentum9', favouriteCount: 0 },\n\t            { id: 'card-10', cardType: 'momentum', name: 'Donuts!', description: 'Let\\'s be honest, we all revert to a childlike state when in the presence of sprinkled donuts.', score: 3, tagline: '', imageClass: 'Cards-Momentum10', favouriteCount: 0 },\n\t            { id: 'card-11', cardType: 'momentum', name: 'Feedback', description: 'You encourage the team to raise issues as they see them instead of letting them fester, even if the issue is you.', score: 2, tagline: '', imageClass: 'Cards-Momentum11', favouriteCount: 0 },\n\t            { id: 'card-12', cardType: 'momentum', name: 'Focused Meetings', description: 'You convinced \"The Inviter\" that the entire development team didn\\'t need to attend the weekly marketing meeting.', score: 1, tagline: '', imageClass: 'Cards-Momentum12', favouriteCount: 0 },\n\t            { id: 'card-13', cardType: 'momentum', name: 'Future Proofing', description: 'Your team not only solves the immediate problem, but works hard to ensure they aren\\'t creating new ones down the road.', score: 1, tagline: '', imageClass: 'Cards-Momentum13', favouriteCount: 0 },\n\t            { id: 'card-14', cardType: 'momentum', name: 'Hackathon', description: 'At the monthly hackathon you organized, the team came up with a clever way to improve the performance of your app.', score: 3, tagline: '', imageClass: 'Cards-Momentum14', favouriteCount: 0 },\n\t            { id: 'card-15', cardType: 'momentum', name: 'Integrated Teams', description: 'The project really started humming when you created small integrated teams of designers and engineers focused on specific features of the project.', score: 1, tagline: '', imageClass: 'Cards-Momentum15', favouriteCount: 0 },\n\t            { id: 'card-16', cardType: 'momentum', name: 'Leadership', description: 'You have built a team that believes leadership is a quality present in everyone and not inhereted from the top-down.', score: 4, tagline: '', imageClass: 'Cards-Momentum16', favouriteCount: 0 },\n\t            { id: 'card-17', cardType: 'momentum', name: 'Modern Tools', description: 'Moving to a modern toolchain cut down your build & deploy step from 12 minutes to 15 seconds.', score: 1, tagline: '', imageClass: 'Cards-Momentum17', favouriteCount: 0 },\n\t            { id: 'card-18', cardType: 'momentum', name: 'Open Source', description: 'Despite the Legal team\\'s fears of exploits and foreign hackers, they finally agreed to let you use \"Open Software\", as long as you \"close it up\".', score: 2, tagline: '', imageClass: 'Cards-Momentum18', favouriteCount: 0 },\n\t            { id: 'card-19', cardType: 'momentum', name: 'Planning', description: 'Knowing you could not control the other team, you influenced them by leading by example and demonstrating you had a viable plan to follow.', score: 2, tagline: '', imageClass: 'Cards-Momentum19', favouriteCount: 0 },\n\t            { id: 'card-20', cardType: 'momentum', name: 'Prioritization', description: 'You looked the VP right in the eye and told him that if everything is a top priority, nothing is.', score: 2, tagline: '', imageClass: 'Cards-Momentum20', favouriteCount: 0 },\n\t            { id: 'card-21', cardType: 'momentum', name: 'Recognition', description: 'When a VP thanked you for your good work on the latest demo, you asked the VP to thank your team in person, as well.', score: 4, tagline: '', imageClass: 'Cards-Momentum21', favouriteCount: 0 },\n\t            { id: 'card-22', cardType: 'momentum', name: 'Recruiting', description: 'Hiring a great team has become your best recruiting tool. Smart people want to work with other smart people.', score: 1, tagline: '', imageClass: 'Cards-Momentum22', favouriteCount: 0 },\n\t            { id: 'card-23', cardType: 'momentum', name: 'Requirements', description: 'Your team reviews each requirement in detail before starting each milestone to identify any gray areas that can be quickly clarified.', score: 3, tagline: '', imageClass: 'Cards-Momentum23', favouriteCount: 0 },\n\t            { id: 'card-24', cardType: 'momentum', name: 'Reusable Code', description: 'You save the orginization months of development hours by setting up a shared code repository', score: 2, tagline: '', imageClass: 'Cards-Momentum24', favouriteCount: 0 },\n\t            { id: 'card-25', cardType: 'momentum', name: 'Solid Architecture', description: 'Your architecture weathered the storm of changing business needs, letting your team focus on quickly delivering business value.', score: 1, tagline: '', imageClass: 'Cards-Momentum25', favouriteCount: 0 },\n\t            { id: 'card-26', cardType: 'momentum', name: 'Testing Plan', description: 'Your team \\'miraculously\\' knew if their code was working before they shipped it, avoiding rework.', score: 4, tagline: '', imageClass: 'Cards-Momentum26', favouriteCount: 0 },\n\t            { id: 'card-27', cardType: 'momentum', name: 'The A-Team', description: 'Your team has been called in to save the day in a flailing project, and they turn it around, but you still \\'don\\'t pity the fool!', score: 1, tagline: '', imageClass: 'Cards-Momentum27', favouriteCount: 0 },\n\t            { id: 'card-28', cardType: 'momentum', name: 'Unit Testing', description: 'Woah! The new developer on the team made their first commit in under a day, and the unit tests saved them from breaking the build.', score: 1, tagline: '', imageClass: 'Cards-Momentum28', favouriteCount: 0 },\n\t            { id: 'card-29', cardType: 'momentum', name: 'Work/Life Balance', description: 'Your team offered to work the weekend to get ahead of the game, but you let them know that personal time was more important.', score: 1, tagline: '', imageClass: 'Cards-Momentum29', favouriteCount: 0 },\n\t            { id: 'card-30', cardType: 'momentum', name: 'Workshops', description: 'Technology moves fast, but you\\'ve invested in your team by providing ongoing education. Your team is up to speed while others are stagnating.', score: 2, tagline: '', imageClass: 'Cards-Momentum30', favouriteCount: 0 },\n\t            { id: 'card-31', cardType: 'mayhem', name: 'Blunderer', description: 'The build broke...again! Some people on your team know just enough to be dangerous.', score: 1, tagline: '', imageClass: 'Cards-Mayhem1', favouriteCount: 0 },\n\t            { id: 'card-32', cardType: 'mayhem', name: 'Brain Drain', description: 'The only person who understands how your legacy app works just left for a hot, new startup.', score: 3, tagline: '', imageClass: 'Cards-Mayhem2', favouriteCount: 0 },\n\t            { id: 'card-33', cardType: 'mayhem', name: 'Dead-Line', description: 'The VP of Sales informs you that your project will need to be finished a few weeks early. No biggie, right?', score: 1, tagline: '', imageClass: 'Cards-Mayhem3', favouriteCount: 0 },\n\t            { id: 'card-34', cardType: 'mayhem', name: 'Dr. Deflector', description: 'Features were announced that aren\\'t even on the roadmap. Somehow, it\\'s your fault they won\\'t be included.', score: 4, tagline: '', imageClass: 'Cards-Mayhem4', favouriteCount: 0 },\n\t            { id: 'card-35', cardType: 'mayhem', name: 'Gen. Death March', description: 'Despite your plea for more time, the only thing you received was permission to work harder.', score: 1, tagline: '', imageClass: 'Cards-Mayhem5', favouriteCount: 0 },\n\t            { id: 'card-36', cardType: 'mayhem', name: 'Grim Repo', description: 'The wrong branch was merged into production. Untangling this mess is going to be a nightmare.', score: 3, tagline: '', imageClass: 'Cards-Mayhem6', favouriteCount: 0 },\n\t            { id: 'card-37', cardType: 'mayhem', name: 'King of Confusion', description: 'At a recent meeting to get everyone on the same page, it turned out that nobody was even in the same book.', score: 4, tagline: '', imageClass: 'Cards-Mayhem7', favouriteCount: 0 },\n\t            { id: 'card-38', cardType: 'mayhem', name: 'Landmine', description: 'Half of the requirements say \"TBD Later\". It\\'s well past later and nobody has determined anything.', score: 2, tagline: '', imageClass: 'Cards-Mayhem8', favouriteCount: 0 },\n\t            { id: 'card-39', cardType: 'mayhem', name: 'Pet Pony', description: 'Just like a six-year-old who wants a pony, stakeholders want their new ideas implemented NOW!', score: 2, tagline: '', imageClass: 'Cards-Mayhem9', favouriteCount: 0 },\n\t            { id: 'card-40', cardType: 'mayhem', name: 'Scope Creep', description: 'Apparently, a \"few small changes\" means 17 new user stories.', score: 3, tagline: '', imageClass: 'Cards-Mayhem10', favouriteCount: 0 },\n\t            { id: 'card-41', cardType: 'mayhem', name: 'Slingshot', description: 'DevOps changed the authentication scheme but how it affects your project is \"not their problem\".', score: 2, tagline: '', imageClass: 'Cards-Mayhem11', favouriteCount: 0 },\n\t            { id: 'card-42', cardType: 'mayhem', name: 'The Eraser', description: 'The only thing complete about the UI design is how completely lacking it is in detail.', score: 1, tagline: '', imageClass: 'Cards-Mayhem12', favouriteCount: 0 },\n\t            { id: 'card-43', cardType: 'mayhem', name: 'The Gambler', description: 'The closer the deadline gets, the more liberal your team becomes with the definition of \"done\".', score: 1, tagline: '', imageClass: 'Cards-Mayhem13', favouriteCount: 0 },\n\t            { id: 'card-44', cardType: 'mayhem', name: 'The Horde', description: 'Instead of more time to meet your requirements, you got a dozen untrained interns to \"help\".', score: 3, tagline: '', imageClass: 'Cards-Mayhem14', favouriteCount: 0 },\n\t            { id: 'card-45', cardType: 'mayhem', name: 'The Inventor', description: 'When discussing what framework to use, an enthusiastic voice says, \"We\\'ll just roll our own!\"', score: 1, tagline: '', imageClass: 'Cards-Mayhem15', favouriteCount: 0 },\n\t            { id: 'card-46', cardType: 'mayhem', name: 'The Inviter', description: 'You and your team have been invited to daily meetings to discuss your \"lack of progress\".', score: 4, tagline: '', imageClass: 'Cards-Mayhem16', favouriteCount: 0 },\n\t            { id: 'card-47', cardType: 'mayhem', name: 'The Juggler', description: 'Flimsy dates, changing priorities and bad assumptions are the pillars of your project manager\\'s master plan!', score: 1, tagline: '', imageClass: 'Cards-Mayhem17', favouriteCount: 0 },\n\t            { id: 'card-48', cardType: 'mayhem', name: 'Sigh-Low', description: 'While on a conference call it becomes painfully clear...two different teams just completed the same work.', score: 2, tagline: '', imageClass: 'Cards-Mayhem18', favouriteCount: 0 },\n\t            { id: 'card-49', cardType: 'mayhem', name: 'Caveman Coder', description: 'You brought in a contractor, who smashed your code until it \"worked\" and then he committed it to master.', score: 2, tagline: '', imageClass: 'Cards-Mayhem19', favouriteCount: 0 }\n\t        ]\n\t    });\n\t    function bindActions() {\n\t        return cardStore.observe().subscribe(function (options) {\n\t            var changeRecord = options;\n\t            return widgetStoreActions_1.putCard.do(changeRecord);\n\t        });\n\t    }\n\t    exports.bindActions = bindActions;\n\t    function getShuffledCards() {\n\t        return cardStore.get().then(function (cards) {\n\t            var shuffledArray = array_1.from(cards);\n\t            var i = 0;\n\t            var j = 0;\n\t            var temp;\n\t            for (i = shuffledArray.length - 1; i > 0; i -= 1) {\n\t                j = Math.floor(Math.random() * (i + 1));\n\t                temp = shuffledArray[i];\n\t                shuffledArray[i] = shuffledArray[j];\n\t                shuffledArray[j] = temp;\n\t            }\n\t            return shuffledArray;\n\t        });\n\t    }\n\t    exports.getShuffledCards = getShuffledCards;\n\t    function pickRandomCards(numberToPick, exclude) {\n\t        if (exclude === void 0) { exclude = []; }\n\t        return getShuffledCards().then(function (cards) {\n\t            var filteredCards = cards.filter(function (card) { return exclude.indexOf(card.id) < 0; });\n\t            return filteredCards.slice(0, Math.min(filteredCards.length, numberToPick));\n\t        });\n\t    }\n\t    exports.pickRandomCards = pickRandomCards;\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = cardStore;\n\t});\n\n\n/***/ },\n/* 80 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(81), __webpack_require__(14)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createAction_1 = __webpack_require__(81);\n\t    var widgetStore_1 = __webpack_require__(14);\n\t    function getStates(cards) {\n\t        var cardStates = [];\n\t        var cardSummaryStates = [];\n\t        cards.forEach(function (_a) {\n\t            var id = _a.id, name = _a.name, imageClass = _a.imageClass, score = _a.score;\n\t            cardStates.push({ id: id, imageClass: imageClass });\n\t            cardSummaryStates.push({ name: name, imageClass: imageClass, score: score, id: id });\n\t        });\n\t        return [cardStates, cardSummaryStates];\n\t    }\n\t    exports.putCard = createAction_1.default({\n\t        do: function (_a) {\n\t            var afterAll = _a.afterAll, puts = _a.puts;\n\t            if (puts.length) {\n\t                var _b = getStates(afterAll), cardStates = _b[0], cardSummaryStates = _b[1];\n\t                widgetStore_1.default.patch({ id: 'cards', cards: cardSummaryStates });\n\t                widgetStore_1.default.patch({ id: 'cardDetails', cards: cardStates });\n\t            }\n\t        }\n\t    });\n\t});\n\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(84), __webpack_require__(82), __webpack_require__(18)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var createStateful_1 = __webpack_require__(84);\n\t    var Task_1 = __webpack_require__(82);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    /**\n\t     * A type guard that validates the object passed is an Action\n\t     */\n\t    function isAction(value) {\n\t        return typeof value === 'object' && typeof value.do === 'function';\n\t    }\n\t    exports.isAction = isAction;\n\t    /**\n\t     * A weak map of `do` methods\n\t     */\n\t    var doFunctions = new WeakMap_1.default();\n\t    /**\n\t     * A weak map of `configure` methods\n\t     */\n\t    var configureFunctions = new WeakMap_1.default();\n\t    /**\n\t     * A factory which creates instances of Action\n\t     */\n\t    var createAction = compose_1.default({\n\t        do: function (options) {\n\t            var doFn = doFunctions.get(this);\n\t            if (doFn && this.state.enabled) {\n\t                var result = doFn.call(this, options);\n\t                return Task_1.isTask(result) ? result : Task_1.default.resolve(result);\n\t            }\n\t            return Task_1.default.resolve();\n\t        },\n\t        enable: function () {\n\t            if (!this.state.enabled) {\n\t                this.setState({ enabled: true });\n\t            }\n\t        },\n\t        disable: function () {\n\t            if (this.state.enabled) {\n\t                this.setState({ enabled: false });\n\t            }\n\t        },\n\t        configure: function (configuration) {\n\t            var configureFn = configureFunctions.get(this);\n\t            if (configureFn) {\n\t                return configureFn.call(this, configuration);\n\t            }\n\t        }\n\t    })\n\t        .mixin({\n\t        mixin: createStateful_1.default,\n\t        initialize: function (instance, _a) {\n\t            var doFn = _a.do, _b = _a.enabled, enabled = _b === void 0 ? true : _b, configure = _a.configure;\n\t            if (!doFn) {\n\t                throw new TypeError(\"'options.do' required during creation.\");\n\t            }\n\t            doFunctions.set(instance, doFn);\n\t            instance.setState({ enabled: enabled });\n\t            if (configure) {\n\t                configureFunctions.set(instance, configure);\n\t            }\n\t            instance.own({\n\t                destroy: function () {\n\t                    doFunctions.delete(instance);\n\t                    configureFunctions.delete(instance);\n\t                }\n\t            });\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createAction;\n\t});\n\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\t(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(83)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var ExtensiblePromise_1 = __webpack_require__(83);\n\t    /**\n\t     * A type guard that determines if `value` is a `Task`\n\t     * @param value The value to guard\n\t     */\n\t    function isTask(value) {\n\t        return Boolean(value && typeof value.cancel === 'function' && Array.isArray(value.children) && isThenable(value));\n\t    }\n\t    exports.isTask = isTask;\n\t    /**\n\t     * Returns true if a given value has a `then` method.\n\t     * @param {any} value The value to check if is Thenable\n\t     * @returns {is Thenable<T>} A type guard if the value is thenable\n\t     */\n\t    function isThenable(value) {\n\t        return value && typeof value.then === 'function';\n\t    }\n\t    exports.isThenable = isThenable;\n\t    /**\n\t     * Task is an extension of Promise that supports cancellation and the Task#finally method.\n\t     */\n\t    var Task = (function (_super) {\n\t        __extends(Task, _super);\n\t        /**\n\t         * @constructor\n\t         *\n\t         * Create a new task. Executor is run immediately. The canceler will be called when the task is canceled.\n\t         *\n\t         * @param executor Method that initiates some task\n\t         * @param canceler Method to call when the task is canceled\n\t         *\n\t         */\n\t        function Task(executor, canceler) {\n\t            var _this = this;\n\t            // we have to initialize these to avoid a compiler error of using them before they are initialized\n\t            var superResolve = function () { };\n\t            var superReject = function () { };\n\t            _super.call(this, function (resolve, reject) {\n\t                superResolve = resolve;\n\t                superReject = reject;\n\t            });\n\t            this._state = 1 /* Pending */;\n\t            this.children = [];\n\t            this.canceler = function () {\n\t                if (canceler) {\n\t                    canceler();\n\t                }\n\t                _this._cancel();\n\t            };\n\t            // Don't let the Task resolve if it's been canceled\n\t            try {\n\t                executor(function (value) {\n\t                    if (_this._state === 3 /* Canceled */) {\n\t                        return;\n\t                    }\n\t                    _this._state = 0 /* Fulfilled */;\n\t                    superResolve(value);\n\t                }, function (reason) {\n\t                    if (_this._state === 3 /* Canceled */) {\n\t                        return;\n\t                    }\n\t                    _this._state = 2 /* Rejected */;\n\t                    superReject(reason);\n\t                });\n\t            }\n\t            catch (reason) {\n\t                this._state = 2 /* Rejected */;\n\t                superReject(reason);\n\t            }\n\t        }\n\t        Task.resolve = function (value) {\n\t            return new this(function (resolve, reject) { return resolve(value); });\n\t        };\n\t        Object.defineProperty(Task.prototype, \"state\", {\n\t            get: function () {\n\t                return this._state;\n\t            },\n\t            enumerable: true,\n\t            configurable: true\n\t        });\n\t        /**\n\t         * Propagates cancellation down through a Task tree. The Task's state is immediately set to canceled. If a Thenable\n\t         * finally task was passed in, it is resolved before calling this Task's finally callback; otherwise, this Task's\n\t         * finally callback is immediately executed. `_cancel` is called for each child Task, passing in the value returned\n\t         * by this Task's finally callback or a Promise chain that will eventually resolve to that value.\n\t         */\n\t        Task.prototype._cancel = function (finallyTask) {\n\t            var _this = this;\n\t            this._state = 3 /* Canceled */;\n\t            var runFinally = function () {\n\t                try {\n\t                    return _this._finally();\n\t                }\n\t                catch (error) {\n\t                }\n\t            };\n\t            if (this._finally) {\n\t                if (isThenable(finallyTask)) {\n\t                    finallyTask = finallyTask.then(runFinally, runFinally);\n\t                }\n\t                else {\n\t                    finallyTask = runFinally();\n\t                }\n\t            }\n\t            this.children.forEach(function (child) {\n\t                child._cancel(finallyTask);\n\t            });\n\t        };\n\t        /**\n\t         * Immediately cancels this task if it has not already resolved. This Task and any descendants are synchronously set\n\t         * to the Canceled state and any `finally` added downstream from the canceled Task are invoked.\n\t         */\n\t        Task.prototype.cancel = function () {\n\t            if (this._state === 1 /* Pending */) {\n\t                this.canceler();\n\t            }\n\t        };\n\t        /**\n\t         * Allows for cleanup actions to be performed after resolution of a Promise.\n\t         */\n\t        Task.prototype.finally = function (callback) {\n\t            // if this task is already canceled, call the task\n\t            if (this._state === 3 /* Canceled */) {\n\t                return Task.resolve(callback());\n\t            }\n\t            var task = this.then(function (value) { return Task.resolve(callback()).then(function () { return value; }); }, function (reason) { return Task.resolve(callback()).then(function () {\n\t                throw reason;\n\t            }); });\n\t            // Keep a reference to the callback; it will be called if the Task is canceled\n\t            task._finally = callback;\n\t            return task;\n\t        };\n\t        /**\n\t         * Adds a callback to be invoked when the Task resolves or is rejected.\n\t         *\n\t         * @param {Function} onFulfilled   A function to call to handle the resolution. The paramter to the function will be the resolved value, if any.\n\t         * @param {Function} onRejected    A function to call to handle the error. The parameter to the function will be the caught error.\n\t         *\n\t         * @returns {ExtensiblePromise}\n\t         */\n\t        Task.prototype.then = function (onFulfilled, onRejected) {\n\t            var _this = this;\n\t            // FIXME\n\t            // tslint:disable-next-line:no-var-keyword\n\t            var task = _super.prototype.then.call(this, \n\t            // Don't call the onFulfilled or onRejected handlers if this Task is canceled\n\t            function (value) {\n\t                if (task._state === 3 /* Canceled */) {\n\t                    return;\n\t                }\n\t                if (onFulfilled) {\n\t                    return onFulfilled(value);\n\t                }\n\t                return value;\n\t            }, function (error) {\n\t                if (task._state === 3 /* Canceled */) {\n\t                    return;\n\t                }\n\t                if (onRejected) {\n\t                    return onRejected(error);\n\t                }\n\t                throw error;\n\t            });\n\t            task.canceler = function () {\n\t                // If task's parent (this) hasn't been resolved, cancel it; downward propagation will start at the first\n\t                // unresolved parent\n\t                if (_this._state === 1 /* Pending */) {\n\t                    _this.cancel();\n\t                }\n\t                else {\n\t                    task._cancel();\n\t                }\n\t            };\n\t            // Keep track of child Tasks for propogating cancelation back down the chain\n\t            this.children.push(task);\n\t            return task;\n\t        };\n\t        return Task;\n\t    }(ExtensiblePromise_1.default));\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = Task;\n\t});\n\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(25), __webpack_require__(34)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var iterator_1 = __webpack_require__(25);\n\t    var Promise_1 = __webpack_require__(34);\n\t    /**\n\t     * Take a list of values, and if any are ExtensiblePromise objects, insert the wrapped Promise in its place,\n\t     * otherwise use the original object. We use this to help use the native Promise methods like `all` and `race`.\n\t     *\n\t     * @param iterable    The list of objects to iterate over\n\t     * @returns {any[]}    The list of objects, as an array, with ExtensiblePromises being replaced by Promises.\n\t     */\n\t    function unwrapPromises(iterable) {\n\t        var unwrapped = [];\n\t        iterator_1.forOf(iterable, function (item) {\n\t            unwrapped.push(item instanceof ExtensiblePromise ? item._promise : item);\n\t        });\n\t        return unwrapped;\n\t    }\n\t    /**\n\t     * An extensible base to allow Promises to be extended in ES5. This class basically wraps a native Promise object,\n\t     * giving an API like a native promise.\n\t     */\n\t    var ExtensiblePromise = (function () {\n\t        /**\n\t         * Creates a new extended Promise.\n\t         *\n\t         * @constructor\n\t         *\n\t         * @param executor\n\t         * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t         * starting the asynchronous operation when it is invoked.\n\t         *\n\t         * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t         * successfully, or the `reject` function when the operation fails.\n\t         */\n\t        function ExtensiblePromise(executor) {\n\t            this._promise = new Promise_1.default(executor);\n\t        }\n\t        /**\n\t         * Return a rejected promise wrapped in an ExtensiblePromise\n\t         *\n\t         * @param {Error?} reason    The reason for the rejection\n\t         * @returns {ExtensiblePromise}\n\t         */\n\t        ExtensiblePromise.reject = function (reason) {\n\t            return new this(function (resolve, reject) { return reject(reason); });\n\t        };\n\t        ExtensiblePromise.resolve = function (value) {\n\t            return new this(function (resolve, reject) { return resolve(value); });\n\t        };\n\t        /**\n\t         * Return a ExtensiblePromise that resolves when all of the passed in objects have resolved\n\t         *\n\t         * @param iterable    An iterable of values to resolve. These can be Promises, ExtensiblePromises, or other objects\n\t         * @returns {ExtensiblePromise}\n\t         */\n\t        ExtensiblePromise.all = function (iterable) {\n\t            return new this(function (resolve, reject) {\n\t                Promise_1.default.all(unwrapPromises(iterable)).then(resolve, reject);\n\t            });\n\t        };\n\t        /**\n\t         * Return a ExtensiblePromise that resolves when one of the passed in objects have resolved\n\t         *\n\t         * @param iterable    An iterable of values to resolve. These can be Promises, ExtensiblePromises, or other objects\n\t         * @returns {ExtensiblePromise}\n\t         */\n\t        ExtensiblePromise.race = function (iterable) {\n\t            return new this(function (resolve, reject) {\n\t                Promise_1.default.race(unwrapPromises(iterable)).then(resolve, reject);\n\t            });\n\t        };\n\t        ExtensiblePromise.prototype.catch = function (onRejected) {\n\t            return this.then(undefined, onRejected);\n\t        };\n\t        ExtensiblePromise.prototype.then = function (onFulfilled, onRejected) {\n\t            var _this = this;\n\t            var e = function (resolve, reject) {\n\t                function handler(rejected, valueOrError) {\n\t                    var callback = rejected ? onRejected : onFulfilled;\n\t                    if (typeof callback === 'function') {\n\t                        try {\n\t                            resolve(callback(valueOrError));\n\t                        }\n\t                        catch (error) {\n\t                            reject(error);\n\t                        }\n\t                    }\n\t                    else if (rejected) {\n\t                        reject(valueOrError);\n\t                    }\n\t                    else {\n\t                        resolve(valueOrError);\n\t                    }\n\t                }\n\t                _this._promise.then(handler.bind(null, false), handler.bind(null, true));\n\t            };\n\t            return new this.constructor(e);\n\t        };\n\t        return ExtensiblePromise;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = ExtensiblePromise;\n\t});\n\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30), __webpack_require__(18), __webpack_require__(86), __webpack_require__(85)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var createEvented_1 = __webpack_require__(86);\n\t    var createCancelableEvent_1 = __webpack_require__(85);\n\t    /**\n\t     * A weak map of stateful instances to their obseved state references\n\t     */\n\t    var observedStateMap = new WeakMap_1.default();\n\t    /**\n\t     * Internal function to unobserve the state of a `Stateful`.  It emits a `statecomplete` event which can be\n\t     * cancelled.\n\t     *\n\t     * @param stateful The `Stateful` object to unobserve\n\t     */\n\t    function unobserve(stateful) {\n\t        var observedState = observedStateMap.get(stateful);\n\t        if (observedState) {\n\t            observedState.handle.destroy();\n\t            var statecomplete = createCancelableEvent_1.default({\n\t                type: 'statecomplete',\n\t                target: stateful\n\t            });\n\t            stateful.emit(statecomplete);\n\t            if (!statecomplete.defaultPrevented) {\n\t                stateful.destroy();\n\t            }\n\t        }\n\t    }\n\t    /**\n\t     * Internal function that actually applies the state to the Stateful's state and\n\t     * emits the `statechange` event.\n\t     *\n\t     * @param stateful The Stateful instance\n\t     * @param state The State to be set\n\t     */\n\t    function setStatefulState(stateful, state) {\n\t        state = lang_1.deepAssign(stateWeakMap.get(stateful), state);\n\t        stateful.emit({\n\t            type: 'statechange',\n\t            state: state,\n\t            target: stateful\n\t        });\n\t    }\n\t    /**\n\t     * A weak map that contains the stateful's state\n\t     */\n\t    var stateWeakMap = new WeakMap_1.default();\n\t    /**\n\t     * Create an instance of a stateful object\n\t     */\n\t    var createStateful = createEvented_1.default\n\t        .mixin({\n\t        className: 'Stateful',\n\t        mixin: {\n\t            get state() {\n\t                return stateWeakMap.get(this);\n\t            },\n\t            setState: function (value) {\n\t                var observedState = observedStateMap.get(this);\n\t                if (observedState) {\n\t                    observedState.observable.patch(value, { id: observedState.id });\n\t                }\n\t                else {\n\t                    setStatefulState(this, value);\n\t                }\n\t            },\n\t            observeState: function (id, observable) {\n\t                var observedState = observedStateMap.get(this);\n\t                if (observedState) {\n\t                    if (observedState.id === id && observedState.observable === observable) {\n\t                        return observedState.handle;\n\t                    }\n\t                    throw new Error(\"Already observing state with ID '\" + observedState.id + \"'\");\n\t                }\n\t                var stateful = this;\n\t                observedState = {\n\t                    id: id,\n\t                    observable: observable,\n\t                    subscription: observable\n\t                        .observe(id)\n\t                        .subscribe(function (item) { return setStatefulState(stateful, item); }, /* next handler */ function (err) {\n\t                        /* TODO: Should we emit an error, instead of throwing? */\n\t                        throw err;\n\t                    }, /* error handler */ function () { return unobserve(stateful); }),\n\t                    handle: {\n\t                        destroy: function () {\n\t                            var observedState = observedStateMap.get(stateful);\n\t                            if (observedState) {\n\t                                observedState.subscription.unsubscribe();\n\t                                observedStateMap.delete(stateful);\n\t                            }\n\t                        }\n\t                    }\n\t                };\n\t                observedStateMap.set(stateful, observedState);\n\t                return observedState.handle;\n\t            }\n\t        },\n\t        initialize: function (instance, options) {\n\t            /* Using Object.create(null) will improve performance when looking up properties in state */\n\t            stateWeakMap.set(instance, Object.create(null));\n\t            instance.own({\n\t                destroy: function () {\n\t                    stateWeakMap.delete(instance);\n\t                }\n\t            });\n\t            if (options) {\n\t                var id = options.id, stateFrom = options.stateFrom, state = options.state;\n\t                if (typeof id !== 'undefined' && stateFrom) {\n\t                    instance.own(instance.observeState(id, stateFrom));\n\t                }\n\t                else if (stateFrom) {\n\t                    throw new TypeError('When \"stateFrom\" option is supplied, factory also requires \"id\" option.');\n\t                }\n\t                if (state) {\n\t                    instance.setState(state);\n\t                }\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createStateful;\n\t});\n\n\n/***/ },\n/* 85 */\n63,\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(66), __webpack_require__(60), __webpack_require__(18), __webpack_require__(16), __webpack_require__(37)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var aspect_1 = __webpack_require__(66);\n\t    var Map_1 = __webpack_require__(60);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var compose_1 = __webpack_require__(16);\n\t    var createDestroyable_1 = __webpack_require__(37);\n\t    /**\n\t     * A weak map that contains a map of the listeners for an `Evented`\n\t     */\n\t    var listenersMap = new WeakMap_1.default();\n\t    /**\n\t     * A guard which determines if the value is `Actionable`\n\t     *\n\t     * @param value The value to guard against\n\t     */\n\t    function isActionable(value) {\n\t        return Boolean(value && typeof value.do === 'function');\n\t    }\n\t    /**\n\t     * An internal function that always returns an EventedCallback\n\t     *\n\t     * @param listener Either a `EventedCallback` or an `Actionable`\n\t     */\n\t    function resolveListener(listener) {\n\t        return isActionable(listener) ? function (event) { return listener.do({ event: event }); } : listener;\n\t    }\n\t    exports.resolveListener = resolveListener;\n\t    /**\n\t     * Internal function to convert an array of handles to a single handle\n\t     *\n\t     * @param handles The array of handles to convert into a signle handle\n\t     * @return The single handle\n\t     */\n\t    function handlesArraytoHandle(handles) {\n\t        return {\n\t            destroy: function () {\n\t                handles.forEach(function (handle) { return handle.destroy(); });\n\t            }\n\t        };\n\t    }\n\t    /**\n\t     * Creates a new instance of an `Evented`\n\t     */\n\t    var createEvented = compose_1.default({\n\t        emit: function (event) {\n\t            var method = listenersMap.get(this).get(event.type);\n\t            if (method) {\n\t                method.call(this, event);\n\t            }\n\t        },\n\t        on: function () {\n\t            var _this = this;\n\t            var args = [];\n\t            for (var _i = 0; _i < arguments.length; _i++) {\n\t                args[_i - 0] = arguments[_i];\n\t            }\n\t            var listenerMap = listenersMap.get(this);\n\t            if (args.length === 2) {\n\t                var _a = args, type_1 = _a[0], listeners = _a[1];\n\t                if (Array.isArray(listeners)) {\n\t                    var handles = listeners.map(function (listener) { return aspect_1.on(listenerMap, type_1, resolveListener(listener)); });\n\t                    return handlesArraytoHandle(handles);\n\t                }\n\t                else {\n\t                    return aspect_1.on(listenerMap, type_1, resolveListener(listeners));\n\t                }\n\t            }\n\t            else if (args.length === 1) {\n\t                var listenerMapArg_1 = args[0];\n\t                var handles = Object.keys(listenerMapArg_1).map(function (type) { return _this.on(type, listenerMapArg_1[type]); });\n\t                return handlesArraytoHandle(handles);\n\t            }\n\t            else {\n\t                throw new TypeError('Invalid arguments');\n\t            }\n\t        }\n\t    })\n\t        .mixin({\n\t        className: 'Evented',\n\t        mixin: createDestroyable_1.default,\n\t        initialize: function (instance, options) {\n\t            /* Initialise listener map */\n\t            listenersMap.set(instance, new Map_1.default());\n\t            if (options && options.listeners) {\n\t                instance.own(instance.on(options.listeners));\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createEvented;\n\t});\n\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(94), __webpack_require__(91), __webpack_require__(89), __webpack_require__(88)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createRoute_1 = __webpack_require__(94);\n\t    var createRouter_1 = __webpack_require__(91);\n\t    var createHashHistory_1 = __webpack_require__(89);\n\t    var routeActions_1 = __webpack_require__(88);\n\t    var cardDetailRoute = createRoute_1.default({\n\t        path: 'cards/{id}',\n\t        exec: function (request) {\n\t            var id = request.params.id;\n\t            return routeActions_1.gotoCardDetails.do({ id: id });\n\t        }\n\t    });\n\t    var cardsRoute = createRoute_1.default({\n\t        path: 'cards',\n\t        exec: function (request) {\n\t            return routeActions_1.gotoCards.do();\n\t        }\n\t    });\n\t    var homeRoute = createRoute_1.default({\n\t        path: '',\n\t        exec: function (request) {\n\t            return routeActions_1.gotoHome.do();\n\t        }\n\t    });\n\t    var aboutRoute = createRoute_1.default({\n\t        path: 'about',\n\t        exec: function (request) {\n\t            return routeActions_1.gotoAbout.do();\n\t        }\n\t    });\n\t    var gameplayRoute = createRoute_1.default({\n\t        path: 'gameplay',\n\t        exec: function (request) {\n\t            return routeActions_1.gotoGameplay.do();\n\t        }\n\t    });\n\t    exports.history = createHashHistory_1.default();\n\t    var router = createRouter_1.default({ history: exports.history });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = router;\n\t    router.append([\n\t        cardsRoute,\n\t        cardDetailRoute,\n\t        homeRoute,\n\t        aboutRoute,\n\t        gameplayRoute\n\t    ]);\n\t});\n\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(81), __webpack_require__(14), __webpack_require__(79)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createAction_1 = __webpack_require__(81);\n\t    var widgetStore_1 = __webpack_require__(14);\n\t    var cardStore_1 = __webpack_require__(79);\n\t    exports.gotoCardDetails = createAction_1.default({\n\t        do: function (_a) {\n\t            var id = _a.id;\n\t            return cardStore_1.default.get(id).then(function (cardDescription) {\n\t                return cardStore_1.pickRandomCards(2, [id]).then(function (seenWith) {\n\t                    return Promise.all([\n\t                        widgetStore_1.default.patch({ id: 'cardDetails', cardDescription: cardDescription, seenWith: seenWith }),\n\t                        widgetStore_1.default.patch({ id: 'container', children: ['cardDetails'] })\n\t                    ]);\n\t                });\n\t            });\n\t        }\n\t    });\n\t    exports.gotoCards = createAction_1.default({\n\t        do: function () {\n\t            return widgetStore_1.default.patch({ id: 'container', children: ['cards'] });\n\t        }\n\t    });\n\t    exports.gotoHome = createAction_1.default({\n\t        do: function () {\n\t            return widgetStore_1.default.patch({ id: 'container', children: ['home'] });\n\t        }\n\t    });\n\t    exports.gotoAbout = createAction_1.default({\n\t        do: function () {\n\t            return widgetStore_1.default.patch({ id: 'container', children: ['about'] });\n\t        }\n\t    });\n\t    exports.gotoGameplay = createAction_1.default({\n\t        do: function () {\n\t            return widgetStore_1.default.patch({ id: 'container', children: ['gameplay'] });\n\t        }\n\t    });\n\t});\n\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(86), __webpack_require__(32), __webpack_require__(90), __webpack_require__(18)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var createEvented_1 = __webpack_require__(86);\n\t    var global_1 = __webpack_require__(32);\n\t    var on_1 = __webpack_require__(90);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var privateStateMap = new WeakMap_1.default();\n\t    var createHashHistory = compose_1.default.mixin(createEvented_1.default, {\n\t        mixin: {\n\t            get current() {\n\t                return privateStateMap.get(this).current;\n\t            },\n\t            prefix: function (path) {\n\t                return \"#\" + path;\n\t            },\n\t            set: function (path) {\n\t                var privateState = privateStateMap.get(this);\n\t                if (privateState.current === path) {\n\t                    return;\n\t                }\n\t                privateState.current = path;\n\t                privateState.browserLocation.hash = this.prefix(path);\n\t                this.emit({\n\t                    type: 'change',\n\t                    value: path\n\t                });\n\t            },\n\t            replace: function (path) {\n\t                var privateState = privateStateMap.get(this);\n\t                if (privateState.current === path) {\n\t                    return;\n\t                }\n\t                privateState.current = path;\n\t                var _a = privateState.browserLocation, pathname = _a.pathname, search = _a.search;\n\t                privateState.browserLocation.replace(pathname + search + this.prefix(path));\n\t                this.emit({\n\t                    type: 'change',\n\t                    value: path\n\t                });\n\t            }\n\t        },\n\t        initialize: function (instance, _a) {\n\t            var window = (_a === void 0 ? { window: global_1.default } : _a).window;\n\t            var browserLocation = window.location;\n\t            var privateState = {\n\t                current: browserLocation.hash.slice(1),\n\t                browserLocation: browserLocation\n\t            };\n\t            privateStateMap.set(instance, privateState);\n\t            instance.own(on_1.default(window, 'hashchange', function () {\n\t                var path = browserLocation.hash.slice(1);\n\t                // Ignore hashchange for the current path. Guards against browsers firing hashchange when the history\n\t                // manager sets the hash.\n\t                if (path !== privateState.current) {\n\t                    privateState.current = path;\n\t                    instance.emit({\n\t                        type: 'change',\n\t                        value: path\n\t                    });\n\t                }\n\t            }));\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createHashHistory;\n\t});\n\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    function emit(target, event) {\n\t        if (target.dispatchEvent &&\n\t            ((target.ownerDocument && target.ownerDocument.createEvent) ||\n\t                (target.document && target.document.createEvent) ||\n\t                target.createEvent) /* matches document */) {\n\t            var nativeEvent = (target.ownerDocument || target.document || target).createEvent('HTMLEvents');\n\t            nativeEvent.initEvent(event.type, Boolean(event.bubbles), Boolean(event.cancelable));\n\t            for (var key in event) {\n\t                if (!(key in nativeEvent)) {\n\t                    nativeEvent[key] = event[key];\n\t                }\n\t            }\n\t            return target.dispatchEvent(nativeEvent);\n\t        }\n\t        if (target.emit) {\n\t            if (target.removeListener) {\n\t                // Node.js EventEmitter\n\t                target.emit(event.type, event);\n\t                return false;\n\t            }\n\t            else if (target.on) {\n\t                // Dojo Evented or similar\n\t                target.emit(event);\n\t                return false;\n\t            }\n\t        }\n\t        throw new Error('Target must be an event emitter');\n\t    }\n\t    exports.emit = emit;\n\t    function on(target, type, listener, capture) {\n\t        if (Array.isArray(type)) {\n\t            var handles = type.map(function (type) {\n\t                return on(target, type, listener, capture);\n\t            });\n\t            return lang_1.createCompositeHandle.apply(void 0, handles);\n\t        }\n\t        var callback = function () {\n\t            listener.apply(this, arguments);\n\t        };\n\t        // DOM EventTarget\n\t        if (target.addEventListener && target.removeEventListener) {\n\t            target.addEventListener(type, callback, capture);\n\t            return lang_1.createHandle(function () {\n\t                target.removeEventListener(type, callback, capture);\n\t            });\n\t        }\n\t        if (target.on) {\n\t            // EventEmitter\n\t            if (target.removeListener) {\n\t                target.on(type, callback);\n\t                return lang_1.createHandle(function () {\n\t                    target.removeListener(type, callback);\n\t                });\n\t            }\n\t            else if (target.emit) {\n\t                return target.on(type, listener);\n\t            }\n\t        }\n\t        throw new TypeError('Unknown event emitter object');\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = on;\n\t    function once(target, type, listener, capture) {\n\t        // FIXME\n\t        // tslint:disable-next-line:no-var-keyword\n\t        var handle = on(target, type, function () {\n\t            handle.destroy();\n\t            return listener.apply(this, arguments);\n\t        }, capture);\n\t        return handle;\n\t    }\n\t    exports.once = once;\n\t    function pausable(target, type, listener, capture) {\n\t        var paused;\n\t        var handle = on(target, type, function () {\n\t            if (!paused) {\n\t                return listener.apply(this, arguments);\n\t            }\n\t        }, capture);\n\t        handle.pause = function () {\n\t            paused = true;\n\t        };\n\t        handle.resume = function () {\n\t            paused = false;\n\t        };\n\t        return handle;\n\t    }\n\t    exports.pausable = pausable;\n\t});\n\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(86), __webpack_require__(82), __webpack_require__(90), __webpack_require__(92), __webpack_require__(28), __webpack_require__(34), __webpack_require__(18), __webpack_require__(93)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var createEvented_1 = __webpack_require__(86);\n\t    var Task_1 = __webpack_require__(82);\n\t    var on_1 = __webpack_require__(90);\n\t    var UrlSearchParams_1 = __webpack_require__(92);\n\t    var array_1 = __webpack_require__(28);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var path_1 = __webpack_require__(93);\n\t    var parentMap = new WeakMap_1.default();\n\t    function hasBeenAppended(route) {\n\t        return parentMap.has(route) || route.parent !== undefined;\n\t    }\n\t    exports.hasBeenAppended = hasBeenAppended;\n\t    var privateStateMap = new WeakMap_1.default();\n\t    // istanbul ignore next\n\t    var noop = function () { };\n\t    function createDeferral() {\n\t        // Use noop since TypeScript doesn't know we're assigning cancel and resume in the promise executor.\n\t        var cancel = noop;\n\t        var resume = noop;\n\t        var promise = new Promise_1.default(function (resolve, reject) {\n\t            cancel = reject;\n\t            // Wrap resolve to avoid resume being called with a thenable if type checking is not used.\n\t            resume = function () { return resolve(); };\n\t        });\n\t        return { cancel: cancel, promise: promise, resume: resume };\n\t    }\n\t    function reportError(router, context, path, error) {\n\t        router.emit({\n\t            context: context,\n\t            error: error,\n\t            path: path,\n\t            target: router,\n\t            type: 'error'\n\t        });\n\t    }\n\t    function catchRejection(router, context, path, thenable) {\n\t        if (thenable) {\n\t            Promise_1.default.resolve(thenable).catch(function (error) {\n\t                reportError(router, context, path, error);\n\t            });\n\t        }\n\t    }\n\t    var createRouter = compose_1.default.mixin(createEvented_1.default, {\n\t        mixin: {\n\t            append: function (add) {\n\t                var _this = this;\n\t                var routes = privateStateMap.get(this).routes;\n\t                var append = function (route) {\n\t                    if (hasBeenAppended(route)) {\n\t                        throw new Error('Cannot append route that has already been appended');\n\t                    }\n\t                    routes.push(route);\n\t                    parentMap.set(route, _this);\n\t                };\n\t                if (Array.isArray(add)) {\n\t                    for (var _i = 0, add_1 = add; _i < add_1.length; _i++) {\n\t                        var route = add_1[_i];\n\t                        append(route);\n\t                    }\n\t                }\n\t                else {\n\t                    append(add);\n\t                }\n\t            },\n\t            dispatch: function (context, path) {\n\t                var _this = this;\n\t                var state = privateStateMap.get(this);\n\t                var dispatchFromStart = state.dispatchFromStart;\n\t                // Reset, any further calls can't have come from start(). This is necessary since the navstart listeners\n\t                // may call dispatch() themselves.\n\t                state.dispatchFromStart = false;\n\t                var canceled = false;\n\t                var cancel = function () {\n\t                    canceled = true;\n\t                };\n\t                var deferrals = [];\n\t                this.emit({\n\t                    cancel: cancel,\n\t                    defer: function () {\n\t                        var _a = createDeferral(), cancel = _a.cancel, promise = _a.promise, resume = _a.resume;\n\t                        deferrals.push(promise);\n\t                        return { cancel: cancel, resume: resume };\n\t                    },\n\t                    path: path,\n\t                    target: this,\n\t                    type: 'navstart'\n\t                });\n\t                // Synchronous cancelation.\n\t                if (canceled) {\n\t                    return Task_1.default.resolve({ success: false });\n\t                }\n\t                var _a = path_1.parse(path), searchParams = _a.searchParams, segments = _a.segments, trailingSlash = _a.trailingSlash;\n\t                return new Task_1.default(function (resolve, reject) {\n\t                    // *Always* start dispatching in a future turn, even if there were no deferrals.\n\t                    Promise_1.default.all(deferrals).then(function () {\n\t                        // The cancel() function used in the NavigationStartEvent is reused as the Task canceler.\n\t                        // Strictly speaking any navstart listener can cancel the dispatch asynchronously, as long as it\n\t                        // manages to do so before this turn.\n\t                        if (canceled) {\n\t                            return { success: false };\n\t                        }\n\t                        var fallback = state.fallback, routes = state.routes;\n\t                        var redirect;\n\t                        var dispatched = routes.some(function (route) {\n\t                            var result = route.select(context, segments, trailingSlash, searchParams);\n\t                            if (typeof result === 'string') {\n\t                                redirect = result;\n\t                                return true;\n\t                            }\n\t                            if (result.length === 0) {\n\t                                return false;\n\t                            }\n\t                            // Update the selected routes after selecting new routes, but before invoking the handlers.\n\t                            // This means the original value is available to guard() and params() functions, and the\n\t                            // new value when the newly selected routes are executed.\n\t                            //\n\t                            // Reset selected routes if not dispatched from start().\n\t                            state.currentSelection = dispatchFromStart ? result : [];\n\t                            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n\t                                var _a = result_1[_i], handler = _a.handler, params = _a.params;\n\t                                catchRejection(_this, context, path, handler({ context: context, params: params }));\n\t                            }\n\t                            return true;\n\t                        });\n\t                        // Reset the selected routes if the dispatch was unsuccessful, or if a redirect was requested.\n\t                        if (!dispatched || redirect !== undefined) {\n\t                            state.currentSelection = [];\n\t                        }\n\t                        if (!dispatched && fallback) {\n\t                            catchRejection(_this, context, path, fallback({ context: context, params: {} }));\n\t                            return { success: false };\n\t                        }\n\t                        var result = { success: dispatched };\n\t                        if (redirect !== undefined) {\n\t                            result.redirect = redirect;\n\t                        }\n\t                        return result;\n\t                    }, \n\t                    // When deferrals are canceled their corresponding promise is rejected. Ensure the task resolves\n\t                    // with `false` instead of being rejected too.\n\t                    function () {\n\t                        return { success: false };\n\t                    }).then(resolve, function (error) {\n\t                        reportError(_this, context, path, error);\n\t                        reject(error);\n\t                    });\n\t                }, cancel);\n\t            },\n\t            link: function (route, params) {\n\t                if (params === void 0) { params = {}; }\n\t                var _a = privateStateMap.get(this), history = _a.history, roots = _a.routes, currentSelection = _a.currentSelection;\n\t                var hierarchy = [route];\n\t                for (var parent_1 = route.parent; parent_1 !== undefined; parent_1 = parent_1.parent) {\n\t                    hierarchy.unshift(parent_1);\n\t                }\n\t                if (!array_1.includes(roots, hierarchy[0])) {\n\t                    throw new Error('Cannot generate link for route that is not in the hierarchy');\n\t                }\n\t                var addLeadingSlash = hierarchy[0].path.leadingSlash;\n\t                var addTrailingSlash = false;\n\t                var segments = [];\n\t                var searchParams = new UrlSearchParams_1.default();\n\t                hierarchy\n\t                    .map(function (route, index) {\n\t                    var path = route.path;\n\t                    var currentPathValues;\n\t                    var currentSearchParams;\n\t                    var selection = currentSelection[index];\n\t                    if (selection && selection.route === route) {\n\t                        currentPathValues = selection.rawPathValues;\n\t                        currentSearchParams = selection.rawSearchParams;\n\t                    }\n\t                    return { currentPathValues: currentPathValues, currentSearchParams: currentSearchParams, path: path };\n\t                })\n\t                    .forEach(function (_a) {\n\t                    var currentPathValues = _a.currentPathValues, currentSearchParams = _a.currentSearchParams, path = _a.path;\n\t                    var expectedSegments = path.expectedSegments, searchParameters = path.searchParameters, trailingSlash = path.trailingSlash;\n\t                    addTrailingSlash = trailingSlash;\n\t                    var namedOffset = 0;\n\t                    for (var _i = 0, expectedSegments_1 = expectedSegments; _i < expectedSegments_1.length; _i++) {\n\t                        var segment = expectedSegments_1[_i];\n\t                        if (path_1.isNamedSegment(segment)) {\n\t                            var value = params[segment.name];\n\t                            if (typeof value === 'string') {\n\t                                segments.push(value);\n\t                            }\n\t                            else if (Array.isArray(value)) {\n\t                                if (value.length === 1) {\n\t                                    segments.push(value[0]);\n\t                                }\n\t                                else {\n\t                                    throw new TypeError(\"Cannot generate link, multiple values for parameter '\" + segment.name + \"'\");\n\t                                }\n\t                            }\n\t                            else if (currentPathValues) {\n\t                                segments.push(currentPathValues[namedOffset]);\n\t                            }\n\t                            else {\n\t                                throw new Error(\"Cannot generate link, missing parameter '\" + segment.name + \"'\");\n\t                            }\n\t                            namedOffset++;\n\t                        }\n\t                        else {\n\t                            segments.push(segment.literal);\n\t                        }\n\t                    }\n\t                    for (var _b = 0, searchParameters_1 = searchParameters; _b < searchParameters_1.length; _b++) {\n\t                        var key = searchParameters_1[_b];\n\t                        // Don't repeat the search parameter if a previous route in the hierarchy has already appended\n\t                        // it.\n\t                        if (searchParams.has(key)) {\n\t                            continue;\n\t                        }\n\t                        var value = params[key];\n\t                        if (typeof value === 'string') {\n\t                            searchParams.append(key, value);\n\t                        }\n\t                        else if (Array.isArray(value)) {\n\t                            for (var _c = 0, value_1 = value; _c < value_1.length; _c++) {\n\t                                var item = value_1[_c];\n\t                                searchParams.append(key, item);\n\t                            }\n\t                        }\n\t                        else if (currentSearchParams) {\n\t                            for (var _d = 0, _e = currentSearchParams[key]; _d < _e.length; _d++) {\n\t                                var item = _e[_d];\n\t                                searchParams.append(key, item);\n\t                            }\n\t                        }\n\t                        else {\n\t                            throw new Error(\"Cannot generate link, missing search parameter '\" + key + \"'\");\n\t                        }\n\t                    }\n\t                });\n\t                var pathname = segments.join('/');\n\t                if (addLeadingSlash) {\n\t                    pathname = '/' + pathname;\n\t                }\n\t                if (addTrailingSlash) {\n\t                    pathname += '/';\n\t                }\n\t                if (history) {\n\t                    pathname = history.prefix(pathname);\n\t                }\n\t                var search = searchParams.toString();\n\t                var path = search ? pathname + \"?\" + search : pathname;\n\t                return path;\n\t            },\n\t            start: function (_a) {\n\t                var _this = this;\n\t                var dispatchCurrent = (_a === void 0 ? { dispatchCurrent: true } : _a).dispatchCurrent;\n\t                var state = privateStateMap.get(this);\n\t                if (state.started) {\n\t                    throw new Error('start can only be called once');\n\t                }\n\t                state.started = true;\n\t                var contextFactory = state.contextFactory, history = state.history;\n\t                if (!history) {\n\t                    return {\n\t                        pause: function () { },\n\t                        resume: function () { },\n\t                        destroy: function () { }\n\t                    };\n\t                }\n\t                var lastDispatch;\n\t                var redirectCount = 0;\n\t                var redirecting = false;\n\t                var dispatch = function (path) {\n\t                    if (lastDispatch) {\n\t                        lastDispatch.cancel();\n\t                    }\n\t                    // Reset redirect count if the dispatch was triggered by a non-redirect history change. This allows\n\t                    // a route's exec / fallback / index handler to change the history, setting off a new flurry of\n\t                    // redirects, without being encumbered by the number of redirects that led to that route being selected.\n\t                    if (!redirecting) {\n\t                        redirectCount = 0;\n\t                    }\n\t                    // Signal to dispatch() that it was called from here.\n\t                    state.dispatchFromStart = true;\n\t                    var context = contextFactory();\n\t                    lastDispatch = _this.dispatch(context, path).then(function (_a) {\n\t                        var redirect = _a.redirect, success = _a.success;\n\t                        if (success && redirect !== undefined) {\n\t                            redirectCount++;\n\t                            if (redirectCount > 20) {\n\t                                var error = new Error('More than 20 redirects, giving up');\n\t                                reportError(_this, context, path, error);\n\t                                throw error;\n\t                            }\n\t                            redirecting = true;\n\t                            // The history manager MUST emit the change event synchronously.\n\t                            history.replace(redirect);\n\t                            redirecting = false;\n\t                        }\n\t                    });\n\t                };\n\t                var listener = on_1.pausable(history, 'change', function (event) {\n\t                    dispatch(event.value);\n\t                });\n\t                this.own(listener);\n\t                if (dispatchCurrent) {\n\t                    dispatch(history.current);\n\t                }\n\t                return listener;\n\t            }\n\t        },\n\t        initialize: function (instance, _a) {\n\t            var _b = _a === void 0 ? {} : _a, context = _b.context, fallback = _b.fallback, history = _b.history;\n\t            var contextFactory;\n\t            if (typeof context === 'function') {\n\t                contextFactory = context;\n\t            }\n\t            else if (typeof context === 'undefined') {\n\t                contextFactory = function () {\n\t                    return {};\n\t                };\n\t            }\n\t            else {\n\t                // Assign to a constant since the context variable may be changed after the function is defined,\n\t                // which would violate its typing.\n\t                var sharedContext_1 = context;\n\t                contextFactory = function () { return sharedContext_1; };\n\t            }\n\t            if (history) {\n\t                instance.own(history);\n\t            }\n\t            privateStateMap.set(instance, {\n\t                contextFactory: contextFactory,\n\t                currentSelection: [],\n\t                dispatchFromStart: false,\n\t                fallback: fallback,\n\t                history: history,\n\t                routes: []\n\t            });\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createRouter;\n\t});\n\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    /**\n\t     * Parses a query string, returning a ParamList object.\n\t     */\n\t    function parseQueryString(input) {\n\t        var query = {};\n\t        for (var _i = 0, _a = input.split('&'); _i < _a.length; _i++) {\n\t            var entry = _a[_i];\n\t            var indexOfFirstEquals = entry.indexOf('=');\n\t            var key = void 0;\n\t            var value = '';\n\t            if (indexOfFirstEquals >= 0) {\n\t                key = entry.slice(0, indexOfFirstEquals);\n\t                value = entry.slice(indexOfFirstEquals + 1);\n\t            }\n\t            else {\n\t                key = entry;\n\t            }\n\t            key = key ? decodeURIComponent(key) : '';\n\t            value = value ? decodeURIComponent(value) : '';\n\t            if (key in query) {\n\t                query[key].push(value);\n\t            }\n\t            else {\n\t                query[key] = [value];\n\t            }\n\t        }\n\t        return query;\n\t    }\n\t    /**\n\t     * Represents a set of URL query search parameters.\n\t     */\n\t    var UrlSearchParams = (function () {\n\t        /**\n\t         * Constructs a new UrlSearchParams from a query string, an object of parameters and values, or another\n\t         * UrlSearchParams.\n\t         */\n\t        function UrlSearchParams(input) {\n\t            var list;\n\t            if (input instanceof UrlSearchParams) {\n\t                // Copy the incoming UrlSearchParam's internal list\n\t                list = lang_1.duplicate(input._list);\n\t            }\n\t            else if (typeof input === 'object') {\n\t                // Copy the incoming object, assuming its property values are either arrays or strings\n\t                list = {};\n\t                for (var key in input) {\n\t                    var value = input[key];\n\t                    if (Array.isArray(value)) {\n\t                        list[key] = value.length ? value.slice() : [''];\n\t                    }\n\t                    else if (value == null) {\n\t                        list[key] = [''];\n\t                    }\n\t                    else {\n\t                        list[key] = [value];\n\t                    }\n\t                }\n\t            }\n\t            else if (typeof input === 'string') {\n\t                // Parse the incoming string as a query string\n\t                list = parseQueryString(input);\n\t            }\n\t            else {\n\t                list = {};\n\t            }\n\t            Object.defineProperty(this, '_list', { value: list });\n\t        }\n\t        /**\n\t         * Appends a new value to the set of values for a key.\n\t         * @param key The key to add a value for\n\t         * @param value The value to add\n\t         */\n\t        UrlSearchParams.prototype.append = function (key, value) {\n\t            if (!this.has(key)) {\n\t                this.set(key, value);\n\t            }\n\t            else {\n\t                var values = this._list[key];\n\t                if (values) {\n\t                    values.push(value);\n\t                }\n\t            }\n\t        };\n\t        /**\n\t         * Deletes all values for a key.\n\t         * @param key The key whose values are to be removed\n\t         */\n\t        UrlSearchParams.prototype.delete = function (key) {\n\t            // Set to undefined rather than deleting the key, for better consistency across browsers.\n\t            // If a deleted key is re-added, most browsers put it at the end of iteration order, but IE maintains\n\t            // its original position.  This approach maintains the original position everywhere.\n\t            this._list[key] = undefined;\n\t        };\n\t        /**\n\t         * Returns the first value associated with a key.\n\t         * @param key The key to return the first value for\n\t         * @return The first string value for the key\n\t         */\n\t        UrlSearchParams.prototype.get = function (key) {\n\t            if (!this.has(key)) {\n\t                return undefined;\n\t            }\n\t            var value = this._list[key];\n\t            return value ? value[0] : undefined;\n\t        };\n\t        /**\n\t         * Returns all the values associated with a key.\n\t         * @param key The key to return all values for\n\t         * @return An array of strings containing all values for the key\n\t         */\n\t        UrlSearchParams.prototype.getAll = function (key) {\n\t            if (!this.has(key)) {\n\t                return undefined;\n\t            }\n\t            return this._list[key];\n\t        };\n\t        /**\n\t         * Returns true if a key has been set to any value, false otherwise.\n\t         * @param key The key to test for existence\n\t         * @return A boolean indicating if the key has been set\n\t         */\n\t        UrlSearchParams.prototype.has = function (key) {\n\t            return Array.isArray(this._list[key]);\n\t        };\n\t        /**\n\t         * Returns an array of all keys which have been set.\n\t         * @return An array of strings containing all keys set in the UrlSearchParams instance\n\t         */\n\t        UrlSearchParams.prototype.keys = function () {\n\t            var keys = [];\n\t            for (var key in this._list) {\n\t                if (this.has(key)) {\n\t                    keys.push(key);\n\t                }\n\t            }\n\t            return keys;\n\t        };\n\t        /**\n\t         * Sets the value associated with a key.\n\t         * @param key The key to set the value of\n\t         */\n\t        UrlSearchParams.prototype.set = function (key, value) {\n\t            this._list[key] = [value];\n\t        };\n\t        /**\n\t         * Returns this object's data as an encoded query string.\n\t         * @return A string in application/x-www-form-urlencoded format containing all of the set keys/values\n\t         */\n\t        UrlSearchParams.prototype.toString = function () {\n\t            var query = [];\n\t            for (var key in this._list) {\n\t                if (!this.has(key)) {\n\t                    continue;\n\t                }\n\t                var values = this._list[key];\n\t                if (values) {\n\t                    var encodedKey = encodeURIComponent(key);\n\t                    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n\t                        var value = values_1[_i];\n\t                        query.push(encodedKey + (value ? ('=' + encodeURIComponent(value)) : ''));\n\t                    }\n\t                }\n\t            }\n\t            return query.join('&');\n\t        };\n\t        return UrlSearchParams;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = UrlSearchParams;\n\t});\n\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(92)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var UrlSearchParams_1 = __webpack_require__(92);\n\t    /**\n\t     * Parses a path\n\t     * @param path The path to parse.\n\t     * @return The search params, pathname segments, and whether it ended with a trailing slash.\n\t     */\n\t    function parse(path) {\n\t        var tokens = path.split(/([/?#])/).filter(Boolean);\n\t        var pathnameTokens = tokens;\n\t        var searchParams;\n\t        var searchStart = tokens.indexOf('?');\n\t        var hashStart = tokens.indexOf('#');\n\t        if (searchStart >= 0) {\n\t            if (hashStart >= 0) {\n\t                // Either `/foo?bar#baz` or `/foo#bar?baz`\n\t                pathnameTokens = tokens.slice(0, Math.min(searchStart, hashStart));\n\t                searchParams = new UrlSearchParams_1.default(tokens.slice(searchStart + 1, hashStart).join(''));\n\t            }\n\t            else {\n\t                // `/foo?bar`\n\t                pathnameTokens = tokens.slice(0, searchStart);\n\t                searchParams = new UrlSearchParams_1.default(tokens.slice(searchStart + 1).join(''));\n\t            }\n\t        }\n\t        else {\n\t            searchParams = new UrlSearchParams_1.default();\n\t            if (hashStart >= 0) {\n\t                // `/foo#bar`\n\t                pathnameTokens = tokens.slice(0, hashStart);\n\t            }\n\t        }\n\t        var segments = pathnameTokens.filter(function (t) { return t !== '/'; });\n\t        var trailingSlash = pathnameTokens[pathnameTokens.length - 1] === '/' && segments.length > 0;\n\t        return {\n\t            searchParams: searchParams,\n\t            segments: segments,\n\t            trailingSlash: trailingSlash\n\t        };\n\t    }\n\t    exports.parse = parse;\n\t    /**\n\t     * Determines whether a DeconstructedPath is a (partial) match for given pathname segments.\n\t     * @param expectedSegments Part of a DeconstructedPath object.\n\t     * @param segments Pathname segments as returned by `parse()`\n\t     * @return A result object.\n\t     */\n\t    function match(_a, segments) {\n\t        var expectedSegments = _a.expectedSegments;\n\t        if (expectedSegments.length === 0) {\n\t            return {\n\t                hasRemaining: segments.length > 0,\n\t                offset: 0,\n\t                values: []\n\t            };\n\t        }\n\t        if (expectedSegments.length > segments.length) {\n\t            return null;\n\t        }\n\t        var isMatch = true;\n\t        var values = [];\n\t        for (var i = 0; isMatch && i < expectedSegments.length; i++) {\n\t            var value = segments[i];\n\t            var expected = expectedSegments[i];\n\t            if (isNamedSegment(expected)) {\n\t                values.push(value);\n\t            }\n\t            else if (expected.literal !== value) {\n\t                isMatch = false;\n\t            }\n\t        }\n\t        if (!isMatch) {\n\t            return null;\n\t        }\n\t        return {\n\t            hasRemaining: expectedSegments.length < segments.length,\n\t            offset: expectedSegments.length,\n\t            values: values\n\t        };\n\t    }\n\t    exports.match = match;\n\t    /**\n\t     * Determine whether the segment is a NamedSegment.\n\t     *\n\t     * @param segment The segment to be checked\n\t     * @return true if the segment is a NamedSegment, false otherwise\n\t     */\n\t    function isNamedSegment(segment) {\n\t        return segment.name !== undefined;\n\t    }\n\t    exports.isNamedSegment = isNamedSegment;\n\t    /**\n\t     * Deconstruct a route path into its constituent parts.\n\t     * @param path The path to deconstruct.\n\t     * @return An object describing the path's constituent parts.\n\t     */\n\t    function deconstruct(path) {\n\t        var expectedSegments = [];\n\t        var parameters = [];\n\t        var searchParameters = [];\n\t        var trailingSlash = false;\n\t        var tokens = path.split(/([/{}?&])/).filter(Boolean);\n\t        var leadingSlash = tokens[0] === '/';\n\t        var i = 0;\n\t        var consume = function () { return tokens[i++]; };\n\t        var peek = function () { return tokens[i]; };\n\t        var inSearchComponent = false;\n\t        while (i < tokens.length) {\n\t            var t = consume();\n\t            switch (t) {\n\t                case '{': {\n\t                    var name_1 = consume();\n\t                    if (!name_1 || name_1 === '}') {\n\t                        throw new TypeError('Parameter must have a name');\n\t                    }\n\t                    // Reserve : for future use, e.g. including type data in the parameter declaration.\n\t                    if (name_1 === '{' || name_1 === '&' || /:/.test(name_1)) {\n\t                        throw new TypeError('Parameter name must not contain \\'{\\', \\'&\\' or \\':\\'');\n\t                    }\n\t                    if (parameters.indexOf(name_1) !== -1 || searchParameters.indexOf(name_1) !== -1) {\n\t                        throw new TypeError(\"Parameter must have a unique name, got '\" + name_1 + \"'\");\n\t                    }\n\t                    var closing = consume();\n\t                    if (!closing || closing !== '}') {\n\t                        throw new TypeError(\"Parameter name must be followed by '}', got '\" + closing + \"'\");\n\t                    }\n\t                    var separator = peek();\n\t                    if (separator) {\n\t                        if (inSearchComponent) {\n\t                            if (separator !== '&') {\n\t                                throw new TypeError(\"Search parameter must be followed by '&', got '\" + separator + \"'\");\n\t                            }\n\t                        }\n\t                        else if (separator !== '/' && separator !== '?') {\n\t                            throw new TypeError(\"Parameter must be followed by '/' or '?', got '\" + separator + \"'\");\n\t                        }\n\t                    }\n\t                    if (inSearchComponent) {\n\t                        searchParameters.push(name_1);\n\t                    }\n\t                    else {\n\t                        parameters.push(name_1);\n\t                        expectedSegments.push(Object.freeze({ name: name_1 }));\n\t                    }\n\t                    break;\n\t                }\n\t                case '?':\n\t                case '/':\n\t                    if (inSearchComponent) {\n\t                        throw new TypeError(\"Expected parameter in search component, got '\" + t + \"'\");\n\t                    }\n\t                    if (t === '?') {\n\t                        inSearchComponent = true;\n\t                        if (expectedSegments.length === 0) {\n\t                            throw new TypeError('Path must contain at least one segment');\n\t                        }\n\t                    }\n\t                    if (t === '/') {\n\t                        var next_1 = peek();\n\t                        if (next_1 === '/') {\n\t                            throw new TypeError('Path segment must not be empty');\n\t                        }\n\t                        if (expectedSegments.length > 0 && (!next_1 || next_1 === '?')) {\n\t                            trailingSlash = true;\n\t                        }\n\t                    }\n\t                    break;\n\t                case '&':\n\t                    if (!inSearchComponent) {\n\t                        throw new TypeError('Path segment must not contain \\'&\\'');\n\t                    }\n\t                    var next = peek();\n\t                    if (next === '&') {\n\t                        throw new TypeError('Expected parameter in search component, got \\'&\\'');\n\t                    }\n\t                    break;\n\t                default:\n\t                    if (inSearchComponent) {\n\t                        throw new TypeError(\"Expected parameter in search component, got '\" + t + \"'\");\n\t                    }\n\t                    expectedSegments.push(Object.freeze({ literal: t }));\n\t            }\n\t        }\n\t        return Object.freeze({\n\t            expectedSegments: Object.freeze(expectedSegments),\n\t            leadingSlash: leadingSlash,\n\t            parameters: Object.freeze(parameters),\n\t            searchParameters: Object.freeze(searchParameters),\n\t            trailingSlash: trailingSlash\n\t        });\n\t    }\n\t    exports.deconstruct = deconstruct;\n\t});\n\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(92), __webpack_require__(18), __webpack_require__(91), __webpack_require__(93)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var UrlSearchParams_1 = __webpack_require__(92);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var createRouter_1 = __webpack_require__(91);\n\t    var path_1 = __webpack_require__(93);\n\t    var privateStateMap = new WeakMap_1.default();\n\t    // Store parent relationships in a separate map, since it's the parent that adds entries to this map. Parents shouldn't\n\t    // change the private state of their children.\n\t    var parentMap = new WeakMap_1.default();\n\t    var noop = function () { };\n\t    function computeDefaultParams(parameters, searchParameters, fromPathname, searchParams) {\n\t        var params = {};\n\t        parameters.forEach(function (name, index) {\n\t            params[name] = fromPathname[index];\n\t        });\n\t        searchParameters.forEach(function (name) {\n\t            var value = searchParams.get(name);\n\t            if (value !== undefined) {\n\t                params[name] = value;\n\t            }\n\t        });\n\t        return params;\n\t    }\n\t    var createRoute = compose_1.default({\n\t        get parent() {\n\t            return parentMap.get(this);\n\t        },\n\t        get path() {\n\t            return privateStateMap.get(this).path;\n\t        },\n\t        append: function (add) {\n\t            var _this = this;\n\t            var routes = privateStateMap.get(this).routes;\n\t            var append = function (route) {\n\t                if (createRouter_1.hasBeenAppended(route)) {\n\t                    throw new Error('Cannot append route that has already been appended');\n\t                }\n\t                routes.push(route);\n\t                parentMap.set(route, _this);\n\t            };\n\t            if (Array.isArray(add)) {\n\t                for (var _i = 0, add_1 = add; _i < add_1.length; _i++) {\n\t                    var route = add_1[_i];\n\t                    append(route);\n\t                }\n\t            }\n\t            else {\n\t                append(add);\n\t            }\n\t        },\n\t        match: function (segments, hasTrailingSlash, searchParams) {\n\t            var _a = privateStateMap.get(this), computeParams = _a.computeParams, path = _a.path, trailingSlashMustMatch = _a.trailingSlashMustMatch;\n\t            var result = path_1.match(path, segments);\n\t            if (result === null) {\n\t                return null;\n\t            }\n\t            if (!result.hasRemaining && trailingSlashMustMatch && path.trailingSlash !== hasTrailingSlash) {\n\t                return null;\n\t            }\n\t            // Only extract the search params defined in the route's path.\n\t            var knownSearchParams = path.searchParameters.reduce(function (list, name) {\n\t                var value = searchParams.getAll(name);\n\t                if (value !== undefined) {\n\t                    list[name] = value;\n\t                }\n\t                return list;\n\t            }, {});\n\t            var params = computeParams(result.values, new UrlSearchParams_1.default(knownSearchParams));\n\t            if (params === null) {\n\t                return null;\n\t            }\n\t            return {\n\t                hasRemaining: result.hasRemaining,\n\t                offset: result.offset,\n\t                params: params,\n\t                rawPathValues: result.values,\n\t                rawSearchParams: knownSearchParams\n\t            };\n\t        },\n\t        select: function (context, segments, hasTrailingSlash, searchParams) {\n\t            var _a = privateStateMap.get(this), exec = _a.exec, index = _a.index, fallback = _a.fallback, guard = _a.guard, path = _a.path, routes = _a.routes;\n\t            var matchResult = this.match(segments, hasTrailingSlash, searchParams);\n\t            // Return early if possible.\n\t            if (!matchResult || matchResult.hasRemaining && routes.length === 0 && !fallback) {\n\t                return [];\n\t            }\n\t            var params = matchResult.params;\n\t            if (guard) {\n\t                var guardResult = guard({ context: context, params: params });\n\t                if (typeof guardResult === 'string') {\n\t                    return guardResult;\n\t                }\n\t                if (!guardResult) {\n\t                    return [];\n\t                }\n\t            }\n\t            var handler = exec;\n\t            var redirect;\n\t            var remainingSelection;\n\t            var selected = false;\n\t            if (matchResult.hasRemaining) {\n\t                // Match the remaining segments. Return a hierarchy if nested routes were selected.\n\t                var remainingSegments_1 = segments.slice(matchResult.offset);\n\t                selected = routes.some(function (nested) {\n\t                    var nestedResult = nested.select(context, remainingSegments_1, hasTrailingSlash, searchParams);\n\t                    if (typeof nestedResult === 'string') {\n\t                        redirect = nestedResult;\n\t                        return true;\n\t                    }\n\t                    if (nestedResult.length > 0) {\n\t                        remainingSelection = nestedResult;\n\t                        return true;\n\t                    }\n\t                    return false;\n\t                });\n\t                // No remaining segments matched, only select this route if a fallback handler was specified.\n\t                if (!selected && fallback) {\n\t                    selected = true;\n\t                    handler = fallback;\n\t                }\n\t            }\n\t            else {\n\t                selected = true;\n\t                if (index) {\n\t                    handler = index;\n\t                }\n\t            }\n\t            if (!selected) {\n\t                return [];\n\t            }\n\t            if (redirect !== undefined) {\n\t                return redirect;\n\t            }\n\t            var rawPathValues = matchResult.rawPathValues, rawSearchParams = matchResult.rawSearchParams;\n\t            var selection = {\n\t                // Use a noop handler if exec was not provided. Something needs to be returned otherwise the router may\n\t                // think no routes were selected.\n\t                handler: handler || noop,\n\t                path: path,\n\t                params: params,\n\t                rawPathValues: rawPathValues,\n\t                rawSearchParams: rawSearchParams,\n\t                route: this\n\t            };\n\t            return remainingSelection ? [selection].concat(remainingSelection) : [selection];\n\t        }\n\t    }, function (instance, _a) {\n\t        var _b = _a === void 0 ? {} : _a, exec = _b.exec, fallback = _b.fallback, guard = _b.guard, index = _b.index, computeParams = _b.params, path = _b.path, _c = _b.trailingSlashMustMatch, trailingSlashMustMatch = _c === void 0 ? true : _c;\n\t        if (path && /#/.test(path)) {\n\t            throw new TypeError('Path must not contain \\'#\\'');\n\t        }\n\t        var deconstructedPath = path_1.deconstruct(path || '/');\n\t        var parameters = deconstructedPath.parameters, searchParameters = deconstructedPath.searchParameters;\n\t        if (computeParams) {\n\t            if (parameters.length === 0 && searchParameters.length === 0) {\n\t                throw new TypeError('Can\\'t specify params() if path doesn\\'t contain any');\n\t            }\n\t        }\n\t        else {\n\t            computeParams = function (fromPathname, searchParams) {\n\t                return computeDefaultParams(parameters, searchParameters, fromPathname, searchParams);\n\t            };\n\t        }\n\t        privateStateMap.set(instance, {\n\t            computeParams: computeParams,\n\t            exec: exec,\n\t            fallback: fallback,\n\t            guard: guard,\n\t            index: index,\n\t            path: deconstructedPath,\n\t            routes: [],\n\t            trailingSlashMustMatch: trailingSlashMustMatch\n\t        });\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createRoute;\n\t});\n\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(114), __webpack_require__(30), __webpack_require__(34), __webpack_require__(101), __webpack_require__(19), __webpack_require__(18), __webpack_require__(112), __webpack_require__(111), __webpack_require__(110), __webpack_require__(98), __webpack_require__(108), __webpack_require__(96), __webpack_require__(113)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var IdentityRegistry_1 = __webpack_require__(114);\n\t    var lang_1 = __webpack_require__(30);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var Set_1 = __webpack_require__(101);\n\t    var Symbol_1 = __webpack_require__(19);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var extractRegistrationElements_1 = __webpack_require__(112);\n\t    var factories_1 = __webpack_require__(111);\n\t    var InstanceRegistry_1 = __webpack_require__(110);\n\t    var makeIdGenerator_1 = __webpack_require__(98);\n\t    var moduleResolver_1 = __webpack_require__(108);\n\t    var realizeCustomElements_1 = __webpack_require__(96);\n\t    var RegistryProvider_1 = __webpack_require__(113);\n\t    exports.RegistryProvider = RegistryProvider_1.default;\n\t    /**\n\t     * Identifier for the default action store, if any.\n\t     */\n\t    exports.DEFAULT_ACTION_STORE = Symbol_1.default('Identifier for default action stores');\n\t    /**\n\t     * Identifier for the default widget store, if any.\n\t     */\n\t    exports.DEFAULT_WIDGET_STORE = Symbol_1.default('Identifier for default widget stores');\n\t    var generateWidgetId = makeIdGenerator_1.default('app-widget-');\n\t    var noop = function () { };\n\t    var privateStateMap = new WeakMap_1.default();\n\t    function addIdentifier(app, id) {\n\t        var identifiers = privateStateMap.get(app).identifiers;\n\t        if (identifiers.has(id)) {\n\t            throw new Error(\"'\" + id + \"' has already been used as an identifier\");\n\t        }\n\t        identifiers.add(id);\n\t        return {\n\t            destroy: function () {\n\t                this.destroy = noop;\n\t                identifiers.delete(id);\n\t            }\n\t        };\n\t    }\n\t    function createCustomWidget(app, id) {\n\t        var registryProvider = app.registryProvider, defaultWidgetStore = app.defaultWidgetStore;\n\t        var factoryHandle;\n\t        // istanbul ignore if\n\t        if (!defaultWidgetStore) {\n\t            throw new Error('A default widget store must be configured in order to create custom widgets');\n\t        }\n\t        return defaultWidgetStore.get(id).then(function (state) {\n\t            var _a = privateStateMap.get(app), customElementFactories = _a.customElementFactories, widgetFactories = _a.widgetFactories, widgetInstances = _a.widgetInstances;\n\t            var hasRegisteredFactory = widgetFactories.has(id);\n\t            var hasRegisteredInstance = widgetInstances.has(id);\n\t            if (!hasRegisteredFactory && !hasRegisteredInstance) {\n\t                var customFactory = customElementFactories.get(state.type);\n\t                factoryHandle = app.registerWidgetFactory(id, customFactory);\n\t            }\n\t            return app.getWidget(id);\n\t        }).then(function (widget) {\n\t            widget.own(factoryHandle);\n\t            return widget;\n\t        });\n\t    }\n\t    function registerInstance(app, instance, id) {\n\t        var _a = privateStateMap.get(app), instanceRegistry = _a.instanceRegistry, widgetInstances = _a.widgetInstances;\n\t        // Maps the instance to its ID\n\t        var instanceHandle = instanceRegistry.addWidget(instance, id);\n\t        // Maps the ID to the instance\n\t        var idHandle = widgetInstances.register(id, instance);\n\t        return {\n\t            destroy: function () {\n\t                this.destroy = noop;\n\t                instanceHandle.destroy();\n\t                idHandle.destroy();\n\t            }\n\t        };\n\t    }\n\t    var createApp = compose_1.default({\n\t        set defaultActionStore(store) {\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, storeFactories = _a.storeFactories;\n\t            instanceRegistry.addStore(store, exports.DEFAULT_ACTION_STORE);\n\t            storeFactories.register(exports.DEFAULT_ACTION_STORE, function () { return store; });\n\t        },\n\t        get defaultActionStore() {\n\t            var storeFactories = privateStateMap.get(this).storeFactories;\n\t            if (storeFactories.has(exports.DEFAULT_ACTION_STORE)) {\n\t                return storeFactories.get(exports.DEFAULT_ACTION_STORE)();\n\t            }\n\t        },\n\t        set defaultWidgetStore(store) {\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, storeFactories = _a.storeFactories;\n\t            instanceRegistry.addStore(store, exports.DEFAULT_WIDGET_STORE);\n\t            storeFactories.register(exports.DEFAULT_WIDGET_STORE, function () { return store; });\n\t        },\n\t        get defaultWidgetStore() {\n\t            var storeFactories = privateStateMap.get(this).storeFactories;\n\t            if (storeFactories.has(exports.DEFAULT_WIDGET_STORE)) {\n\t                return storeFactories.get(exports.DEFAULT_WIDGET_STORE)();\n\t            }\n\t        },\n\t        get registryProvider() {\n\t            return privateStateMap.get(this).registryProvider;\n\t        },\n\t        registerAction: function (id, action) {\n\t            var _this = this;\n\t            var _a = privateStateMap.get(this), actionFactories = _a.actionFactories, instanceRegistry = _a.instanceRegistry;\n\t            var idHandle = addIdentifier(this, id);\n\t            var instanceHandle = instanceRegistry.addAction(action, id);\n\t            var registryHandle = actionFactories.register(id, function () {\n\t                var promise = new Promise_1.default(function (resolve) {\n\t                    resolve(action.configure(_this.registryProvider));\n\t                })\n\t                    .then(function () { return action; });\n\t                // Replace the registered factory to ensure the action is not configured twice.\n\t                registryHandle.destroy();\n\t                registryHandle = actionFactories.register(id, function () { return promise; });\n\t                return promise;\n\t            });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    idHandle.destroy();\n\t                    instanceHandle.destroy();\n\t                    registryHandle.destroy();\n\t                }\n\t            };\n\t        },\n\t        registerActionFactory: function (id, factory) {\n\t            var _this = this;\n\t            var _a = privateStateMap.get(this), actionFactories = _a.actionFactories, instanceRegistry = _a.instanceRegistry;\n\t            var idHandle = addIdentifier(this, id);\n\t            var destroyed = false;\n\t            var instanceHandle;\n\t            var registryHandle = actionFactories.register(id, function () {\n\t                var promise = Promise_1.default.resolve()\n\t                    .then(function () {\n\t                    // Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t                    // factory is registered through this method or loaded from a definition.\n\t                    var _a = _this, stateFrom = _a.defaultActionStore, registryProvider = _a.registryProvider;\n\t                    return factory({ registryProvider: registryProvider, stateFrom: stateFrom });\n\t                })\n\t                    .then(function (action) {\n\t                    if (!destroyed) {\n\t                        instanceHandle = instanceRegistry.addAction(action, id);\n\t                    }\n\t                    // Configure the action, allow for a promise to be returned.\n\t                    return Promise_1.default.resolve(action.configure(_this.registryProvider)).then(function () {\n\t                        return action;\n\t                    });\n\t                });\n\t                // Replace the registered factory to ensure next time this action is needed, the same action is returned.\n\t                registryHandle.destroy();\n\t                registryHandle = actionFactories.register(id, function () { return promise; });\n\t                return promise;\n\t            });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    destroyed = true;\n\t                    idHandle.destroy();\n\t                    registryHandle.destroy();\n\t                    if (instanceHandle) {\n\t                        instanceHandle.destroy();\n\t                    }\n\t                }\n\t            };\n\t        },\n\t        registerCustomElementFactory: function (name, factory) {\n\t            if (!realizeCustomElements_1.isValidName(name)) {\n\t                throw new SyntaxError(\"'\" + name + \"' is not a valid custom element name\");\n\t            }\n\t            // Wrap the factory since the registry cannot store frozen factories, and dojo-compose creates\n\t            // frozen factories…\n\t            var wrapped = function (options) { return factory(options); };\n\t            // Note that each custom element requires a new widget, so there's no need to replace the\n\t            // registered factory.\n\t            var registryHandle = privateStateMap.get(this).customElementFactories.register(realizeCustomElements_1.normalizeName(name), wrapped);\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    registryHandle.destroy();\n\t                }\n\t            };\n\t        },\n\t        registerStore: function (id, store) {\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, storeFactories = _a.storeFactories;\n\t            var idHandle = addIdentifier(this, id);\n\t            var instanceHandle = instanceRegistry.addStore(store, id);\n\t            var registryHandle = storeFactories.register(id, function () { return store; });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    idHandle.destroy();\n\t                    instanceHandle.destroy();\n\t                    registryHandle.destroy();\n\t                }\n\t            };\n\t        },\n\t        registerStoreFactory: function (id, factory) {\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, storeFactories = _a.storeFactories;\n\t            var idHandle = addIdentifier(this, id);\n\t            var destroyed = false;\n\t            var instanceHandle;\n\t            var registryHandle = storeFactories.register(id, function () {\n\t                var promise = Promise_1.default.resolve().then(function () {\n\t                    // Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t                    // factory is registered through this method or loaded from a definition.\n\t                    return factory();\n\t                }).then(function (store) {\n\t                    if (!destroyed) {\n\t                        instanceHandle = instanceRegistry.addStore(store, id);\n\t                    }\n\t                    return store;\n\t                });\n\t                // Replace the registered factory to ensure next time this store is needed, the same store is returned.\n\t                registryHandle.destroy();\n\t                registryHandle = storeFactories.register(id, function () { return promise; });\n\t                return promise;\n\t            });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    destroyed = true;\n\t                    idHandle.destroy();\n\t                    registryHandle.destroy();\n\t                    if (instanceHandle) {\n\t                        instanceHandle.destroy();\n\t                    }\n\t                }\n\t            };\n\t        },\n\t        registerWidget: function (id, widget) {\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, widgetFactories = _a.widgetFactories;\n\t            var idHandle = addIdentifier(this, id);\n\t            var instanceHandle = instanceRegistry.addWidget(widget, id);\n\t            var registryHandle = widgetFactories.register(id, function () { return widget; });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    idHandle.destroy();\n\t                    instanceHandle.destroy();\n\t                    registryHandle.destroy();\n\t                }\n\t            };\n\t        },\n\t        registerWidgetFactory: function (id, factory) {\n\t            var _this = this;\n\t            var _a = privateStateMap.get(this), instanceRegistry = _a.instanceRegistry, widgetFactories = _a.widgetFactories;\n\t            var idHandle = addIdentifier(this, id);\n\t            var destroyed = false;\n\t            var instanceHandle;\n\t            var registryHandle = widgetFactories.register(id, function () {\n\t                var promise = Promise_1.default.resolve().then(function () {\n\t                    // Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t                    // factory is registered through this method or loaded from a definition.\n\t                    var _a = _this, registryProvider = _a.registryProvider, defaultWidgetStore = _a.defaultWidgetStore;\n\t                    var options = { id: id, registryProvider: registryProvider };\n\t                    if (defaultWidgetStore) {\n\t                        options.stateFrom = defaultWidgetStore;\n\t                    }\n\t                    return factory(options);\n\t                }).then(function (widget) {\n\t                    if (!destroyed) {\n\t                        instanceHandle = instanceRegistry.addWidget(widget, id);\n\t                    }\n\t                    return widget;\n\t                });\n\t                // Replace the registered factory to ensure next time this widget is needed, the same widget is returned.\n\t                registryHandle.destroy();\n\t                registryHandle = widgetFactories.register(id, function () { return promise; });\n\t                return promise;\n\t            });\n\t            return {\n\t                destroy: function () {\n\t                    this.destroy = noop;\n\t                    destroyed = true;\n\t                    idHandle.destroy();\n\t                    registryHandle.destroy();\n\t                    if (instanceHandle) {\n\t                        instanceHandle.destroy();\n\t                    }\n\t                }\n\t            };\n\t        },\n\t        loadDefinition: function (_a) {\n\t            var actions = _a.actions, customElements = _a.customElements, stores = _a.stores, widgets = _a.widgets;\n\t            var resolveMid = privateStateMap.get(this).resolveMid;\n\t            var handles = [];\n\t            if (actions) {\n\t                for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\n\t                    var definition = actions_1[_i];\n\t                    var factory = factories_1.makeActionFactory(definition, resolveMid, this);\n\t                    var handle = this.registerActionFactory(definition.id, factory);\n\t                    handles.push(handle);\n\t                }\n\t            }\n\t            if (customElements) {\n\t                for (var _b = 0, customElements_1 = customElements; _b < customElements_1.length; _b++) {\n\t                    var definition = customElements_1[_b];\n\t                    var factory = factories_1.makeCustomElementFactory(definition, resolveMid);\n\t                    var handle = this.registerCustomElementFactory(definition.name, factory);\n\t                    handles.push(handle);\n\t                }\n\t            }\n\t            if (stores) {\n\t                for (var _c = 0, stores_1 = stores; _c < stores_1.length; _c++) {\n\t                    var definition = stores_1[_c];\n\t                    var factory = factories_1.makeStoreFactory(definition, resolveMid);\n\t                    var handle = this.registerStoreFactory(definition.id, factory);\n\t                    handles.push(handle);\n\t                }\n\t            }\n\t            if (widgets) {\n\t                for (var _d = 0, widgets_1 = widgets; _d < widgets_1.length; _d++) {\n\t                    var definition = widgets_1[_d];\n\t                    var factory = factories_1.makeWidgetFactory(definition, resolveMid, this);\n\t                    var handle = this.registerWidgetFactory(definition.id, factory);\n\t                    handles.push(handle);\n\t                }\n\t            }\n\t            return {\n\t                destroy: function () {\n\t                    for (var _i = 0, _a = handles.splice(0, handles.length); _i < _a.length; _i++) {\n\t                        var handle = _a[_i];\n\t                        handle.destroy();\n\t                    }\n\t                }\n\t            };\n\t        },\n\t        realize: function (root) {\n\t            var _this = this;\n\t            var resolveMid = privateStateMap.get(this).resolveMid;\n\t            return extractRegistrationElements_1.default(resolveMid, root)\n\t                .then(function (_a) {\n\t                var actions = _a.actions, customElements = _a.customElements, defaultStores = _a.defaultStores, stores = _a.stores, widgets = _a.widgets;\n\t                var definitionHandle = _this.loadDefinition({ actions: actions, customElements: customElements, stores: stores, widgets: widgets });\n\t                if (defaultStores.length === 0) {\n\t                    return definitionHandle;\n\t                }\n\t                return Promise_1.default.all(defaultStores.map(function (definition) {\n\t                    // N.B. The ID is ignored by the store factory\n\t                    var type = definition.id;\n\t                    var factory = factories_1.makeStoreFactory(definition, resolveMid);\n\t                    return Promise_1.default.resolve(factory())\n\t                        .then(function (store) {\n\t                        if (type === 'action') {\n\t                            _this.defaultActionStore = store;\n\t                        }\n\t                        else {\n\t                            _this.defaultWidgetStore = store;\n\t                        }\n\t                    });\n\t                }))\n\t                    .then(function () { return definitionHandle; });\n\t            })\n\t                .then(function (definitionHandle) {\n\t                return realizeCustomElements_1.default(function (id) { return addIdentifier(_this, id); }, function (instance, id) { return registerInstance(_this, instance, id); }, _this, _this.registryProvider, root, _this.defaultWidgetStore)\n\t                    .then(function (realizationHandle) {\n\t                    return {\n\t                        destroy: function () {\n\t                            this.destroy = noop;\n\t                            definitionHandle.destroy();\n\t                            realizationHandle.destroy();\n\t                        }\n\t                    };\n\t                });\n\t            });\n\t        }\n\t    })\n\t        .mixin({\n\t        mixin: {\n\t            getAction: function (id) {\n\t                var _this = this;\n\t                return new Promise_1.default(function (resolve) {\n\t                    resolve(privateStateMap.get(_this).actionFactories.get(id)());\n\t                });\n\t            },\n\t            hasAction: function (id) {\n\t                return privateStateMap.get(this).actionFactories.has(id);\n\t            },\n\t            identifyAction: function (action) {\n\t                return privateStateMap.get(this).instanceRegistry.identifyAction(action);\n\t            },\n\t            getCustomElementFactory: function (name) {\n\t                return privateStateMap.get(this).customElementFactories.get(name);\n\t            },\n\t            hasCustomElementFactory: function (name) {\n\t                return privateStateMap.get(this).customElementFactories.has(name);\n\t            },\n\t            getStore: function (id) {\n\t                var _this = this;\n\t                return new Promise_1.default(function (resolve) {\n\t                    resolve(privateStateMap.get(_this).storeFactories.get(id)());\n\t                });\n\t            },\n\t            hasStore: function (id) {\n\t                return privateStateMap.get(this).storeFactories.has(id);\n\t            },\n\t            identifyStore: function (store) {\n\t                return privateStateMap.get(this).instanceRegistry.identifyStore(store);\n\t            },\n\t            createWidget: function (factory, options) {\n\t                var _this = this;\n\t                if (options === void 0) { options = {}; }\n\t                var _a = this, defaultWidgetStore = _a.defaultWidgetStore, registryProvider = _a.registryProvider;\n\t                var _b = options.id, id = _b === void 0 ? generateWidgetId() : _b;\n\t                // Like for custom elements, don't add the generated ID to the options.\n\t                var _c = privateStateMap.get(this), widgetFactories = _c.widgetFactories, widgetInstances = _c.widgetInstances;\n\t                // Ensure no other widget with this ID exists.\n\t                if (widgetFactories.has(id) || widgetInstances.has(id)) {\n\t                    return Promise_1.default.reject(new Error(\"A widget with ID '\" + id + \"' already exists\"));\n\t                }\n\t                if (!options.registryProvider) {\n\t                    options.registryProvider = registryProvider;\n\t                }\n\t                return new Promise_1.default(function (resolve) {\n\t                    if (options.id && (options.stateFrom || defaultWidgetStore)) {\n\t                        var store = options.stateFrom = options.stateFrom || defaultWidgetStore;\n\t                        // We will attempt to create an initial state, if it isn't present in the store\n\t                        var state = { id: id };\n\t                        if (options.state) {\n\t                            lang_1.assign(state, options.state);\n\t                        }\n\t                        // TODO: What happens if the store rejects?\n\t                        resolve(store.add(state));\n\t                    }\n\t                    else {\n\t                        resolve();\n\t                    }\n\t                })\n\t                    .then(function () {\n\t                    var widget = factory(options);\n\t                    // Add the instance to the various registries the app may maintain.\n\t                    //\n\t                    // No need to trap registerInstance for duplicates, because we are creating new\n\t                    // in this function\n\t                    widget.own(registerInstance(_this, widget, id));\n\t                    return [id, widget];\n\t                });\n\t            },\n\t            getWidget: function (id) {\n\t                var _this = this;\n\t                // Widgets either need to be resolved from a factory, or have been created when realizing\n\t                // custom elements.\n\t                var _a = privateStateMap.get(this), factories = _a.widgetFactories, instances = _a.widgetInstances;\n\t                var missingFactory;\n\t                return new Promise_1.default(function (resolve) {\n\t                    var factory;\n\t                    try {\n\t                        factory = factories.get(id);\n\t                    }\n\t                    catch (err) {\n\t                        missingFactory = err;\n\t                        resolve(Promise_1.default.reject(err));\n\t                        return;\n\t                    }\n\t                    // Be sure to call the factory synchronously.\n\t                    resolve(factory());\n\t                }).catch(function (err) {\n\t                    if (missingFactory && instances.has(id)) {\n\t                        return instances.get(id);\n\t                    }\n\t                    else {\n\t                        return Promise_1.default.reject(err);\n\t                    }\n\t                }).catch(function (err) {\n\t                    if (missingFactory && _this.defaultWidgetStore) {\n\t                        // Note that errors thrown by the createCustomWidget are masked by the missingFactory error.\n\t                        return createCustomWidget(_this, id);\n\t                    }\n\t                    else {\n\t                        return Promise_1.default.reject(err);\n\t                    }\n\t                }).catch(function (err) {\n\t                    return Promise_1.default.reject(missingFactory || err);\n\t                });\n\t            },\n\t            hasWidget: function (id) {\n\t                var _a = privateStateMap.get(this), customElementFactories = _a.customElementFactories, widgetFactories = _a.widgetFactories, widgetInstances = _a.widgetInstances;\n\t                var defaultWidgetStore = this.defaultWidgetStore;\n\t                var exists = widgetFactories.has(id) || widgetInstances.has(id);\n\t                if (exists || !defaultWidgetStore) {\n\t                    return Promise_1.default.resolve(exists);\n\t                }\n\t                else {\n\t                    return defaultWidgetStore.get(id).then(function (_a) {\n\t                        var type = _a.type;\n\t                        return customElementFactories.has(type);\n\t                    });\n\t                }\n\t            },\n\t            identifyWidget: function (widget) {\n\t                return privateStateMap.get(this).instanceRegistry.identifyWidget(widget);\n\t            }\n\t        },\n\t        initialize: function (instance, _a) {\n\t            var _b = _a === void 0 ? {} : _a, defaultActionStore = _b.defaultActionStore, defaultWidgetStore = _b.defaultWidgetStore, _c = _b.toAbsMid, toAbsMid = _c === void 0 ? function (moduleId) { return moduleId; } : _c;\n\t            privateStateMap.set(instance, {\n\t                actionFactories: new IdentityRegistry_1.default(),\n\t                customElementFactories: new IdentityRegistry_1.default(),\n\t                identifiers: new Set_1.default(),\n\t                instanceRegistry: new InstanceRegistry_1.default(),\n\t                registryProvider: new RegistryProvider_1.default(instance),\n\t                resolveMid: moduleResolver_1.default(toAbsMid),\n\t                storeFactories: new IdentityRegistry_1.default(),\n\t                widgetFactories: new IdentityRegistry_1.default(),\n\t                widgetInstances: new IdentityRegistry_1.default()\n\t            });\n\t            if (defaultActionStore) {\n\t                instance.defaultActionStore = defaultActionStore;\n\t            }\n\t            if (defaultWidgetStore) {\n\t                instance.defaultWidgetStore = defaultWidgetStore;\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createApp;\n\t});\n\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(28), __webpack_require__(34), __webpack_require__(101), __webpack_require__(60), __webpack_require__(105), __webpack_require__(99), __webpack_require__(98), __webpack_require__(97), __webpack_require__(107)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var array_1 = __webpack_require__(28);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var Set_1 = __webpack_require__(101);\n\t    var Map_1 = __webpack_require__(60);\n\t    var dom_1 = __webpack_require__(105);\n\t    var projector_1 = __webpack_require__(99);\n\t    var makeIdGenerator_1 = __webpack_require__(98);\n\t    var parseJsonAttribute_1 = __webpack_require__(97);\n\t    var resolveListenersMap_1 = __webpack_require__(107);\n\t    var reservedNames = new Set_1.default([\n\t        // According to <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\n\t        'annotation-xml',\n\t        'color-profile',\n\t        'font-face',\n\t        'font-face-src',\n\t        'font-face-uri',\n\t        'font-face-format',\n\t        'font-face-name',\n\t        'missing-glyph'\n\t    ]);\n\t    // According to <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\n\t    function isValidName(name) {\n\t        if (!/^[a-z]/.test(name)) {\n\t            return false;\n\t        }\n\t        if (name.indexOf('-') === -1) {\n\t            return false;\n\t        }\n\t        if (/[A-Z]/.test(name)) {\n\t            return false;\n\t        }\n\t        if (reservedNames.has(name)) {\n\t            return false;\n\t        }\n\t        if (/^app-/.test(name)) {\n\t            return false;\n\t        }\n\t        // Assume name does not contain other invalid characters.\n\t        // TODO: Are the above rules sufficiently exclusive given the allowed PCENChar characters in the\n\t        // <https://www.w3.org/TR/custom-elements/#valid-custom-element-name> specification?\n\t        return true;\n\t    }\n\t    exports.isValidName = isValidName;\n\t    // <https://www.w3.org/TR/custom-elements/#look-up-a-custom-element-definition> doesn't define *how* names\n\t    // are to be compared. Additionally browsers and document modes differ in the case used for Element#tagName\n\t    // values. Lowercasing the name is the most compatible solution. This is also the approach taken by the\n\t    // Web Components polyfill:\n\t    // <https://github.com/webcomponents/webcomponentsjs/blob/251f4afedec0ce649728fa1cf22e4fc16bf2bea5/src/CustomElements/register.js#L93>\n\t    function normalizeName(name) {\n\t        return name.toLowerCase();\n\t    }\n\t    exports.normalizeName = normalizeName;\n\t    function isCustomElement(registry, name) {\n\t        return name === 'app-projector' || name === 'app-widget' || registry.hasCustomElementFactory(name);\n\t    }\n\t    function getCustomElementsByWidgetProjector(registry, root) {\n\t        var allElements = array_1.from(root.getElementsByTagName('*'));\n\t        allElements.unshift(root); // Be inclusive!\n\t        var customElements = [];\n\t        for (var _i = 0, allElements_1 = allElements; _i < allElements_1.length; _i++) {\n\t            var element = allElements_1[_i];\n\t            var name_1 = void 0;\n\t            var tagName = normalizeName(element.tagName);\n\t            if (isCustomElement(registry, tagName)) {\n\t                name_1 = tagName;\n\t            }\n\t            else {\n\t                var attrIs = normalizeName(element.getAttribute('is') || '');\n\t                if (attrIs !== '' && isCustomElement(registry, attrIs)) {\n\t                    name_1 = attrIs;\n\t                }\n\t            }\n\t            if (name_1) {\n\t                customElements.push({ children: [], element: element, name: name_1 });\n\t            }\n\t        }\n\t        // A list of trees, reconstructed from the `customElements`.\n\t        var widgetProjectors = [];\n\t        // Inverse stack of the nodes in the current tree. The deepest node is at the start of the list.\n\t        var inverseStack = [];\n\t        var discardFirstNode = function (element) {\n\t            if (inverseStack.length === 0) {\n\t                return false;\n\t            }\n\t            // Return `true` if the top-most element in the stack does *not* contain `element`.\n\t            return !(inverseStack[0].element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY);\n\t        };\n\t        // `customElements` is a flat list of elements, in document order. Reconstruct a tree structure where each\n\t        // root is assumed to be a widget projector.\n\t        for (var _a = 0, customElements_1 = customElements; _a < customElements_1.length; _a++) {\n\t            var custom = customElements_1[_a];\n\t            // Remove nodes from the stack that do not contain the element.\n\t            while (discardFirstNode(custom.element)) {\n\t                inverseStack.shift();\n\t            }\n\t            // Start a new tree if the element is not contained in any existing node.\n\t            if (inverseStack.length === 0) {\n\t                // Don't costruct an invalid tree.\n\t                if (custom.name !== 'app-projector') {\n\t                    throw new Error('Custom tags must be rooted in a app-projector');\n\t                }\n\t                widgetProjectors.push(custom);\n\t            }\n\t            else {\n\t                // Don't costruct an invalid tree.\n\t                if (custom.name === 'app-projector') {\n\t                    throw new Error('app-projector cannot contain another app-projector');\n\t                }\n\t                inverseStack[0].children.push(custom);\n\t            }\n\t            // Prepare for the next iteration.\n\t            inverseStack.unshift(custom);\n\t        }\n\t        return widgetProjectors;\n\t    }\n\t    function getIdFromAttributes(element) {\n\t        return element.getAttribute('data-uid') || element.getAttribute('id') || undefined;\n\t    }\n\t    function resolveListeners(registry, element) {\n\t        var str = element.getAttribute('data-listeners');\n\t        if (!str) {\n\t            return null;\n\t        }\n\t        var listeners = parseJsonAttribute_1.default('data-listeners', str);\n\t        var valid = true;\n\t        // Prefer breaking a labeled loop over nesting Array#some() calls or repeating the throwing of\n\t        // the TypeError.\n\t        check: for (var eventType in listeners) {\n\t            var value = listeners[eventType];\n\t            if (Array.isArray(value)) {\n\t                for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n\t                    var identifier = value_1[_i];\n\t                    if (typeof identifier !== 'string') {\n\t                        valid = false;\n\t                        break check;\n\t                    }\n\t                }\n\t            }\n\t            else if (typeof value !== 'string') {\n\t                valid = false;\n\t                break check;\n\t            }\n\t        }\n\t        if (!valid) {\n\t            throw new TypeError(\"Expected data-listeners to be a widget listeners map with action identifiers (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        return resolveListenersMap_1.default(registry, listeners);\n\t    }\n\t    function resolveOptions(registry, registryProvider, element, idFromAttributes) {\n\t        var str = element.getAttribute('data-options') || '';\n\t        if (!str) {\n\t            return idFromAttributes ? { id: idFromAttributes, registryProvider: registryProvider } : { registryProvider: registryProvider };\n\t        }\n\t        var json = parseJsonAttribute_1.default('data-options', str);\n\t        if ('id' in json) {\n\t            throw new Error(\"Unexpected id value in data-options (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        if ('listeners' in json) {\n\t            throw new Error(\"Unexpected listeners value in data-options (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        if ('registryProvider' in json) {\n\t            throw new Error(\"Unexpected registryProvider value in data-options (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        if ('state' in json) {\n\t            throw new Error(\"Unexpected state value in data-options (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        if ('stateFrom' in json) {\n\t            throw new Error(\"Unexpected stateFrom value in data-options (in \" + JSON.stringify(str) + \")\");\n\t        }\n\t        // Reassign, casted to the correct interface.\n\t        var options = json;\n\t        options.registryProvider = registryProvider;\n\t        if (idFromAttributes) {\n\t            options.id = idFromAttributes;\n\t        }\n\t        return options;\n\t    }\n\t    function getTransitionOptionFromProjector(element) {\n\t        if (!element.hasAttribute('data-css-transitions')) {\n\t            return false;\n\t        }\n\t        var value = element.getAttribute('data-css-transitions');\n\t        return value ? value === 'true' : true;\n\t    }\n\t    function resolveStateFromAttribute(registry, element) {\n\t        var stateFrom = element.getAttribute('data-state-from');\n\t        return stateFrom ? registry.getStore(stateFrom) : null;\n\t    }\n\t    function getInitialState(element) {\n\t        var str = element.getAttribute('data-state') || '';\n\t        if (!str) {\n\t            return null;\n\t        }\n\t        return parseJsonAttribute_1.default('data-state', str);\n\t    }\n\t    var generateId = makeIdGenerator_1.default('custom-element-');\n\t    /**\n\t     * Realizes custom elements within a root element.\n\t     *\n\t     * @param defaultWidgetStore The default widget store of the app, may be null.\n\t     * @param registerInstance Callback for registering new widget instances with the app\n\t     * @param registry Read-only registry of actions, custom element factories, stores and widgets\n\t     * @param registryProvider Registry provider, to be passed to custom element factories\n\t     * @param root The element within which custom elements are realized\n\t     *\n\t     * @return A handle to detach rendered widgets from the DOM and remove them from the widget registry\n\t     */\n\t    function realizeCustomElements(addIdentifier, registerInstance, registry, registryProvider, root, defaultWidgetStore) {\n\t        // Bottom up, breadth first queue of custom elements who's children's widgets need to be appended to\n\t        // their own widget. Combined for all widget projectors.\n\t        var appendQueue = [];\n\t        // For each projector, track the immediate custom element descendants. These placeholder\n\t        // elements will be replaced with rendered widgets.\n\t        var immediatePlaceholderLookup = new Map_1.default();\n\t        // Projector instances for each widget projector.\n\t        var projectors = [];\n\t        // Widgets that are created during realization (not registered instances).\n\t        var managedWidgets = [];\n\t        // Other handles that need to be cleaned up.\n\t        var handles = [];\n\t        // Return a new promise here so API errors can be thrown in the executor, while still resulting in a\n\t        // promise rejection.\n\t        return new Promise_1.default(function (resolve) {\n\t            // Flat list of all widgets that are being loaded.\n\t            var loadedWidgets = [];\n\t            var widgetProjectors = getCustomElementsByWidgetProjector(registry, root);\n\t            for (var _i = 0, widgetProjectors_1 = widgetProjectors; _i < widgetProjectors_1.length; _i++) {\n\t                var _a = widgetProjectors_1[_i], children = _a.children, root_1 = _a.element;\n\t                var cssTransitions = getTransitionOptionFromProjector(root_1);\n\t                var projector = projector_1.createProjector({ root: root_1, cssTransitions: cssTransitions });\n\t                immediatePlaceholderLookup.set(projector, children);\n\t                projectors.push(projector);\n\t                var projectorStateFrom = resolveStateFromAttribute(registry, root_1);\n\t                // Recursion-free, depth first processing of the tree.\n\t                var processing = [children];\n\t                while (true) {\n\t                    var next = processing.shift();\n\t                    if (!next) {\n\t                        break;\n\t                    }\n\t                    var _loop_1 = function(custom) {\n\t                        var isWidgetInstance = custom.name === 'app-widget';\n\t                        var id = getIdFromAttributes(custom.element);\n\t                        var promise = void 0;\n\t                        if (isWidgetInstance) {\n\t                            if (!id) {\n\t                                throw new Error('app-widget requires data-uid or id attribute');\n\t                            }\n\t                            promise = registry.getWidget(id);\n\t                        }\n\t                        else {\n\t                            promise = Promise_1.default.all([\n\t                                registry.getCustomElementFactory(custom.name),\n\t                                resolveListeners(registry, custom.element),\n\t                                resolveOptions(registry, registryProvider, custom.element, id),\n\t                                resolveStateFromAttribute(registry, custom.element),\n\t                                projectorStateFrom\n\t                            ]).then(function (_a) {\n\t                                var _factory = _a[0], _listeners = _a[1], _options = _a[2], _store = _a[3], projectorStore = _a[4];\n\t                                var factory = _factory;\n\t                                var listeners = _listeners;\n\t                                var options = _options;\n\t                                // `data-state-from` store of the element takes precedence, then of the projector, then\n\t                                // the application's default widget store.\n\t                                var store = _store || projectorStore || defaultWidgetStore;\n\t                                id = options.id;\n\t                                if (listeners) {\n\t                                    options.listeners = listeners;\n\t                                }\n\t                                // If the widget has an ID, and either its `data-state-from` attribute resolved to a store,\n\t                                // or there is a default store, set the stateFrom option to the `data-state-from` or default\n\t                                // widget store.\n\t                                if (id && store) {\n\t                                    options.stateFrom = store;\n\t                                    var initialState = getInitialState(custom.element);\n\t                                    if (initialState) {\n\t                                        return store.add(initialState, { id: id })\n\t                                            .catch(function () { return undefined; })\n\t                                            .then(function () { return factory(options); });\n\t                                    }\n\t                                }\n\t                                return factory(options);\n\t                            });\n\t                        }\n\t                        loadedWidgets.push(promise.then(function (widget) {\n\t                            // Store the widget for easy access.\n\t                            custom.widget = widget;\n\t                            // Widget instances come straight from the registry, but the other widgets were created\n\t                            // whilst realizing the custom elements. These should be managed.\n\t                            if (!isWidgetInstance) {\n\t                                managedWidgets.push(widget);\n\t                                // Assign a presumably unique ID if necessary. It's OK for the widget to not be aware of its\n\t                                // generated ID.\n\t                                if (!id) {\n\t                                    id = generateId();\n\t                                }\n\t                                // Belatedly ensure no other widget with this ID exists.\n\t                                handles.push(addIdentifier(id));\n\t                                // Add the instance to the various registries the app may maintain.\n\t                                try {\n\t                                    handles.push(registerInstance(widget, id));\n\t                                }\n\t                                catch (_) {\n\t                                    // registerInstance() will throw if the widget has already been registered. Throw a\n\t                                    // friendlier error message.\n\t                                    throw new Error('Cannot attach a widget multiple times');\n\t                                }\n\t                            }\n\t                            return widget;\n\t                        }));\n\t                        if (custom.children.length > 0) {\n\t                            // Ensure the children are processed.\n\t                            processing.push(custom.children);\n\t                            // Ensure the children are appended to their parent.\n\t                            appendQueue.unshift(custom);\n\t                        }\n\t                    };\n\t                    for (var _b = 0, next_1 = next; _b < next_1.length; _b++) {\n\t                        var custom = next_1[_b];\n\t                        _loop_1(custom);\n\t                    }\n\t                }\n\t            }\n\t            // Wait for all widgets to be loaded in parallel.\n\t            resolve(Promise_1.default.all(loadedWidgets));\n\t        }).then(function (widgets) {\n\t            // Guard against improper widget usage.\n\t            for (var _i = 0, widgets_1 = widgets; _i < widgets_1.length; _i++) {\n\t                var widget = widgets_1[_i];\n\t                // <any> hammer because `widget` could be anything.\n\t                if (widget.parent) {\n\t                    throw new Error('Cannot attach a widget that already has a parent');\n\t                }\n\t            }\n\t            // Build up the widget hierarchy.\n\t            for (var _a = 0, appendQueue_1 = appendQueue; _a < appendQueue_1.length; _a++) {\n\t                var custom = appendQueue_1[_a];\n\t                var widgets_2 = custom.children.map(function (child) { return child.widget; });\n\t                // Assume the widget has an append() method. Don't bother typing it since it's resolved dynamically anyway.\n\t                custom.widget.append(widgets_2);\n\t            }\n\t            // Attach all projectors at the same time.\n\t            var attachedProjectors = projectors.map(function (projector) {\n\t                var immediatePlaceholders = immediatePlaceholderLookup.get(projector);\n\t                immediatePlaceholderLookup.delete(projector);\n\t                // Append the top-level widgets to the projector.\n\t                projector.append(immediatePlaceholders.map(function (custom) { return custom.widget; }));\n\t                // Get ready to replace the placeholder elements as soon as the widgets have rendered.\n\t                var handle = projector.on('attach', function () {\n\t                    handle.destroy();\n\t                    var root = projector.root;\n\t                    // Rendered widgets start at this offset.\n\t                    var offset = root.childNodes.length - immediatePlaceholders.length;\n\t                    for (var _i = 0, immediatePlaceholders_1 = immediatePlaceholders; _i < immediatePlaceholders_1.length; _i++) {\n\t                        var placeholder = immediatePlaceholders_1[_i].element;\n\t                        dom_1.place(root.childNodes[offset], dom_1.Position.Replace, placeholder);\n\t                    }\n\t                });\n\t                // Now attach the projector.\n\t                return projector.attach({ type: 'merge' });\n\t            });\n\t            // Wait for the projectors to be attached.\n\t            return Promise_1.default.all(attachedProjectors);\n\t        }).then(function () {\n\t            return {\n\t                destroy: function () {\n\t                    for (var _i = 0, projectors_1 = projectors; _i < projectors_1.length; _i++) {\n\t                        var p = projectors_1[_i];\n\t                        p.destroy();\n\t                    }\n\t                    for (var _a = 0, managedWidgets_1 = managedWidgets; _a < managedWidgets_1.length; _a++) {\n\t                        var w = managedWidgets_1[_a];\n\t                        w.destroy();\n\t                    }\n\t                    for (var _b = 0, handles_1 = handles; _b < handles_1.length; _b++) {\n\t                        var h = handles_1[_b];\n\t                        h.destroy();\n\t                    }\n\t                }\n\t            };\n\t        });\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = realizeCustomElements;\n\t    ;\n\t});\n\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    function parseJsonAttribute(name, value) {\n\t        var object;\n\t        try {\n\t            object = JSON.parse(value);\n\t        }\n\t        catch (err) {\n\t            throw new SyntaxError(\"Invalid \" + name + \": \" + err.message + \" (in \" + JSON.stringify(value) + \")\");\n\t        }\n\t        if (!object || typeof object !== 'object') {\n\t            throw new TypeError(\"Expected object from \" + name + \" (in \" + JSON.stringify(value) + \")\");\n\t        }\n\t        return object;\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = parseJsonAttribute;\n\t});\n\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    function makeIdGenerator(prefix) {\n\t        var count = 0;\n\t        return function () { return prefix + (++count); };\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = makeIdGenerator;\n\t});\n\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(56), __webpack_require__(16), __webpack_require__(32), __webpack_require__(30), __webpack_require__(102), __webpack_require__(34), __webpack_require__(18), __webpack_require__(100), __webpack_require__(103)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var maquette_1 = __webpack_require__(56);\n\t    var compose_1 = __webpack_require__(16);\n\t    var global_1 = __webpack_require__(32);\n\t    var lang_1 = __webpack_require__(30);\n\t    var queue_1 = __webpack_require__(102);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var createVNodeEvented_1 = __webpack_require__(100);\n\t    var createParentListMixin_1 = __webpack_require__(103);\n\t    (function (ProjectorState) {\n\t        ProjectorState[ProjectorState[\"Attached\"] = 1] = \"Attached\";\n\t        ProjectorState[ProjectorState[\"Detached\"] = 2] = \"Detached\";\n\t    })(exports.ProjectorState || (exports.ProjectorState = {}));\n\t    var ProjectorState = exports.ProjectorState;\n\t    ;\n\t    var projectorDataMap = new WeakMap_1.default();\n\t    var noopHandle = { destroy: function () { } };\n\t    var emptyVNode = maquette_1.h('div');\n\t    var noopVNode = function () { return emptyVNode; };\n\t    exports.createProjector = compose_1.default({\n\t        getNodeAttributes: function (overrides) {\n\t            /* TODO: This is the same logic as createCachedRenderMixin, merge somehow */\n\t            var props = {};\n\t            for (var key in this.listeners) {\n\t                props[key] = this.listeners[key];\n\t            }\n\t            var classes = {};\n\t            if (this.classes) {\n\t                this.classes.forEach(function (c) { return classes[c] = true; });\n\t            }\n\t            props.classes = classes;\n\t            props.styles = this.styles || {};\n\t            if (overrides) {\n\t                lang_1.assign(props, overrides);\n\t            }\n\t            return props;\n\t        },\n\t        render: function () {\n\t            var projectorData = projectorDataMap.get(this);\n\t            var childVNodes = [];\n\t            this.children.forEach(function (child) {\n\t                // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t                // istanbul ignore else\n\t                if (child) {\n\t                    childVNodes.push(child.render());\n\t                }\n\t            });\n\t            var props = this.getNodeAttributes();\n\t            props.afterCreate = projectorData.afterInitialCreate;\n\t            return maquette_1.h(projectorData.tagName, props, childVNodes);\n\t        },\n\t        attach: function (_a) {\n\t            var _this = this;\n\t            var _b = _a === void 0 ? {} : _a, type = _b.type, tagName = _b.tagName;\n\t            var projectorData = projectorDataMap.get(this);\n\t            if (projectorData.state === ProjectorState.Attached) {\n\t                return projectorData.attachPromise || Promise_1.default.resolve(noopHandle);\n\t            }\n\t            projectorData.boundRender = this.render.bind(this);\n\t            if (tagName !== undefined) {\n\t                projectorData.tagName = tagName;\n\t            }\n\t            projectorData.state = ProjectorState.Attached;\n\t            projectorData.attachHandle = this.own({\n\t                destroy: function () {\n\t                    if (projectorData.state === ProjectorState.Attached) {\n\t                        projectorData.projector.stop();\n\t                        try {\n\t                            /* Sometimes Maquette can't seem to find function */\n\t                            projectorData.projector.detach(projectorData.boundRender);\n\t                        }\n\t                        catch (e) {\n\t                            if (e.message !== 'renderMaquetteFunction was not found') {\n\t                                throw e;\n\t                            }\n\t                        }\n\t                        /* for some reason, Maquette still trys to call this in some situations, so the noopVNode is\n\t                         * used to return an empty structure */\n\t                        projectorData.boundRender = noopVNode;\n\t                        projectorData.state = ProjectorState.Detached;\n\t                    }\n\t                    projectorData.attachHandle = noopHandle;\n\t                }\n\t            });\n\t            projectorData.attachPromise = new Promise_1.default(function (resolve, reject) {\n\t                projectorData.afterInitialCreate = function () {\n\t                    try {\n\t                        _this.emit({ type: 'attach' });\n\t                        resolve(projectorData.attachHandle);\n\t                    }\n\t                    catch (err) {\n\t                        reject(err);\n\t                    }\n\t                };\n\t            });\n\t            /* attaching async, in order to help ensure that if there are any other async behaviours scheduled at the end of the\n\t             * turn, they are executed before this, since the attachement is actually done in turn, but subsequent schedule\n\t             * renders are done out of turn */\n\t            queue_1.queueTask(function () {\n\t                var projector = projectorData.projector;\n\t                switch (type) {\n\t                    case 'append':\n\t                        projector.append(projectorData.root, projectorData.boundRender);\n\t                        break;\n\t                    case 'replace':\n\t                        projector.replace(projectorData.root, projectorData.boundRender);\n\t                        break;\n\t                    case 'merge':\n\t                    default:\n\t                        projector.merge(projectorData.root, projectorData.boundRender);\n\t                        break;\n\t                }\n\t            });\n\t            return projectorData.attachPromise;\n\t        },\n\t        invalidate: function () {\n\t            var projectorData = projectorDataMap.get(this);\n\t            if (projectorData.state === ProjectorState.Attached) {\n\t                this.emit({\n\t                    type: 'schedulerender',\n\t                    target: this\n\t                });\n\t                projectorData.projector.scheduleRender();\n\t            }\n\t        },\n\t        setRoot: function (root) {\n\t            var projectorData = projectorDataMap.get(this);\n\t            if (projectorData.state === ProjectorState.Attached) {\n\t                throw new Error('Projector already attached, cannot change root element');\n\t            }\n\t            projectorData.root = root;\n\t        },\n\t        get root() {\n\t            var projectorData = projectorDataMap.get(this);\n\t            return projectorData && projectorData.root;\n\t        },\n\t        get projector() {\n\t            return projectorDataMap.get(this).projector;\n\t        },\n\t        get document() {\n\t            var projectorData = projectorDataMap.get(this);\n\t            return projectorData && projectorData.root && projectorData.root.ownerDocument;\n\t        },\n\t        get state() {\n\t            var projectorData = projectorDataMap.get(this);\n\t            return projectorData && projectorData.state;\n\t        }\n\t    })\n\t        .mixin({\n\t        mixin: createVNodeEvented_1.default,\n\t        initialize: function (instance) {\n\t            /* We have to stub out listeners for Maquette, otherwise it won't allow us to change them down the road */\n\t            instance.on('touchend', function () { });\n\t            instance.on('touchmove', function () { });\n\t        }\n\t    })\n\t        .mixin({\n\t        mixin: createParentListMixin_1.default,\n\t        initialize: function (instance, _a) {\n\t            var _b = _a === void 0 ? {} : _a, _c = _b.cssTransitions, cssTransitions = _c === void 0 ? false : _c, _d = _b.autoAttach, autoAttach = _d === void 0 ? false : _d, _e = _b.root, root = _e === void 0 ? document.body : _e;\n\t            var options = {};\n\t            if (cssTransitions) {\n\t                if (global_1.default.cssTransitions) {\n\t                    options.transitions = global_1.default.cssTransitions;\n\t                }\n\t                else {\n\t                    throw new Error('Unable to create projector with css transitions enabled. Is the \\'css-transition.js\\' script loaded in the page?');\n\t                }\n\t            }\n\t            var projector = maquette_1.createProjector(options);\n\t            projectorDataMap.set(instance, {\n\t                attachHandle: noopHandle,\n\t                boundRender: noopVNode,\n\t                projector: projector,\n\t                root: root,\n\t                state: ProjectorState.Detached,\n\t                tagName: 'div'\n\t            });\n\t            if (autoAttach === true) {\n\t                instance.attach({ type: 'merge' });\n\t            }\n\t            else if (typeof autoAttach === 'string') {\n\t                instance.attach({ type: autoAttach });\n\t            }\n\t        },\n\t        aspectAdvice: {\n\t            after: {\n\t                clear: function () {\n\t                    this.invalidate();\n\t                }\n\t            }\n\t        }\n\t    });\n\t    // Projectors cannot be created outside of browser environments. Ensure that a default projector can always be\n\t    // exported, even if it can't do anything.\n\t    var createStubbedProjector = compose_1.default({\n\t        getNodeAttributes: function () {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        render: function () {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        attach: function () {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        invalidate: function () {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        setRoot: function (root) {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        get projector() {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        get root() {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        get document() {\n\t            throw new Error('Projector is stubbed');\n\t        },\n\t        get state() {\n\t            throw new Error('Projector is stubbed');\n\t        }\n\t    })\n\t        .mixin(createVNodeEvented_1.default)\n\t        .mixin(createParentListMixin_1.default);\n\t    var defaultProjector = typeof global_1.default.document === 'undefined' ?\n\t        createStubbedProjector() :\n\t        exports.createProjector();\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = defaultProjector;\n\t});\n\n\n/***/ },\n/* 100 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(66), __webpack_require__(30), __webpack_require__(64), __webpack_require__(101)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var aspect_1 = __webpack_require__(66);\n\t    var lang_1 = __webpack_require__(30);\n\t    var createEvented_1 = __webpack_require__(64);\n\t    var Set_1 = __webpack_require__(101);\n\t    var vnodeEvents = new Set_1.default([\n\t        'touchcancel',\n\t        'touchend',\n\t        'touchmove',\n\t        'touchstart',\n\t        'blur',\n\t        'change',\n\t        'click',\n\t        'dblclick',\n\t        'focus',\n\t        'input',\n\t        'keydown',\n\t        'keypress',\n\t        'keyup',\n\t        'load',\n\t        'mousedown',\n\t        'mouseenter',\n\t        'mouseleave',\n\t        'mousemove',\n\t        'mouseout',\n\t        'mouseover',\n\t        'mouseup',\n\t        'mousewheel',\n\t        'scroll',\n\t        'submit'\n\t    ]);\n\t    /**\n\t     * Internal function to convert an array of handles to a single array\n\t     *\n\t     * TODO: This is used in a couple places, maybe should migrate to a better place\n\t     *\n\t     * @params handles An array of handles\n\t     */\n\t    function handlesArraytoHandle(handles) {\n\t        return {\n\t            destroy: function () {\n\t                handles.forEach(function (handle) { return handle.destroy(); });\n\t            }\n\t        };\n\t    }\n\t    var UNINITIALIZED_LISTENERS = Object.freeze({});\n\t    var createVNodeEvented = createEvented_1.default\n\t        .mixin({\n\t        mixin: {\n\t            listeners: UNINITIALIZED_LISTENERS,\n\t            nodeAttributes: [\n\t                function () {\n\t                    return lang_1.assign({}, this.listeners);\n\t                }\n\t            ]\n\t        },\n\t        aspectAdvice: {\n\t            around: {\n\t                on: function (origFn) {\n\t                    return function () {\n\t                        var _this = this;\n\t                        var args = [];\n\t                        for (var _i = 0; _i < arguments.length; _i++) {\n\t                            args[_i - 0] = arguments[_i];\n\t                        }\n\t                        if (args.length === 2) {\n\t                            /* During initialization, sometimes the initialize functions occur out of order,\n\t                            * and Evented's initialize function could be called before this mixins, therefore\n\t                            * leaving this.listeners with an uninitiliazed value, therefore it is better to\n\t                            * determine if the value is unitialized here, ensuring that this.listeners is\n\t                            * always valid.\n\t                            */\n\t                            if (this.listeners === UNINITIALIZED_LISTENERS) {\n\t                                this.listeners = {};\n\t                            }\n\t                            var type_1;\n\t                            var listeners = void 0;\n\t                            type_1 = args[0], listeners = args[1];\n\t                            if (Array.isArray(listeners)) {\n\t                                var handles = listeners.map(function (listener) { return vnodeEvents.has(type_1) ?\n\t                                    aspect_1.on(_this.listeners, 'on' + type_1, createEvented_1.resolveListener(listener)) :\n\t                                    origFn.call(_this, type_1, listener); });\n\t                                return handlesArraytoHandle(handles);\n\t                            }\n\t                            else {\n\t                                return vnodeEvents.has(type_1) ?\n\t                                    aspect_1.on(this.listeners, 'on' + type_1, createEvented_1.resolveListener(listeners)) :\n\t                                    origFn.call(this, type_1, listeners);\n\t                            }\n\t                        }\n\t                        else if (args.length === 1) {\n\t                            var listenerMapArg_1 = args[0];\n\t                            return handlesArraytoHandle(Object.keys(listenerMapArg_1).map(function (type) { return _this.on(type, listenerMapArg_1[type]); }));\n\t                        }\n\t                        else {\n\t                            throw new TypeError('Invalid arguments');\n\t                        }\n\t                    };\n\t                },\n\t                emit: function (origFn) {\n\t                    return function (event) {\n\t                        if (vnodeEvents.has(event.type)) {\n\t                            if (this.listeners === null) {\n\t                                this.listeners = {};\n\t                            }\n\t                            var method = this.listeners['on' + event.type];\n\t                            if (method) {\n\t                                method.call(this, event);\n\t                            }\n\t                        }\n\t                        else {\n\t                            origFn.call(this, event);\n\t                        }\n\t                    };\n\t                }\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createVNodeEvented;\n\t});\n\n\n/***/ },\n/* 101 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(27), __webpack_require__(21), __webpack_require__(25), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var decorators_1 = __webpack_require__(27);\n\t    var global_1 = __webpack_require__(21);\n\t    var iterator_1 = __webpack_require__(25);\n\t    __webpack_require__(19);\n\t    var Shim;\n\t    (function (Shim) {\n\t        var Set = (function () {\n\t            function Set(iterable) {\n\t                var _this = this;\n\t                this._setData = [];\n\t                this[Symbol.toStringTag] = 'Set';\n\t                if (iterable) {\n\t                    iterator_1.forOf(iterable, function (value) { return _this.add(value); });\n\t                }\n\t            }\n\t            ;\n\t            Set.prototype.add = function (value) {\n\t                if (this.has(value)) {\n\t                    return this;\n\t                }\n\t                this._setData.push(value);\n\t                return this;\n\t            };\n\t            ;\n\t            Set.prototype.clear = function () {\n\t                this._setData.length = 0;\n\t            };\n\t            ;\n\t            Set.prototype.delete = function (value) {\n\t                var idx = this._setData.indexOf(value);\n\t                if (idx === -1) {\n\t                    return false;\n\t                }\n\t                this._setData.splice(idx, 1);\n\t                return true;\n\t            };\n\t            ;\n\t            Set.prototype.entries = function () {\n\t                return new iterator_1.ShimIterator(this._setData.map(function (value) { return [value, value]; }));\n\t            };\n\t            ;\n\t            Set.prototype.forEach = function (callbackfn, thisArg) {\n\t                var iterator = this.values();\n\t                var result = iterator.next();\n\t                while (!result.done) {\n\t                    callbackfn.call(thisArg, result.value, result.value, this);\n\t                    result = iterator.next();\n\t                }\n\t            };\n\t            ;\n\t            Set.prototype.has = function (value) {\n\t                return this._setData.indexOf(value) > -1;\n\t            };\n\t            ;\n\t            Set.prototype.keys = function () {\n\t                return new iterator_1.ShimIterator(this._setData);\n\t            };\n\t            ;\n\t            Object.defineProperty(Set.prototype, \"size\", {\n\t                get: function () {\n\t                    return this._setData.length;\n\t                },\n\t                enumerable: true,\n\t                configurable: true\n\t            });\n\t            ;\n\t            Set.prototype.values = function () {\n\t                return new iterator_1.ShimIterator(this._setData);\n\t            };\n\t            ;\n\t            Set.prototype[Symbol.iterator] = function () {\n\t                return new iterator_1.ShimIterator(this._setData);\n\t            };\n\t            ;\n\t            return Set;\n\t        }());\n\t        Shim.Set = Set;\n\t    })(Shim = exports.Shim || (exports.Shim = {}));\n\t    var Set = (function () {\n\t        /* istanbul ignore next */\n\t        function Set(iterable) {\n\t            /* istanbul ignore next */\n\t            this[Symbol.toStringTag] = 'Set';\n\t        }\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.add = function (value) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.clear = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.delete = function (value) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.entries = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.forEach = function (callbackfn, thisArg) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.has = function (value) { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.keys = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        Object.defineProperty(Set.prototype, \"size\", {\n\t            /* istanbul ignore next */\n\t            get: function () { throw new Error('Abstract method'); },\n\t            enumerable: true,\n\t            configurable: true\n\t        });\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype.values = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        /* istanbul ignore next */\n\t        Set.prototype[Symbol.iterator] = function () { throw new Error('Abstract method'); };\n\t        ;\n\t        Set = __decorate([\n\t            decorators_1.hasClass('es6-set', global_1.default.Set, Shim.Set)\n\t        ], Set);\n\t        return Set;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = Set;\n\t});\n\n\n/***/ },\n/* 102 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(32), __webpack_require__(31)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var global_1 = __webpack_require__(32);\n\t    var has_1 = __webpack_require__(31);\n\t    function executeTask(item) {\n\t        if (item && item.isActive && item.callback) {\n\t            item.callback();\n\t        }\n\t    }\n\t    function getQueueHandle(item, destructor) {\n\t        return {\n\t            destroy: function () {\n\t                this.destroy = function () { };\n\t                item.isActive = false;\n\t                item.callback = null;\n\t                if (destructor) {\n\t                    destructor();\n\t                }\n\t            }\n\t        };\n\t    }\n\t    var checkMicroTaskQueue;\n\t    var microTasks;\n\t    /**\n\t     * Schedules a callback to the macrotask queue.\n\t     *\n\t     * @param callback the function to be queued and later executed.\n\t     * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n\t     */\n\t    exports.queueTask = (function () {\n\t        var destructor;\n\t        var enqueue;\n\t        // Since the IE implementation of `setImmediate` is not flawless, we will test for `postMessage` first.\n\t        if (has_1.default('postmessage')) {\n\t            var queue_1 = [];\n\t            global_1.default.addEventListener('message', function (event) {\n\t                // Confirm that the event was triggered by the current window and by this particular implementation.\n\t                if (event.source === global_1.default && event.data === 'dojo-queue-message') {\n\t                    event.stopPropagation();\n\t                    if (queue_1.length) {\n\t                        executeTask(queue_1.shift());\n\t                    }\n\t                }\n\t            });\n\t            enqueue = function (item) {\n\t                queue_1.push(item);\n\t                global_1.default.postMessage('dojo-queue-message', '*');\n\t            };\n\t        }\n\t        else if (has_1.default('setimmediate')) {\n\t            destructor = global_1.default.clearImmediate;\n\t            enqueue = function (item) {\n\t                return setImmediate(executeTask.bind(null, item));\n\t            };\n\t        }\n\t        else {\n\t            destructor = global_1.default.clearTimeout;\n\t            enqueue = function (item) {\n\t                return setTimeout(executeTask.bind(null, item), 0);\n\t            };\n\t        }\n\t        function queueTask(callback) {\n\t            var item = {\n\t                isActive: true,\n\t                callback: callback\n\t            };\n\t            var id = enqueue(item);\n\t            return getQueueHandle(item, destructor && function () {\n\t                destructor(id);\n\t            });\n\t        }\n\t        ;\n\t        // TODO: Use aspect.before when it is available.\n\t        return has_1.default('microtasks') ? queueTask : function (callback) {\n\t            checkMicroTaskQueue();\n\t            return queueTask(callback);\n\t        };\n\t    })();\n\t    // When no mechanism for registering microtasks is exposed by the environment, microtasks will\n\t    // be queued and then executed in a single macrotask before the other macrotasks are executed.\n\t    if (!has_1.default('microtasks')) {\n\t        var isMicroTaskQueued_1 = false;\n\t        microTasks = [];\n\t        checkMicroTaskQueue = function () {\n\t            if (!isMicroTaskQueued_1) {\n\t                isMicroTaskQueued_1 = true;\n\t                exports.queueTask(function () {\n\t                    isMicroTaskQueued_1 = false;\n\t                    if (microTasks.length) {\n\t                        var item = void 0;\n\t                        while (item = microTasks.shift()) {\n\t                            executeTask(item);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        };\n\t    }\n\t    /**\n\t     * Schedules an animation task with `window.requestAnimationFrame` if it exists, or with `queueTask` otherwise.\n\t     *\n\t     * Since requestAnimationFrame's behavior does not match that expected from `queueTask`, it is not used there.\n\t     * However, at times it makes more sense to delegate to requestAnimationFrame; hence the following method.\n\t     *\n\t     * @param callback the function to be queued and later executed.\n\t     * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n\t     */\n\t    exports.queueAnimationTask = (function () {\n\t        if (!has_1.default('raf')) {\n\t            return exports.queueTask;\n\t        }\n\t        function queueAnimationTask(callback) {\n\t            var item = {\n\t                isActive: true,\n\t                callback: callback\n\t            };\n\t            var rafId = requestAnimationFrame(executeTask.bind(null, item));\n\t            return getQueueHandle(item, function () {\n\t                cancelAnimationFrame(rafId);\n\t            });\n\t        }\n\t        // TODO: Use aspect.before when it is available.\n\t        return has_1.default('microtasks') ? queueAnimationTask : function (callback) {\n\t            checkMicroTaskQueue();\n\t            return queueAnimationTask(callback);\n\t        };\n\t    })();\n\t    /**\n\t     * Schedules a callback to the microtask queue.\n\t     *\n\t     * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n\t     * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n\t     * registered with `queueTask` or `queueAnimationTask`.\n\t     *\n\t     * @param callback the function to be queued and later executed.\n\t     * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n\t     */\n\t    exports.queueMicroTask = (function () {\n\t        var enqueue;\n\t        if (has_1.default('host-node')) {\n\t            enqueue = function (item) {\n\t                global_1.default.process.nextTick(executeTask.bind(null, item));\n\t            };\n\t        }\n\t        else if (has_1.default('es6-promise')) {\n\t            enqueue = function (item) {\n\t                global_1.default.Promise.resolve(item).then(executeTask);\n\t            };\n\t        }\n\t        else if (has_1.default('dom-mutationobserver')) {\n\t            /* tslint:disable-next-line:variable-name */\n\t            var HostMutationObserver = global_1.default.MutationObserver || global_1.default.WebKitMutationObserver;\n\t            var node_1 = document.createElement('div');\n\t            var queue_2 = [];\n\t            var observer = new HostMutationObserver(function () {\n\t                while (queue_2.length > 0) {\n\t                    var item = queue_2.shift();\n\t                    if (item && item.isActive && item.callback) {\n\t                        item.callback();\n\t                    }\n\t                }\n\t            });\n\t            observer.observe(node_1, { attributes: true });\n\t            enqueue = function (item) {\n\t                queue_2.push(item);\n\t                node_1.setAttribute('queueStatus', '1');\n\t            };\n\t        }\n\t        else {\n\t            enqueue = function (item) {\n\t                checkMicroTaskQueue();\n\t                microTasks.push(item);\n\t            };\n\t        }\n\t        return function (callback) {\n\t            var item = {\n\t                isActive: true,\n\t                callback: callback\n\t            };\n\t            enqueue(item);\n\t            return getQueueHandle(item);\n\t        };\n\t    })();\n\t});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(36).setImmediate))\n\n/***/ },\n/* 103 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(64), __webpack_require__(18), __webpack_require__(53), __webpack_require__(104)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var createEvented_1 = __webpack_require__(64);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var immutable_1 = __webpack_require__(53);\n\t    var lang_1 = __webpack_require__(104);\n\t    /**\n\t     * Contains a List of children per instance\n\t     */\n\t    var childrenMap = new WeakMap_1.default();\n\t    var createParentMixin = compose_1.default({\n\t        get children() {\n\t            return childrenMap.get(this);\n\t        },\n\t        set children(value) {\n\t            var _this = this;\n\t            if (!value.equals(childrenMap.get(this))) {\n\t                value.forEach(function (widget) {\n\t                    // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t                    // istanbul ignore else\n\t                    if (widget) {\n\t                        widget.on('invalidated', function () {\n\t                            if (_this.invalidate) {\n\t                                _this.invalidate();\n\t                            }\n\t                        });\n\t                        lang_1.getRemoveHandle(_this, widget);\n\t                    }\n\t                });\n\t                childrenMap.set(this, value);\n\t                this.emit({\n\t                    type: 'childlist',\n\t                    target: this,\n\t                    children: value\n\t                });\n\t                if (this.invalidate) {\n\t                    this.invalidate();\n\t                }\n\t            }\n\t        },\n\t        append: function (child) {\n\t            this.children = Array.isArray(child) ? this.children.concat(child) : this.children.push(child);\n\t            return lang_1.getRemoveHandle(this, child);\n\t        },\n\t        clear: function () {\n\t            var children = childrenMap.get(this);\n\t            if (children) {\n\t                this.children = immutable_1.List();\n\t            }\n\t        },\n\t        insert: function (child, position, reference) {\n\t            this.children = lang_1.insertInList(childrenMap.get(this), child, position, reference);\n\t            return lang_1.getRemoveHandle(this, child);\n\t        }\n\t    })\n\t        .mixin({\n\t        mixin: createEvented_1.default,\n\t        initialize: function (instance, options) {\n\t            childrenMap.set(instance, immutable_1.List());\n\t            if (options && options.children && options.children.length) {\n\t                instance.own(instance.append(options.children));\n\t            }\n\t            instance.own({\n\t                destroy: function () {\n\t                    var children = childrenMap.get(instance);\n\t                    children.forEach(function (child) {\n\t                        // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t                        // istanbul ignore else\n\t                        if (child) {\n\t                            child.destroy();\n\t                        }\n\t                    });\n\t                }\n\t            });\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createParentMixin;\n\t});\n\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(53)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var immutable_1 = __webpack_require__(53);\n\t    function getIndex(list, item, position, reference) {\n\t        var idx;\n\t        if (typeof position === 'number') {\n\t            idx = position;\n\t            var size = Array.isArray(list) ? list.length : list.size;\n\t            if (idx < 0 || idx > size) {\n\t                throw new Error('position is out of range');\n\t            }\n\t        }\n\t        else {\n\t            switch (position) {\n\t                case 'first':\n\t                    idx = 0;\n\t                    break;\n\t                case 'last':\n\t                    idx = Array.isArray(list) ? list.length : list.size;\n\t                    break;\n\t                case 'before':\n\t                    idx = reference === undefined ? -1 : list.indexOf(reference);\n\t                    if (idx === -1) {\n\t                        throw new Error('reference not contained in this list');\n\t                    }\n\t                    break;\n\t                case 'after':\n\t                    idx = reference === undefined ? 0 : list.indexOf(reference) + 1;\n\t                    if (idx === 0) {\n\t                        throw new Error('reference not contained in this list');\n\t                    }\n\t                    break;\n\t                default:\n\t                    throw Error(\"Invalid position \\\"\" + position + \"\\\"\");\n\t            }\n\t        }\n\t        return idx;\n\t    }\n\t    function insertInList(list, item, position, reference) {\n\t        return list.insert(getIndex(list, item, position, reference), item);\n\t    }\n\t    exports.insertInList = insertInList;\n\t    function insertInArray(array, item, position, reference) {\n\t        array.splice(getIndex(array, item, position, reference), 0, item);\n\t        return array;\n\t    }\n\t    exports.insertInArray = insertInArray;\n\t    function valueReplacer(key, value) {\n\t        if (value instanceof RegExp) {\n\t            return (\"__RegExp(\" + value.toString() + \")\");\n\t        }\n\t        return value;\n\t    }\n\t    function valueReviver(key, value) {\n\t        if (value.toString().indexOf('__RegExp(') === 0) {\n\t            var _a = value.match(/__RegExp\\(([^\\)]*)\\)/), regExpStr = _a[1];\n\t            var _b = regExpStr.match(/^\\/(.*?)\\/([gimy]*)$/), regExp = _b[1], flags = _b[2];\n\t            return new RegExp(regExp, flags);\n\t        }\n\t        return value;\n\t    }\n\t    /**\n\t     * Internal function to convert a state value to a string\n\t     * @param value The value to be converted\n\t     */\n\t    function valueToString(value) {\n\t        return value\n\t            ? Array.isArray(value) || typeof value === 'object'\n\t                ? JSON.stringify(value, valueReplacer) : String(value)\n\t            : value === 0\n\t                ? '0' : value === false\n\t                ? 'false' : '';\n\t    }\n\t    exports.valueToString = valueToString;\n\t    /**\n\t     * Internal function to convert a string to the likely more complex value stored in\n\t     * state\n\t     * @param str The string to convert to a state value\n\t     */\n\t    function stringToValue(str) {\n\t        try {\n\t            var value = JSON.parse(str, valueReviver);\n\t            return value;\n\t        }\n\t        catch (e) {\n\t            if (/^(\\-|\\+)?([0-9]+(\\.[0-9]+)?|Infinity)$/.test(str)) {\n\t                return Number(str);\n\t            }\n\t            if (str) {\n\t                return str;\n\t            }\n\t            return undefined;\n\t        }\n\t    }\n\t    exports.stringToValue = stringToValue;\n\t    /**\n\t     * A type guard that deterimines if a value is an immutable List or not\n\t     */\n\t    function isList(value) {\n\t        return value instanceof immutable_1.List;\n\t    }\n\t    exports.isList = isList;\n\t    /**\n\t     * A type guard that checks to see if the value is a Child\n\t     * @param value the value to guard for\n\t     */\n\t    function isChild(value) {\n\t        return value && typeof value === 'object' && typeof value.render === 'function';\n\t    }\n\t    exports.isChild = isChild;\n\t    /**\n\t     * A utility function that generates a handle that destroys any children\n\t     * @param parent The parent that the handle relates to\n\t     * @param child The child (or array of children) that the handle relates to\n\t     */\n\t    function getRemoveHandle(parent, child) {\n\t        function getDestroyHandle(c) {\n\t            var destroyed = false;\n\t            return c.own({\n\t                destroy: function () {\n\t                    if (destroyed) {\n\t                        return;\n\t                    }\n\t                    var children = parent.children;\n\t                    if (children.includes(c)) {\n\t                        parent.children = isList(children) ? children.delete(children.lastIndexOf(c)) : children.delete(children.keyOf(c));\n\t                    }\n\t                    destroyed = true;\n\t                }\n\t            });\n\t        }\n\t        var destroyed = false;\n\t        if (Array.isArray(child)) {\n\t            var handles_1 = child.map(function (c) { return getDestroyHandle(c); });\n\t            return {\n\t                destroy: function () {\n\t                    if (destroyed) {\n\t                        return;\n\t                    }\n\t                    handles_1.forEach(function (_a) {\n\t                        var destroy = _a.destroy;\n\t                        return destroy();\n\t                    });\n\t                    destroyed = true;\n\t                }\n\t            };\n\t        }\n\t        else if (isChild(child)) {\n\t            var handle_1 = getDestroyHandle(child);\n\t            return {\n\t                destroy: function () {\n\t                    handle_1.destroy();\n\t                }\n\t            };\n\t        }\n\t        else {\n\t            var handles_2 = [];\n\t            for (var key in child) {\n\t                handles_2.push(getDestroyHandle(child[key]));\n\t            }\n\t            return {\n\t                destroy: function () {\n\t                    if (destroyed) {\n\t                        return;\n\t                    }\n\t                    handles_2.forEach(function (_a) {\n\t                        var destroy = _a.destroy;\n\t                        return destroy();\n\t                    });\n\t                    destroyed = true;\n\t                }\n\t            };\n\t        }\n\t    }\n\t    exports.getRemoveHandle = getRemoveHandle;\n\t});\n\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(106)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var has_1 = __webpack_require__(106);\n\t    /**\n\t     * Validates a token for the CSS class manipulation methods.\n\t     */\n\t    function validateToken(token) {\n\t        if (token === '') {\n\t            throw new Error('An invalid or illegal string was specified');\n\t        }\n\t        if (/\\s/.test(token)) {\n\t            throw new Error('String contains an invalid character');\n\t        }\n\t    }\n\t    /**\n\t     * Adds one or more CSS class names to an HTMLElement, without duplication.\n\t     *\n\t     * @param element The Element to which to add CSS classes\n\t     * @param classes One or more CSS class strings to add to the Element\n\t     *\n\t     * @example\n\t     * dom.addClass(document.body, 'loaded');\n\t     *\n\t     * @example\n\t     * dom.addClass(document.body, 'loaded', 'ready');\n\t     */\n\t    function addClass(element) {\n\t        var classes = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            classes[_i - 1] = arguments[_i];\n\t        }\n\t        // Cast to <any> to support multiple Element types. For more info,\n\t        // see https://github.com/Microsoft/TypeScript/issues/3220\n\t        var targetElement = element;\n\t        if (!targetElement || !classes.length) {\n\t            return;\n\t        }\n\t        var newClasses = [];\n\t        for (var _a = 0, classes_1 = classes; _a < classes_1.length; _a++) {\n\t            var className = classes_1[_a];\n\t            validateToken(className);\n\t            if (!containsClass(targetElement, className)) {\n\t                // Convert to string to match native classList implementations for values like null\n\t                newClasses.push(String(className));\n\t            }\n\t        }\n\t        if (newClasses.length) {\n\t            targetElement.className += (targetElement.className.length ? ' ' : '') + newClasses.join(' ');\n\t        }\n\t    }\n\t    exports.addClass = addClass;\n\t    /**\n\t     * Applies CSS classes to the root element if the specified has features have truthy values.\n\t     *\n\t     * @param features One or more features to test and potentially apply CSS classes based on\n\t     */\n\t    function applyFeatureClass() {\n\t        var features = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            features[_i - 0] = arguments[_i];\n\t        }\n\t        // args will be applied to addClass, so start with the element classes will be added to\n\t        var args = [document.documentElement];\n\t        for (var _a = 0, features_1 = features; _a < features_1.length; _a++) {\n\t            var feature = features_1[_a];\n\t            if (has_1.default(feature)) {\n\t                args.push('has-' + feature.replace(/\\s/g, '-'));\n\t            }\n\t        }\n\t        addClass.apply(null, args);\n\t    }\n\t    exports.applyFeatureClass = applyFeatureClass;\n\t    /**\n\t     * Retrieves an element from the document by its ID attribute.\n\t     *\n\t     * @param id ID to match in the DOM\n\t     * @return the element with a matching ID attribute if found, otherwise null\n\t     *\n\t     * @example\n\t     * let element = dom.byId('anElement');\n\t     */\n\t    function byId(id) {\n\t        return document.getElementById(id);\n\t    }\n\t    exports.byId = byId;\n\t    /**\n\t     * Indicates whether the given parent contains the given node.\n\t     * @param parent The parent node to check within\n\t     * @param node The node to test whether parent is its ancestor\n\t     * @return `true` if parent contains node, `false` otherwise\n\t     */\n\t    function contains(parent, node) {\n\t        // While modern browsers do support parent.contains, some support it only on HTML elements,\n\t        // and IE has a known bug involving passing a text node as the argument:\n\t        // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n\t        // Meanwhile, compareDocumentPosition works in all supported browsers.\n\t        if (node == null) {\n\t            return false;\n\t        }\n\t        if (parent === node) {\n\t            return true;\n\t        }\n\t        return Boolean(node.compareDocumentPosition(parent) & Node.DOCUMENT_POSITION_CONTAINS);\n\t    }\n\t    exports.contains = contains;\n\t    /*\n\t     * Creates an Element.\n\t     *\n\t     * @param tagName Type of Element to create\n\t     * @param kwArgs An object containing properties to add to the Element.\n\t     *               If an \"attributes\" property is present, each member of this sub-object will be added to the Element\n\t     *               via element.setAttribute\n\t     * @param children An array of Nodes or strings, the latter of which will be converted to Text nodes\n\t     * @return The created Element, with any passed properties/attributes applied\n\t     *\n\t     * @example\n\t     * let div = dom.create('div', { className: 'loaded', attributes: { 'data-index': '1' } });\n\t     *\n\t     * @example\n\t     * let div = dom.create('ul', null, [ dom.create('li'), dom.create('li') ]);\n\t     *\n\t     * @example\n\t     * let div = dom.create('div', null, [ 'hello', ' ', 'world' ]);\n\t     */\n\t    exports.create = function (tagName, kwArgs, children) {\n\t        var element = document.createElement(tagName);\n\t        if (children) {\n\t            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n\t                var child = children_1[_i];\n\t                if (typeof child === 'string') {\n\t                    child = document.createTextNode(child);\n\t                }\n\t                element.appendChild(child);\n\t            }\n\t        }\n\t        if (kwArgs) {\n\t            for (var property in kwArgs) {\n\t                if (property === 'attributes') {\n\t                    if (kwArgs.attributes) {\n\t                        for (var attribute in kwArgs.attributes) {\n\t                            element.setAttribute(attribute, kwArgs.attributes[attribute]);\n\t                        }\n\t                    }\n\t                }\n\t                else {\n\t                    element[property] = kwArgs[property];\n\t                }\n\t            }\n\t        }\n\t        return element;\n\t    };\n\t    // Tag trees for element creation, used by fromString\n\t    var tagWrap = {\n\t        caption: ['table'],\n\t        col: ['table', 'colgroup'],\n\t        colgroup: ['table'],\n\t        optgroup: ['select'],\n\t        option: ['select'],\n\t        rp: ['ruby'],\n\t        rt: ['ruby'],\n\t        rtc: ['ruby'],\n\t        source: ['audio'],\n\t        tbody: ['table'],\n\t        td: ['table', 'tbody', 'tr'],\n\t        tfoot: ['table'],\n\t        th: ['table', 'thead', 'tr'],\n\t        thead: ['table'],\n\t        tr: ['table', 'tbody']\n\t    };\n\t    for (var param in tagWrap) {\n\t        var tw = tagWrap[param];\n\t        tw.pre = param === 'option' ? '<select multiple=\"multiple\">' : '<' + tw.join('><') + '>';\n\t        tw.post = '</' + tw.reverse().join('></') + '>';\n\t    }\n\t    /**\n\t     * Determines whether an HTMLElement has a given CSS class name.\n\t     *\n\t     * @param element The Element to check for a CSS class\n\t     * @param className The CSS class name to check for\n\t     *\n\t     * @example\n\t     * let hasLoaded = dom.containsClass(document.body, 'loaded');\n\t     */\n\t    function containsClass(element, className) {\n\t        var targetElement = element;\n\t        if (!targetElement) {\n\t            return;\n\t        }\n\t        validateToken(className);\n\t        var targetClass = ' ' + targetElement.className + ' ';\n\t        return targetClass.indexOf(' ' + className + ' ') > -1;\n\t    }\n\t    exports.containsClass = containsClass;\n\t    /**\n\t     * Creates a DocumentFragment from a string.\n\t     *\n\t     * @param html string representation of nodes to create\n\t     * @return DocumentFragment containing childNodes based on html string\n\t     *\n\t     * @example\n\t     * let fragment = dom.fromString('<div></div>');\n\t     *\n\t     * @example\n\t     * let fragment = dom.fromString('<div></div><span></span>');\n\t     *\n\t     * @example\n\t     * let fragment = dom.fromString('<tr>');\n\t     */\n\t    function fromString(html) {\n\t        var fragment;\n\t        var useContextualFragment = has_1.default('dom-contextual-fragment');\n\t        var master = document.createElement('div');\n\t        var match = String(html).match(/<\\s*([\\w\\:]+)/);\n\t        var tag = match ? match[1].toLowerCase() : '';\n\t        function unwrapElement(element, levels) {\n\t            for (var i = 0; i < levels; i++) {\n\t                element = element.firstChild;\n\t            }\n\t            return element;\n\t        }\n\t        if (useContextualFragment) {\n\t            master.style.display = 'none';\n\t            document.body.appendChild(master);\n\t            var range = document.createRange();\n\t            range.selectNode(master);\n\t            if (match && tagWrap[tag]) {\n\t                var wrap = tagWrap[tag];\n\t                var wrappedHTML = wrap.pre + html + wrap.post;\n\t                fragment = range.createContextualFragment(wrappedHTML);\n\t                fragment = unwrapElement(fragment, wrap.length);\n\t            }\n\t            else {\n\t                fragment = range.createContextualFragment(html);\n\t            }\n\t        }\n\t        else {\n\t            if (match && tagWrap[tag]) {\n\t                var wrap = tagWrap[tag];\n\t                var wrappedHTML = wrap.pre + html + wrap.post;\n\t                master.innerHTML = wrappedHTML;\n\t                master = unwrapElement(master, wrap.length);\n\t            }\n\t            else {\n\t                master.innerHTML = html;\n\t            }\n\t            fragment = document.createDocumentFragment();\n\t            var firstChild = void 0;\n\t            while (firstChild = master.firstChild) {\n\t                fragment.appendChild(firstChild);\n\t            }\n\t        }\n\t        return fragment;\n\t    }\n\t    exports.fromString = fromString;\n\t    /*\n\t     * Positions used with the place API for node placement.\n\t     */\n\t    (function (Position) {\n\t        Position[Position[\"After\"] = 0] = \"After\";\n\t        Position[Position[\"Before\"] = 1] = \"Before\";\n\t        Position[Position[\"FirstIn\"] = 2] = \"FirstIn\";\n\t        Position[Position[\"LastIn\"] = 3] = \"LastIn\";\n\t        Position[Position[\"Replace\"] = 4] = \"Replace\";\n\t    })(exports.Position || (exports.Position = {}));\n\t    var Position = exports.Position;\n\t    /**\n\t     * Places a node in the DOM relative to another node.\n\t     *\n\t     * @param node The node to place in the DOM\n\t     * @param position The position to place the node, relative to relativeElement\n\t     * @param relativeElement The node to use as a reference when placing\n\t     *\n\t     * @example\n\t     * dom.place(node, dom.Position.After, anotherNode);\n\t     */\n\t    function place(node, position, relativeElement) {\n\t        var parent;\n\t        if (position === Position.After || position === Position.Before || position === Position.Replace) {\n\t            parent = relativeElement.parentNode;\n\t            if (!parent) {\n\t                throw new ReferenceError('dom.place: Reference node must have a parent to determine placement');\n\t            }\n\t            if (position === Position.After) {\n\t                if (parent.lastChild === relativeElement) {\n\t                    parent.appendChild(node);\n\t                }\n\t                else {\n\t                    parent.insertBefore(node, relativeElement.nextSibling);\n\t                }\n\t            }\n\t            else if (position === Position.Before) {\n\t                parent.insertBefore(node, relativeElement);\n\t            }\n\t            else if (position === Position.Replace) {\n\t                parent.replaceChild(node, relativeElement);\n\t            }\n\t        }\n\t        else if (position === Position.FirstIn) {\n\t            relativeElement.insertBefore(node, relativeElement.firstChild);\n\t        }\n\t        else {\n\t            // LastIn\n\t            relativeElement.appendChild(node);\n\t        }\n\t    }\n\t    exports.place = place;\n\t    /**\n\t     * Removes a node from the DOM.\n\t     *\n\t     * @param node The node to remove\n\t     */\n\t    function remove(node) {\n\t        if (node.parentNode) {\n\t            node.parentNode.removeChild(node);\n\t        }\n\t    }\n\t    exports.remove = remove;\n\t    /**\n\t     * Removes all instances of one ore more CSS class names from an HTMLElement.\n\t     *\n\t     * @param element The Element from which to remove CSS classes\n\t     * @param classes An array of string CSS classes to remove from the Element\n\t     *\n\t     * @example\n\t     * dom.removeClass(document.body, 'loading');\n\t     *\n\t     * @example\n\t     * dom.removeClass(document.body, 'loading', 'pending');\n\t     */\n\t    function removeClass(element) {\n\t        var classes = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            classes[_i - 1] = arguments[_i];\n\t        }\n\t        var targetElement = element;\n\t        if (!targetElement) {\n\t            return;\n\t        }\n\t        var oldClasses = targetElement.className.split(/\\s+/);\n\t        var length = oldClasses.length;\n\t        for (var _a = 0, classes_2 = classes; _a < classes_2.length; _a++) {\n\t            var className = classes_2[_a];\n\t            className = String(className);\n\t            validateToken(className);\n\t            var index = oldClasses.indexOf(className);\n\t            while (index !== -1) {\n\t                oldClasses.splice(index, 1);\n\t                index = oldClasses.indexOf(className);\n\t            }\n\t        }\n\t        if (oldClasses.length < length) {\n\t            targetElement.className = oldClasses.join(' ');\n\t        }\n\t    }\n\t    exports.removeClass = removeClass;\n\t    /**\n\t     * Toggles the presence of a CSS class name on an HTMLElement. An optional\n\t     * second parameter can be used to force class addition or removal.\n\t     *\n\t     * @param element The Element to add or remove classes to or from\n\t     * @param className The CSS class name add or remove\n\t     * @param force Forces either class addition if true or class removal if false\n\t     *\n\t     * @example\n\t     * dom.toggleClass(button, 'active');\n\t     *\n\t     * @example\n\t     * dom.toggleClass(button, 'active', isActive);\n\t     */\n\t    function toggleClass(element, className, force) {\n\t        if (force === void 0) { force = !containsClass(element, className); }\n\t        var func = force ? addClass : removeClass;\n\t        func(element, className);\n\t        return force;\n\t    }\n\t    exports.toggleClass = toggleClass;\n\t});\n\n\n/***/ },\n/* 106 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(31), __webpack_require__(31), __webpack_require__(31)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    var has_1 = __webpack_require__(31);\n\t    has_1.add('dom-element-matches', function () {\n\t        var node = document.body;\n\t        // TS typings include the vendor-prefixed methods used here, but not the standard\n\t        if (typeof node.matches === 'function') {\n\t            return 'matches';\n\t        }\n\t        if (typeof node.msMatchesSelector === 'function') {\n\t            return 'msMatchesSelector';\n\t        }\n\t        if (typeof node.webkitMatchesSelector === 'function') {\n\t            return 'webkitMatchesSelector';\n\t        }\n\t    });\n\t    has_1.add('dom-contextual-fragment', function () {\n\t        return Boolean(Range && Range.prototype.createContextualFragment);\n\t    });\n\t    var has_2 = __webpack_require__(31);\n\t    exports.default = has_2.default;\n\t    __export(__webpack_require__(31));\n\t});\n\n\n/***/ },\n/* 107 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(34)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var Promise_1 = __webpack_require__(34);\n\t    function carriesValue(result) {\n\t        return result[0] !== undefined;\n\t    }\n\t    function withoutPromises(mixed) {\n\t        return mixed.containsPromises !== true;\n\t    }\n\t    function resolveListeners(registry, ref) {\n\t        if (Array.isArray(ref)) {\n\t            var mixed = [];\n\t            for (var _i = 0, ref_1 = ref; _i < ref_1.length; _i++) {\n\t                var item = ref_1[_i];\n\t                var result = resolveListeners(registry, item);\n\t                if (carriesValue(result)) {\n\t                    mixed.push(result[0]);\n\t                }\n\t                else {\n\t                    mixed.containsPromises = true;\n\t                    mixed.push(result[1]);\n\t                }\n\t            }\n\t            var flattened_1 = [];\n\t            if (withoutPromises(mixed)) {\n\t                return [flattened_1.concat.apply(flattened_1, mixed), undefined];\n\t            }\n\t            return [\n\t                undefined,\n\t                Promise_1.default.all(mixed)\n\t                    .then(function (results) { return flattened_1.concat.apply(flattened_1, results); })\n\t            ];\n\t        }\n\t        if (typeof ref !== 'string') {\n\t            return [[ref], undefined];\n\t        }\n\t        return [\n\t            undefined,\n\t            registry.getAction(ref).then(function (action) { return [action]; })\n\t        ];\n\t    }\n\t    function resolveListenersMap(registry, listeners) {\n\t        if (!listeners) {\n\t            return null;\n\t        }\n\t        var map = {};\n\t        var eventTypes = Object.keys(listeners);\n\t        return eventTypes.reduce(function (promise, eventType) {\n\t            var result = resolveListeners(registry, listeners[eventType]);\n\t            if (carriesValue(result)) {\n\t                var arr = result[0];\n\t                map[eventType] = arr.length > 1 ? arr : arr[0];\n\t                return promise;\n\t            }\n\t            return result[1].then(function (arr) {\n\t                map[eventType] = arr.length > 1 ? arr : arr[0];\n\t                return promise;\n\t            });\n\t        }, Promise_1.default.resolve(map));\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = resolveListenersMap;\n\t});\n\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(34), __webpack_require__(19)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var Promise_1 = __webpack_require__(34);\n\t    var Symbol_1 = __webpack_require__(19);\n\t    /**\n\t     * Special value that can be provided to the module resolver, indicating it should resolve the module contents, not\n\t     * just a particular export.\n\t     */\n\t    exports.RESOLVE_CONTENTS = Symbol_1.default();\n\t    /**\n\t     * Creates a module resolver.\n\t     *\n\t     * @param toAbsMid Function to resolve relative module identifiers\n\t     * @return The resolver function\n\t     */\n\t    function makeResolver(toAbsMid) {\n\t        return function resolveMid(mid, member) {\n\t            if (member === void 0) { member = 'default'; }\n\t            return new Promise_1.default(function (resolve) {\n\t                // Assumes require() is an AMD loader!\n\t                __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [!(function webpackMissingModule() { var e = new Error(\"Cannot find module \\\".\\\"\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t            })\n\t                .then(function (module) {\n\t                if (member === 'default') {\n\t                    return module.__esModule ? module.default : module;\n\t                }\n\t                else if (member === exports.RESOLVE_CONTENTS) {\n\t                    var contents = {};\n\t                    for (var _i = 0, _a = Object.keys(module); _i < _a.length; _i++) {\n\t                        var member_1 = _a[_i];\n\t                        if (member_1 !== '__esModule' && member_1 !== 'default') {\n\t                            contents[member_1] = module[member_1];\n\t                        }\n\t                    }\n\t                    return contents;\n\t                }\n\t                else {\n\t                    return module[member];\n\t                }\n\t            });\n\t        };\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = makeResolver;\n\t});\n\n\n/***/ },\n/* 109 */,\n/* 110 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(18)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var Type;\n\t    (function (Type) {\n\t        Type[Type[\"Action\"] = 0] = \"Action\";\n\t        Type[Type[\"Store\"] = 1] = \"Store\";\n\t        Type[Type[\"Widget\"] = 2] = \"Widget\";\n\t    })(Type || (Type = {}));\n\t    ;\n\t    var errorStrings = (_a = {},\n\t        _a[Type.Action] = 'action',\n\t        _a[Type.Store] = 'store',\n\t        _a[Type.Widget] = 'widget',\n\t        _a\n\t    );\n\t    var InstanceRegistry = (function () {\n\t        function InstanceRegistry() {\n\t            this.map = new WeakMap_1.default();\n\t        }\n\t        InstanceRegistry.prototype.addAction = function (action, id) {\n\t            return this.add(action, id, Type.Action);\n\t        };\n\t        InstanceRegistry.prototype.identifyAction = function (action) {\n\t            return this.identify(action, Type.Action);\n\t        };\n\t        InstanceRegistry.prototype.addStore = function (store, id) {\n\t            return this.add(store, id, Type.Store);\n\t        };\n\t        InstanceRegistry.prototype.identifyStore = function (store) {\n\t            return this.identify(store, Type.Store);\n\t        };\n\t        InstanceRegistry.prototype.addWidget = function (widget, id) {\n\t            return this.add(widget, id, Type.Widget);\n\t        };\n\t        InstanceRegistry.prototype.identifyWidget = function (widget) {\n\t            return this.identify(widget, Type.Widget);\n\t        };\n\t        InstanceRegistry.prototype.add = function (instance, id, type) {\n\t            var _this = this;\n\t            if (this.map.has(instance)) {\n\t                var existing = this.map.get(instance);\n\t                throw new Error(\"Could not add \" + errorStrings[type] + \", already registered as \" + errorStrings[existing.type] + \" with identity \" + existing.id);\n\t            }\n\t            this.map.set(instance, { id: id, type: type });\n\t            var handle = {\n\t                destroy: function () {\n\t                    _this.map.delete(instance);\n\t                }\n\t            };\n\t            return handle;\n\t        };\n\t        InstanceRegistry.prototype.identify = function (instance, expectedType) {\n\t            if (!this.map.has(instance)) {\n\t                throw new Error(\"Could not identify \" + errorStrings[expectedType]);\n\t            }\n\t            var _a = this.map.get(instance), id = _a.id, type = _a.type;\n\t            if (type !== expectedType) {\n\t                throw new Error(\"Could not identify \" + errorStrings[expectedType]);\n\t            }\n\t            return id;\n\t        };\n\t        return InstanceRegistry;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = InstanceRegistry;\n\t    var _a;\n\t});\n\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(30), __webpack_require__(34), __webpack_require__(107)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var lang_1 = __webpack_require__(30);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var resolveListenersMap_1 = __webpack_require__(107);\n\t    function resolveStore(registry, definition) {\n\t        var stateFrom = definition.stateFrom;\n\t        if (!stateFrom) {\n\t            return null;\n\t        }\n\t        if (typeof stateFrom !== 'string') {\n\t            return stateFrom;\n\t        }\n\t        return registry.getStore(stateFrom);\n\t    }\n\t    var errorStrings = {\n\t        action: 'an action',\n\t        customElement: 'a widget',\n\t        store: 'a store',\n\t        widget: 'a widget'\n\t    };\n\t    function isInstance(value) {\n\t        return value && typeof value === 'object';\n\t    }\n\t    function resolveFactory(type, definition, resolveMid) {\n\t        var _a = definition, factory = _a.factory, instance = _a.instance;\n\t        if (typeof factory === 'function') {\n\t            return Promise_1.default.resolve(factory);\n\t        }\n\t        else if (isInstance(instance)) {\n\t            // Cast to Factory since TypeScript gets confused with the overloaded Factory types that can return promises.\n\t            var factory_1 = (function () { return instance; });\n\t            return Promise_1.default.resolve(factory_1);\n\t        }\n\t        else {\n\t            return new Promise_1.default(function (resolve, reject) {\n\t                if (instance) {\n\t                    resolveMid(instance)\n\t                        .then(function (defaultExport) {\n\t                        if (!defaultExport || typeof defaultExport !== 'object') {\n\t                            reject(new Error(\"Could not resolve '\" + instance + \"' to \" + errorStrings[type] + \" instance\"));\n\t                        }\n\t                        else {\n\t                            resolve(function () { return defaultExport; });\n\t                        }\n\t                    })\n\t                        .catch(reject);\n\t                }\n\t                else {\n\t                    // Calling code ensures that factory at this point is a string, even though TypeScript can't infer that.\n\t                    resolveMid(factory)\n\t                        .then(function (defaultExport) {\n\t                        if (typeof defaultExport !== 'function') {\n\t                            reject(new Error(\"Could not resolve '\" + factory + \"' to \" + errorStrings[type] + \" factory function\"));\n\t                        }\n\t                        else {\n\t                            resolve(defaultExport);\n\t                        }\n\t                    })\n\t                        .catch(reject);\n\t                }\n\t            });\n\t        }\n\t    }\n\t    function makeActionFactory(definition, resolveMid, registry) {\n\t        if (!('factory' in definition || 'instance' in definition)) {\n\t            throw new TypeError('Action definitions must specify either the factory or instance option');\n\t        }\n\t        if ('instance' in definition) {\n\t            if ('state' in definition) {\n\t                throw new TypeError('Cannot specify state option when action definition points directly at an instance');\n\t            }\n\t            if ('stateFrom' in definition) {\n\t                throw new TypeError('Cannot specify stateFrom option when action definition points directly at an instance');\n\t            }\n\t        }\n\t        var id = definition.id, initialState = definition.state;\n\t        return function (_a) {\n\t            var registryProvider = _a.registryProvider, defaultActionStore = _a.stateFrom;\n\t            return Promise_1.default.all([\n\t                resolveFactory('action', definition, resolveMid),\n\t                resolveStore(registry, definition)\n\t            ]).then(function (_a) {\n\t                var _factory = _a[0], _store = _a[1];\n\t                var factory = _factory;\n\t                var store = _store || defaultActionStore;\n\t                var options = { registryProvider: registryProvider, stateFrom: store };\n\t                if (store && initialState) {\n\t                    return store.add(initialState, { id: id })\n\t                        .catch(function () { })\n\t                        .then(function () { return factory(options); });\n\t                }\n\t                return factory(options);\n\t            });\n\t        };\n\t    }\n\t    exports.makeActionFactory = makeActionFactory;\n\t    function makeCustomElementFactory(definition, resolveMid) {\n\t        var promise = null;\n\t        var factory;\n\t        return function (options) {\n\t            if (factory) {\n\t                return factory(options);\n\t            }\n\t            if (!promise) {\n\t                // Memoize the factory resolution.\n\t                promise = resolveFactory('customElement', definition, resolveMid).then(function (result) {\n\t                    factory = result;\n\t                    promise = null;\n\t                });\n\t            }\n\t            return promise.then(function () {\n\t                return factory(options);\n\t            });\n\t        };\n\t    }\n\t    exports.makeCustomElementFactory = makeCustomElementFactory;\n\t    function makeStoreFactory(definition, resolveMid) {\n\t        if (!('factory' in definition || 'instance' in definition)) {\n\t            throw new TypeError('Store definitions must specify either the factory or instance option');\n\t        }\n\t        if ('instance' in definition && 'options' in definition) {\n\t            throw new TypeError('Cannot specify options when store definition points directly at an instance');\n\t        }\n\t        var options = lang_1.assign({}, definition.options);\n\t        return function () {\n\t            return resolveFactory('store', definition, resolveMid).then(function (factory) {\n\t                return factory(options);\n\t            });\n\t        };\n\t    }\n\t    exports.makeStoreFactory = makeStoreFactory;\n\t    function makeWidgetFactory(definition, resolveMid, registry) {\n\t        if (!('factory' in definition || 'instance' in definition)) {\n\t            throw new TypeError('Widget definitions must specify either the factory or instance option');\n\t        }\n\t        if ('instance' in definition) {\n\t            if ('listeners' in definition) {\n\t                throw new TypeError('Cannot specify listeners option when widget definition points directly at an instance');\n\t            }\n\t            if ('state' in definition) {\n\t                throw new TypeError('Cannot specify state option when widget definition points directly at an instance');\n\t            }\n\t            if ('stateFrom' in definition) {\n\t                throw new TypeError('Cannot specify stateFrom option when widget definition points directly at an instance');\n\t            }\n\t            if ('options' in definition) {\n\t                throw new TypeError('Cannot specify options when widget definition points directly at an instance');\n\t            }\n\t        }\n\t        var rawOptions = definition.options;\n\t        if (rawOptions) {\n\t            if ('id' in rawOptions || 'listeners' in rawOptions || 'stateFrom' in rawOptions) {\n\t                throw new TypeError('id, listeners and stateFrom options should be in the widget definition itself, not its options value');\n\t            }\n\t            if ('registryProvider' in rawOptions) {\n\t                throw new TypeError('registryProvider option must not be specified');\n\t            }\n\t        }\n\t        return function (_a) {\n\t            var registryProvider = _a.registryProvider, defaultWidgetStore = _a.stateFrom;\n\t            var id = definition.id, initialState = definition.state;\n\t            var options = lang_1.assign({\n\t                id: id,\n\t                registryProvider: registryProvider\n\t            }, rawOptions);\n\t            return Promise_1.default.all([\n\t                resolveFactory('widget', definition, resolveMid),\n\t                resolveListenersMap_1.default(registry, definition.listeners),\n\t                resolveStore(registry, definition)\n\t            ]).then(function (_a) {\n\t                var _factory = _a[0], _listeners = _a[1], _store = _a[2];\n\t                var factory = _factory;\n\t                var listeners = _listeners;\n\t                var store = _store || defaultWidgetStore;\n\t                if (listeners) {\n\t                    options.listeners = listeners;\n\t                }\n\t                if (store) {\n\t                    options.stateFrom = store;\n\t                }\n\t                if (store && initialState) {\n\t                    return store.add(initialState, { id: id })\n\t                        .catch(function () { return undefined; })\n\t                        .then(function () { return factory(options); });\n\t                }\n\t                return factory(options);\n\t            });\n\t        };\n\t    }\n\t    exports.makeWidgetFactory = makeWidgetFactory;\n\t});\n\n\n/***/ },\n/* 112 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(105), __webpack_require__(28), __webpack_require__(34), __webpack_require__(101), __webpack_require__(108), __webpack_require__(97)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var dom_1 = __webpack_require__(105);\n\t    var array_1 = __webpack_require__(28);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var Set_1 = __webpack_require__(101);\n\t    var moduleResolver_1 = __webpack_require__(108);\n\t    var parseJsonAttribute_1 = __webpack_require__(97);\n\t    function isFactoryResolver(resolver) {\n\t        return resolver.factory;\n\t    }\n\t    function get(element, name) {\n\t        var value = element.getAttribute(name);\n\t        return value === null ? undefined : value;\n\t    }\n\t    var TAG_NAMES = new Set_1.default(['app-action', 'app-actions', 'app-element', 'app-store', 'app-widget']);\n\t    var parsers = {\n\t        action: function (element) {\n\t            var id = get(element, 'data-uid') || get(element, 'id');\n\t            var factory = get(element, 'data-factory');\n\t            var from = get(element, 'data-from');\n\t            var importName = get(element, 'data-import');\n\t            var stateFrom = get(element, 'data-state-from');\n\t            var stateJson = get(element, 'data-state');\n\t            if (factory && !id) {\n\t                throw new Error('app-action requires data-uid or id attribute if data-factory is given');\n\t            }\n\t            if (!factory && !from) {\n\t                throw new Error('app-action requires data-from attribute if data-factory is not given');\n\t            }\n\t            if (factory && from) {\n\t                throw new Error('app-action cannot be used with both data-from and data-factory attributes');\n\t            }\n\t            if (stateFrom && !factory) {\n\t                throw new Error('app-action requires data-factory attribute if data-state-from is given');\n\t            }\n\t            if (stateJson && !factory) {\n\t                throw new Error('app-action requires data-factory attribute if data-state is given');\n\t            }\n\t            if (from && !id) {\n\t                if (importName) {\n\t                    id = importName;\n\t                }\n\t                else {\n\t                    id = from.split('/').pop();\n\t                }\n\t            }\n\t            if (!id) {\n\t                throw new Error(\"Could not determine ID for app-action (from=\" + from + \" and import=\" + importName + \")\");\n\t            }\n\t            var resolver = factory ? { factory: factory } : { from: from, importName: importName };\n\t            var state = stateJson ? parseJsonAttribute_1.default('data-state', stateJson) : undefined;\n\t            return {\n\t                element: element,\n\t                id: id,\n\t                resolver: resolver,\n\t                state: state,\n\t                stateFrom: stateFrom,\n\t                type: 'action'\n\t            };\n\t        },\n\t        actions: function (element) {\n\t            var from = get(element, 'data-from');\n\t            if (!from) {\n\t                throw new Error('app-actions requires data-from attribute');\n\t            }\n\t            return {\n\t                element: element,\n\t                from: from,\n\t                type: 'multiple-actions'\n\t            };\n\t        },\n\t        element: function (element) {\n\t            var factory = get(element, 'data-factory');\n\t            var name = get(element, 'data-name');\n\t            if (!factory) {\n\t                throw new Error('app-element requires data-factory');\n\t            }\n\t            if (!name) {\n\t                throw new Error('app-element requires data-name');\n\t            }\n\t            return {\n\t                element: element,\n\t                factory: factory,\n\t                name: name,\n\t                type: 'element'\n\t            };\n\t        },\n\t        store: function (element) {\n\t            var id = get(element, 'data-uid') || get(element, 'id');\n\t            var factory = get(element, 'data-factory');\n\t            var from = get(element, 'data-from');\n\t            var importName = get(element, 'data-import');\n\t            var type = get(element, 'data-type');\n\t            var optionsJson = get(element, 'data-options');\n\t            if (factory && !id && !type) {\n\t                throw new Error('app-store requires data-uid, id or data-type attribute if data-factory is given');\n\t            }\n\t            if (!factory && !from) {\n\t                throw new Error('app-store requires data-from attribute if data-factory is not given');\n\t            }\n\t            if (factory && from) {\n\t                throw new Error('app-store cannot be used with both data-from and data-factory attributes');\n\t            }\n\t            if (type && id) {\n\t                throw new Error('data-type attribute must not be provided if app-store has data-uid or id attribute');\n\t            }\n\t            if (type && type !== 'action' && type !== 'widget') {\n\t                throw new Error('data-type attribute of app-store must have a value of \\'action\\' or \\'widget\\'');\n\t            }\n\t            if (optionsJson && !factory) {\n\t                throw new Error('app-store requires data-factory attribute if data-options is given');\n\t            }\n\t            if (from && !type && !id) {\n\t                if (importName) {\n\t                    id = importName;\n\t                }\n\t                else {\n\t                    id = from.split('/').pop();\n\t                }\n\t            }\n\t            if (!type && !id) {\n\t                throw new Error(\"Could not determine ID for app-store (from=\" + from + \" and import=\" + importName + \")\");\n\t            }\n\t            var options = optionsJson ? parseJsonAttribute_1.default('data-options', optionsJson) : undefined;\n\t            var resolver = factory ? { factory: factory } : { from: from, importName: importName };\n\t            var isDefault = Boolean(type);\n\t            if (isDefault) {\n\t                id = type;\n\t            }\n\t            return {\n\t                id: id,\n\t                isDefault: isDefault,\n\t                element: element,\n\t                options: options,\n\t                resolver: resolver,\n\t                type: 'store'\n\t            };\n\t        },\n\t        widget: function (element) {\n\t            var id = get(element, 'data-uid') || get(element, 'id');\n\t            var factory = get(element, 'data-factory');\n\t            var from = get(element, 'data-from');\n\t            var importName = get(element, 'data-import');\n\t            var listenersJson = get(element, 'data-listeners');\n\t            var optionsJson = get(element, 'data-options');\n\t            var stateFrom = get(element, 'data-state-from');\n\t            var stateJson = get(element, 'data-state');\n\t            if (stateFrom && !factory) {\n\t                throw new Error('app-widget requires data-factory attribute if data-state-from is given');\n\t            }\n\t            if (listenersJson && !factory) {\n\t                throw new Error('app-widget requires data-factory attribute if data-listeners is given');\n\t            }\n\t            if (optionsJson && !factory) {\n\t                throw new Error('app-widget requires data-factory attribute if data-options is given');\n\t            }\n\t            if (stateJson && !factory) {\n\t                throw new Error('app-widget requires data-factory attribute if data-state is given');\n\t            }\n\t            // Without factory or from, assume the widget has already been defined elsewhere.\n\t            if (!factory && !from) {\n\t                return null;\n\t            }\n\t            if (factory && from) {\n\t                throw new Error('app-widget cannot be used with both data-from and data-factory attributes');\n\t            }\n\t            if (factory && !id) {\n\t                throw new Error('app-widget requires data-uid or id attribute if data-factory is given');\n\t            }\n\t            if (from && !id) {\n\t                if (importName) {\n\t                    id = importName;\n\t                }\n\t                else {\n\t                    id = from.split('/').pop();\n\t                }\n\t            }\n\t            if (!id) {\n\t                throw new Error(\"Could not determine ID for app-widget (from=\" + from + \" and import=\" + importName + \")\");\n\t            }\n\t            var listeners = listenersJson ? parseJsonAttribute_1.default('data-listeners', listenersJson) : undefined;\n\t            var options = optionsJson ? parseJsonAttribute_1.default('data-options', optionsJson) : undefined;\n\t            var state = stateJson ? parseJsonAttribute_1.default('data-state', stateJson) : undefined;\n\t            var resolver = factory ? { factory: factory } : { from: from, importName: importName };\n\t            return {\n\t                element: element,\n\t                id: id,\n\t                listeners: listeners,\n\t                options: options,\n\t                resolver: resolver,\n\t                state: state,\n\t                stateFrom: stateFrom,\n\t                type: 'widget'\n\t            };\n\t        }\n\t    };\n\t    function getRegistrationTasks(root) {\n\t        var allElements = array_1.from(root.getElementsByTagName('*'));\n\t        allElements.unshift(root); // Be inclusive!\n\t        var tasks = [];\n\t        for (var _i = 0, allElements_1 = allElements; _i < allElements_1.length; _i++) {\n\t            var element = allElements_1[_i];\n\t            var name_1 = void 0;\n\t            var tagName = element.tagName.toLowerCase();\n\t            if (TAG_NAMES.has(tagName)) {\n\t                name_1 = tagName;\n\t            }\n\t            else {\n\t                var attrIs = (get(element, 'is') || '').toLowerCase();\n\t                if (TAG_NAMES.has(attrIs)) {\n\t                    name_1 = attrIs;\n\t                }\n\t            }\n\t            var task = null;\n\t            switch (name_1) {\n\t                case 'app-action':\n\t                    task = parsers.action(element);\n\t                    break;\n\t                case 'app-actions':\n\t                    task = parsers.actions(element);\n\t                    break;\n\t                case 'app-element':\n\t                    task = parsers.element(element);\n\t                    break;\n\t                case 'app-store':\n\t                    task = parsers.store(element);\n\t                    break;\n\t                case 'app-widget':\n\t                    task = parsers.widget(element);\n\t                    break;\n\t            }\n\t            if (task) {\n\t                tasks.push(task);\n\t            }\n\t        }\n\t        return tasks;\n\t    }\n\t    function createActionDefinition(resolveMid, _a) {\n\t        var id = _a.id, resolver = _a.resolver, state = _a.state, stateFrom = _a.stateFrom;\n\t        return {\n\t            id: id,\n\t            factory: function (options) {\n\t                if (isFactoryResolver(resolver)) {\n\t                    return resolveMid(resolver.factory).then(function (factory) {\n\t                        return factory(options);\n\t                    });\n\t                }\n\t                else {\n\t                    return resolveMid(resolver.from, resolver.importName || 'default');\n\t                }\n\t            },\n\t            state: state,\n\t            stateFrom: stateFrom\n\t        };\n\t    }\n\t    function loadMultipleActions(resolveMid, _a) {\n\t        var from = _a.from;\n\t        return resolveMid(from, moduleResolver_1.RESOLVE_CONTENTS).then(function (contents) {\n\t            return Object.keys(contents).map(function (member) {\n\t                return {\n\t                    id: member,\n\t                    instance: contents[member]\n\t                };\n\t            });\n\t        });\n\t    }\n\t    function createCustomElementDefinition(resolveMid, _a) {\n\t        var factory = _a.factory, name = _a.name;\n\t        return {\n\t            factory: function (options) {\n\t                return resolveMid(factory)\n\t                    .then(function (factory) { return factory(options); });\n\t            },\n\t            name: name\n\t        };\n\t    }\n\t    function createStoreDefinition(resolveMid, _a) {\n\t        var id = _a.id, options = _a.options, resolver = _a.resolver;\n\t        return {\n\t            id: id,\n\t            factory: function (options) {\n\t                if (isFactoryResolver(resolver)) {\n\t                    return resolveMid(resolver.factory)\n\t                        .then(function (factory) { return factory(options); });\n\t                }\n\t                else {\n\t                    return resolveMid(resolver.from, resolver.importName || 'default');\n\t                }\n\t            },\n\t            options: options\n\t        };\n\t    }\n\t    function createWidgetDefinition(resolveMid, _a) {\n\t        var id = _a.id, listeners = _a.listeners, options = _a.options, resolver = _a.resolver, state = _a.state, stateFrom = _a.stateFrom;\n\t        return {\n\t            id: id,\n\t            factory: function (options) {\n\t                if (isFactoryResolver(resolver)) {\n\t                    return resolveMid(resolver.factory)\n\t                        .then(function (factory) { return factory(options); });\n\t                }\n\t                else {\n\t                    return resolveMid(resolver.from, resolver.importName || 'default');\n\t                }\n\t            },\n\t            listeners: listeners,\n\t            options: options,\n\t            state: state,\n\t            stateFrom: stateFrom\n\t        };\n\t    }\n\t    /**\n\t     * Extract action, custom element, store and widget definitions that should be loaded into the app.\n\t     *\n\t     * @param resolveMid Function to asynchronously resolve a module identifier\n\t     * @param root The element within which registration elements can be found\n\t     * @return A promise for the definition objects\n\t     */\n\t    function extractRegistrationElements(resolveMid, root) {\n\t        return new Promise_1.default(function (resolve, reject) {\n\t            var result = {\n\t                actions: [],\n\t                customElements: [],\n\t                defaultStores: [],\n\t                stores: [],\n\t                widgets: []\n\t            };\n\t            var promises = [];\n\t            for (var _i = 0, _a = getRegistrationTasks(root); _i < _a.length; _i++) {\n\t                var task = _a[_i];\n\t                switch (task.type) {\n\t                    case 'action':\n\t                        result.actions.push(createActionDefinition(resolveMid, task));\n\t                        break;\n\t                    case 'element':\n\t                        result.customElements.push(createCustomElementDefinition(resolveMid, task));\n\t                        break;\n\t                    case 'multiple-actions': {\n\t                        var promise = loadMultipleActions(resolveMid, task)\n\t                            .then(function (actions) {\n\t                            (_a = result.actions).push.apply(_a, actions);\n\t                            var _a;\n\t                        });\n\t                        promises.push(promise);\n\t                        break;\n\t                    }\n\t                    case 'store': {\n\t                        var isDefault = task.isDefault;\n\t                        var definition = createStoreDefinition(resolveMid, task);\n\t                        if (isDefault) {\n\t                            result.defaultStores.push(definition);\n\t                        }\n\t                        else {\n\t                            result.stores.push(definition);\n\t                        }\n\t                        break;\n\t                    }\n\t                    case 'widget':\n\t                        result.widgets.push(createWidgetDefinition(resolveMid, task));\n\t                        // Forcibly add the possibly derived ID to the element, so the <app-widget> can be realized.\n\t                        task.element.setAttribute('data-uid', task.id);\n\t                        break;\n\t                }\n\t                if (task.type !== 'widget') {\n\t                    dom_1.remove(task.element);\n\t                }\n\t            }\n\t            if (promises.length > 0) {\n\t                Promise_1.default.all(promises)\n\t                    .then(function () { return resolve(result); })\n\t                    .catch(reject);\n\t            }\n\t            else {\n\t                resolve(result);\n\t            }\n\t        });\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = extractRegistrationElements;\n\t});\n\n\n/***/ },\n/* 113 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    /**\n\t     * Provides access to read-only registries for actions, stores and widgets.\n\t     */\n\t    var RegistryProvider = (function () {\n\t        function RegistryProvider(registry) {\n\t            this.underlyingRegistry = Object.freeze({\n\t                getAction: registry.getAction.bind(registry),\n\t                identifyAction: registry.identifyAction.bind(registry),\n\t                getStore: registry.getStore.bind(registry),\n\t                identifyStore: registry.identifyStore.bind(registry),\n\t                createWidget: registry.createWidget.bind(registry),\n\t                getWidget: registry.getWidget.bind(registry),\n\t                hasWidget: registry.hasWidget.bind(registry),\n\t                identifyWidget: registry.identifyWidget.bind(registry)\n\t            });\n\t        }\n\t        RegistryProvider.prototype.get = function (type) {\n\t            switch (type) {\n\t                case 'actions':\n\t                    return this.actionRegistry || (this.actionRegistry = {\n\t                        get: this.underlyingRegistry.getAction,\n\t                        identify: this.underlyingRegistry.identifyAction\n\t                    });\n\t                case 'stores':\n\t                    return this.storeRegistry || (this.storeRegistry = {\n\t                        get: this.underlyingRegistry.getStore,\n\t                        identify: this.underlyingRegistry.identifyStore\n\t                    });\n\t                case 'widgets':\n\t                    return this.widgetRegistry || (this.widgetRegistry = {\n\t                        create: this.underlyingRegistry.createWidget,\n\t                        get: this.underlyingRegistry.getWidget,\n\t                        has: this.underlyingRegistry.hasWidget,\n\t                        identify: this.underlyingRegistry.identifyWidget\n\t                    });\n\t                default:\n\t                    throw new Error(\"No such store: \" + type);\n\t            }\n\t        };\n\t        return RegistryProvider;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = RegistryProvider;\n\t});\n\n\n/***/ },\n/* 114 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(60), __webpack_require__(18)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var Map_1 = __webpack_require__(60);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var noop = function () { };\n\t    var privateStateMap = new WeakMap_1.default();\n\t    function getState(instance) {\n\t        return privateStateMap.get(instance);\n\t    }\n\t    /**\n\t     * A registry of values, mapped by identities.\n\t     */\n\t    var IdentityRegistry = (function () {\n\t        function IdentityRegistry() {\n\t            privateStateMap.set(this, {\n\t                entryMap: new Map_1.default(),\n\t                idMap: new WeakMap_1.default()\n\t            });\n\t        }\n\t        /**\n\t         * Look up a value by its identifier.\n\t         *\n\t         * Throws if no value has been registered for the given identifier.\n\t         *\n\t         * @param id The identifier\n\t         * @return The value\n\t         */\n\t        IdentityRegistry.prototype.get = function (id) {\n\t            var entry = getState(this).entryMap.get(id);\n\t            if (!entry) {\n\t                throw new Error(\"Could not find a value for identity '\" + id.toString() + \"'\");\n\t            }\n\t            return entry.value;\n\t        };\n\t        /**\n\t         * Determine whether the value has been registered.\n\t         * @param value The value\n\t         * @return `true` if the value has been registered, `false` otherwise\n\t         */\n\t        IdentityRegistry.prototype.contains = function (value) {\n\t            return getState(this).idMap.has(value);\n\t        };\n\t        /**\n\t         * Remove from the registry the value for a given identifier.\n\t         * @param id The identifier\n\t         * @return `true` if the value was removed, `false` otherwise\n\t         */\n\t        IdentityRegistry.prototype.delete = function (id) {\n\t            var entry = getState(this).entryMap.get(id);\n\t            if (!entry) {\n\t                return false;\n\t            }\n\t            entry.handle.destroy();\n\t            return true;\n\t        };\n\t        /**\n\t         * Determine whether a value has been registered for the given identifier.\n\t         * @param id The identifier\n\t         * @return `true` if a value has been registered, `false` otherwise\n\t         */\n\t        IdentityRegistry.prototype.has = function (id) {\n\t            return getState(this).entryMap.has(id);\n\t        };\n\t        /**\n\t         * Look up the identifier for which the given value has been registered.\n\t         *\n\t         * Throws if the value hasn't been registered.\n\t         *\n\t         * @param value The value\n\t         * @return The identifier otherwise\n\t         */\n\t        IdentityRegistry.prototype.identify = function (value) {\n\t            if (!this.contains(value)) {\n\t                throw new Error('Could not identify non-registered value');\n\t            }\n\t            return getState(this).idMap.get(value);\n\t        };\n\t        /**\n\t         * Register a new value with a new identity.\n\t         *\n\t         * Throws if a different value has already been registered for the given identity,\n\t         * or if the value has already been registered with a different identity.\n\t         *\n\t         * @param id The identifier\n\t         * @param value The value\n\t         * @return A handle for deregistering the value. Note that when called repeatedly with\n\t         *   the same identifier and value combination, the same handle is returned\n\t         */\n\t        IdentityRegistry.prototype.register = function (id, value) {\n\t            var _this = this;\n\t            var entryMap = getState(this).entryMap;\n\t            var existingEntry = entryMap.get(id);\n\t            if (existingEntry && existingEntry.value !== value) {\n\t                var str = id.toString();\n\t                throw new Error(\"A value has already been registered for the given identity (\" + str + \")\");\n\t            }\n\t            var existingId = this.contains(value) ? this.identify(value) : null;\n\t            if (existingId && existingId !== id) {\n\t                var str = existingId.toString();\n\t                throw new Error(\"The value has already been registered with a different identity (\" + str + \")\");\n\t            }\n\t            // Adding the same value with the same id is a noop, return the original handle.\n\t            if (existingEntry && existingId) {\n\t                return existingEntry.handle;\n\t            }\n\t            var handle = {\n\t                destroy: function () {\n\t                    handle.destroy = noop;\n\t                    getState(_this).entryMap.delete(id);\n\t                }\n\t            };\n\t            entryMap.set(id, { handle: handle, value: value });\n\t            getState(this).idMap.set(value, id);\n\t            return handle;\n\t        };\n\t        return IdentityRegistry;\n\t    }());\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = IdentityRegistry;\n\t    ;\n\t});\n\n\n/***/ },\n/* 115 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(118), __webpack_require__(103), __webpack_require__(117), __webpack_require__(116)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createRenderMixin_1 = __webpack_require__(118);\n\t    var createParentListMixin_1 = __webpack_require__(103);\n\t    var createRenderableChildrenMixin_1 = __webpack_require__(117);\n\t    var createStatefulChildrenMixin_1 = __webpack_require__(116);\n\t    var createContainer = createRenderMixin_1.default\n\t        .mixin(createParentListMixin_1.default)\n\t        .mixin(createRenderableChildrenMixin_1.default)\n\t        .mixin(createStatefulChildrenMixin_1.default);\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createContainer;\n\t});\n\n\n/***/ },\n/* 116 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(62), __webpack_require__(60), __webpack_require__(34), __webpack_require__(18), __webpack_require__(53), __webpack_require__(104)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createStateful_1 = __webpack_require__(62);\n\t    var Map_1 = __webpack_require__(60);\n\t    var Promise_1 = __webpack_require__(34);\n\t    var WeakMap_1 = __webpack_require__(18);\n\t    var immutable_1 = __webpack_require__(53);\n\t    var lang_1 = __webpack_require__(104);\n\t    /**\n\t     * Map that holds state for manageChildren and manageChildrenState by widget instance.\n\t     */\n\t    var managementMap = new WeakMap_1.default();\n\t    /**\n\t     * Internal statechange listener which deals with managing the children when a state\n\t     * change occurs on the parent\n\t     *\n\t     * @param evt The state change event of the parent\n\t     */\n\t    function manageChildren(evt) {\n\t        var parent = evt.target;\n\t        /* Assume this function cannot be called without the widget being in the management map */\n\t        var internalState = managementMap.get(parent);\n\t        /* Initialize cache */\n\t        var _a = internalState.cache, cache = _a === void 0 ? new Map_1.default() : _a;\n\t        if (!internalState.cache) {\n\t            internalState.cache = cache;\n\t        }\n\t        /* Initialize current children IDs */\n\t        if (!internalState.current) {\n\t            internalState.current = immutable_1.List();\n\t        }\n\t        var currentChildrenIDs = evt.state.children ? immutable_1.List(evt.state.children) : immutable_1.List();\n\t        if (currentChildrenIDs.equals(internalState.current)) {\n\t            /* There are no changes to the children */\n\t            return;\n\t        }\n\t        // Increment the generation vector. Used when children are replaced asynchronously to ensure\n\t        // no newer state is overriden.\n\t        var generation = ++internalState.generation;\n\t        internalState.current = currentChildrenIDs;\n\t        var resolvingWidgets = [];\n\t        /* Sometimes we are dealing with children that are a list, somtimes, a Map */\n\t        var childrenList = [];\n\t        var childrenMap = {};\n\t        var childrenIsList = lang_1.isList(parent.children);\n\t        /* Iterate through children ids, retrieving reference to widget or otherwise\n\t         * requesting the widget from the registry */\n\t        currentChildrenIDs.forEach(function (id, key) {\n\t            // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t            // istanbul ignore else\n\t            if (id !== undefined && key !== undefined) {\n\t                if (cache.has(id)) {\n\t                    if (childrenIsList) {\n\t                        childrenList[key] = cache.get(id);\n\t                    }\n\t                    else {\n\t                        childrenMap[id] = cache.get(id);\n\t                    }\n\t                }\n\t                else {\n\t                    var widgetPromise = internalState.registry.has(id).then(function (exists) {\n\t                        if (exists) {\n\t                            return internalState.registry.get(id);\n\t                        }\n\t                    });\n\t                    /* Tuple of Promise, child ID, position in child list */\n\t                    resolvingWidgets.push([widgetPromise, id, key]);\n\t                }\n\t            }\n\t        });\n\t        /* If we have requests for widgets outstanding, we need to wait for them to be\n\t         * resolved and then populate them in the children */\n\t        if (resolvingWidgets.length) {\n\t            Promise_1.default.all(resolvingWidgets.map(function (_a) {\n\t                var promise = _a[0];\n\t                return promise;\n\t            }))\n\t                .then(function (widgets) {\n\t                /* Only replace children if there is no newer state that either already has, or soon will,\n\t                 * replace the original listeners. */\n\t                if (internalState.generation !== generation) {\n\t                    return;\n\t                }\n\t                widgets.forEach(function (widget, idx) {\n\t                    var _a = resolvingWidgets[idx], id = _a[1], key = _a[2];\n\t                    if (widget) {\n\t                        if (childrenIsList) {\n\t                            childrenList[key] = widget;\n\t                        }\n\t                        else {\n\t                            childrenMap[id] = widget;\n\t                        }\n\t                        cache.set(id, widget);\n\t                        widget.own({\n\t                            destroy: function () {\n\t                                cache.delete(id);\n\t                            }\n\t                        });\n\t                    }\n\t                    else {\n\t                        if (childrenIsList) {\n\t                            childrenList.splice(key, 1);\n\t                        }\n\t                    }\n\t                });\n\t                /* Some parents have a List, some have a Map, so setting them varies */\n\t                parent.children = lang_1.isList(parent.children) ? immutable_1.List(childrenList) : immutable_1.Map(childrenMap);\n\t            }, function (error) {\n\t                /* A promise got rejected for some reason */\n\t                parent.emit({\n\t                    type: 'error',\n\t                    target: parent,\n\t                    error: error\n\t                });\n\t            });\n\t        }\n\t        else {\n\t            /* Otherwise we can just set the children */\n\t            parent.children = lang_1.isList(parent.children) ? immutable_1.List(childrenList) : immutable_1.Map(childrenMap);\n\t        }\n\t    }\n\t    /**\n\t     * Internal function to manage the state of the children when a child list event occurs\n\t     *\n\t     * @param evt The child list event from the parent\n\t     */\n\t    function manageChildrenState(evt) {\n\t        var parent = evt.target;\n\t        /* Assume this function cannot be called without the widget being in the management map */\n\t        var registry = managementMap.get(parent).registry;\n\t        var evtChildren = evt.children;\n\t        var currentChildrenIDs;\n\t        if (lang_1.isList(evtChildren)) {\n\t            currentChildrenIDs = evtChildren.map(function (widget) {\n\t                // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t                // istanbul ignore else\n\t                if (widget) {\n\t                    return registry.identify(widget);\n\t                }\n\t            });\n\t        }\n\t        else {\n\t            currentChildrenIDs = immutable_1.List(evtChildren.keys());\n\t        }\n\t        var storedChildren = parent.state.children ? immutable_1.List(parent.state.children) : immutable_1.List();\n\t        if (!currentChildrenIDs.equals(storedChildren)) {\n\t            var children = currentChildrenIDs.toArray();\n\t            parent.setState({ children: children });\n\t        }\n\t    }\n\t    function isCreateChildrenMap(value) {\n\t        return typeof value === 'object' && !Array.isArray(value);\n\t    }\n\t    var createStatefulChildrenMixin = createStateful_1.default\n\t        .mixin({\n\t        mixin: {\n\t            createChildren: function (children) {\n\t                var _this = this;\n\t                if (managementMap.has(this)) {\n\t                    var management_1 = managementMap.get(this);\n\t                    var registry_1 = management_1.registry, id_1 = management_1.id;\n\t                    if (isCreateChildrenMap(children)) {\n\t                        /* Because we have a map, but Promise.all only takes an array, we have to \"flatten\" the map into\n\t                        * two arrays, of promises and labels */\n\t                        var promises = [];\n\t                        var labels_1 = [];\n\t                        for (var label in children) {\n\t                            var _a = children[label], factory = _a.factory, _b = _a.options, options = _b === void 0 ? {} : _b;\n\t                            if (!options.id) {\n\t                                /* See createChild for explination of this logic */\n\t                                options.id = (id_1 || this.id) + \"-child-\" + ++management_1.childrenUID;\n\t                            }\n\t                            promises.push(registry_1.create(factory, options));\n\t                            labels_1.push(label);\n\t                        }\n\t                        return Promise_1.default\n\t                            .all(promises)\n\t                            .then(function (items) {\n\t                            /* create a handle which will destroy the children created */\n\t                            var instances = items.map(function (_a) {\n\t                                var child = _a[1];\n\t                                return child;\n\t                            });\n\t                            _this.own({\n\t                                destroy: function () {\n\t                                    return instances.map(function (instance) { return instance.destroy(); });\n\t                                }\n\t                            });\n\t                            /* Now we need to constitute our map to return it */\n\t                            var results = {};\n\t                            var newChildren = items.map(function (_a, idx) {\n\t                                var id = _a[0], widget = _a[1];\n\t                                results[labels_1[idx]] = { id: id, widget: widget };\n\t                                return id;\n\t                            });\n\t                            var children = _this.state.children ? _this.state.children.concat(newChildren) : newChildren;\n\t                            _this.setState({ children: children });\n\t                            return results;\n\t                        });\n\t                    }\n\t                    else {\n\t                        return Promise_1.default\n\t                            .all(children.map(function (_a) {\n\t                            var factory = _a[0], options = _a[1];\n\t                            if (!options.id) {\n\t                                /* depending upon the construction lifecycle, the this.id may not have been properly set and will\n\t                                * auto-generate an ID, therefore we have copied the ID out of options, if it was present and will\n\t                                * use that as a base for autogenerating the child widget's ID */\n\t                                options.id = (id_1 || _this.id) + \"-child-\" + ++management_1.childrenUID;\n\t                            }\n\t                            return registry_1.create(factory, options);\n\t                        }))\n\t                            .then(function (items) {\n\t                            /* create a handle which will destroy the children created */\n\t                            var instances = items.map(function (_a) {\n\t                                var child = _a[1];\n\t                                return child;\n\t                            });\n\t                            _this.own({\n\t                                destroy: function () {\n\t                                    return instances.map(function (instance) { return instance.destroy(); });\n\t                                }\n\t                            });\n\t                            var newChildren = items.map(function (_a) {\n\t                                var id = _a[0];\n\t                                return id;\n\t                            });\n\t                            var children = _this.state.children ? _this.state.children.concat(newChildren) : newChildren;\n\t                            _this.setState({ children: children });\n\t                            return items;\n\t                        });\n\t                    }\n\t                }\n\t                return Promise_1.default.reject(new Error('Unable to resolve registry'));\n\t            },\n\t            createChild: function (factory, options) {\n\t                if (options === void 0) { options = {}; }\n\t                return this.createChildren([[factory, options]]).then(function (_a) {\n\t                    var tuple = _a[0];\n\t                    return tuple;\n\t                });\n\t            }\n\t        },\n\t        initialize: function (instance, _a) {\n\t            var _b = _a === void 0 ? {} : _a, registryProvider = _b.registryProvider, id = _b.id, state = _b.state;\n\t            if (registryProvider) {\n\t                var registry = registryProvider.get('widgets');\n\t                managementMap.set(instance, {\n\t                    registry: registry,\n\t                    generation: 0,\n\t                    childrenUID: 0,\n\t                    id: id\n\t                });\n\t                instance.own(instance.on('state:changed', manageChildren));\n\t                instance.own(instance.on('childlist', manageChildrenState));\n\t                /* Stateful will have already fired the statechange event at this point */\n\t                if (state) {\n\t                    instance.setState(state);\n\t                }\n\t            }\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createStatefulChildrenMixin;\n\t});\n\n\n/***/ },\n/* 117 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(16), __webpack_require__(28)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var compose_1 = __webpack_require__(16);\n\t    var array_1 = __webpack_require__(28);\n\t    var createRenderableChildrenMixin = compose_1.default({\n\t        /* When this gets mixed in, if we had the children as part of the interface, we would end up overwritting what is\n\t         * likely a get accessor for the children, so to protect ourselves, we won't have it part of the interface */\n\t        getChildrenNodes: function () {\n\t            var _a = this, children = _a.children, sort = _a.sort;\n\t            /* children is not guarunteed to be set, therefore need to guard against it */\n\t            if (children) {\n\t                var results_1 = [];\n\t                if (sort) {\n\t                    array_1.from(children.entries()).sort(sort)\n\t                        .forEach(function (_a) {\n\t                        var child = _a[1];\n\t                        return results_1.push({ children: [], render: child.render.bind(child) });\n\t                    });\n\t                }\n\t                else {\n\t                    children.forEach(function (child) {\n\t                        // Workaround for https://github.com/facebook/immutable-js/pull/919\n\t                        // istanbul ignore else\n\t                        if (child) {\n\t                            results_1.push({ children: [], render: child.render.bind(child) });\n\t                        }\n\t                    });\n\t                }\n\t                return results_1;\n\t            }\n\t            else {\n\t                return [];\n\t            }\n\t        }\n\t    }, function (instance, options) {\n\t        if (options) {\n\t            instance.sort = options.sort;\n\t        }\n\t    });\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createRenderableChildrenMixin;\n\t});\n\n\n/***/ },\n/* 118 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n\t    if (typeof module === 'object' && typeof module.exports === 'object') {\n\t        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n\t    }\n\t    else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(59)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t})(function (require, exports) {\n\t    \"use strict\";\n\t    var createWidgetBase_1 = __webpack_require__(59);\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    exports.default = createWidgetBase_1.default;\n\t});\n\n\n/***/ }\n/******/ ])));\n\n\n// WEBPACK FOOTER //\n// src/main.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tvar _m = moreModules[moduleId];\n\n \t\t\t// Check if module is deduplicated\n \t\t\tswitch(typeof _m) {\n \t\t\tcase \"object\":\n \t\t\t\t// Module can be created from a template\n \t\t\t\tmodules[moduleId] = (function(_m) {\n \t\t\t\t\tvar args = _m.slice(1), templateId = _m[0];\n \t\t\t\t\treturn function (a,b,c) {\n \t\t\t\t\t\tmodules[templateId].apply(this, [a,b,c].concat(args));\n \t\t\t\t\t};\n \t\t\t\t}(_m));\n \t\t\t\tbreak;\n \t\t\tcase \"function\":\n \t\t\t\t// Normal module\n \t\t\t\tmodules[moduleId] = _m;\n \t\t\t\tbreak;\n \t\t\tdefault:\n \t\t\t\t// Module is a copy of another module\n \t\t\t\tmodules[moduleId] = modules[_m];\n \t\t\t\tbreak;\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + ({}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dff2eec7adbc7ed83084","import createApp from 'dojo-app/createApp';\n\nimport router from './routes';\nimport cardStore, { bindActions as bindCardStoreActions } from './stores/cardStore';\n\nimport createNavbar from './widgets/navbar/createNavbar';\nimport createContainer from './widgets/common/createContainer';\nimport createHomePage from './widgets/home/createHomePage';\nimport createGameplayPage from './widgets/gameplay/createGameplayPage';\nimport createAboutPage from './widgets/about/createAboutPage';\nimport createCardsPage from './widgets/cards/createCardsPage';\nimport createCardDetailsPage from './widgets/card-details/createCardDetailsPage';\nimport defaultWidgetStore from './stores/widgetStore';\n\nimport 'maquette/src/css-transitions';\n\nconst app = createApp({ defaultWidgetStore });\n\napp.registerStore('cards-store', cardStore);\napp.loadDefinition({\n\twidgets: [\n\t\t{\n\t\t\tid: 'navbar',\n\t\t\tfactory: createNavbar\n\t\t},\n\t\t{\n\t\t\tid: 'container',\n\t\t\tfactory: createContainer,\n\t\t\toptions: {\n\t\t\t\ttagName: 'main'\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tid: 'cardDetails',\n\t\t\tfactory: createCardDetailsPage\n\t\t},\n\t\t{\n\t\t\tid: 'cards',\n\t\t\tfactory: createCardsPage\n\t\t},\n\t\t{\n\t\t\tid: 'home',\n\t\t\tfactory: createHomePage\n\t\t},\n\t\t{\n\t\t\tid: 'gameplay',\n\t\t\tfactory: createGameplayPage\n\t\t},\n\t\t{\n\t\t\tid: 'about',\n\t\t\tfactory: createAboutPage\n\t\t}\n\t]\n});\n\nPromise.resolve(app.realize(document.body))\n\t.then(() => bindCardStoreActions())\n\t.then(() => router.start());\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import createMemoryStore from 'dojo-stores/createMemoryStore';\n\nexport default createMemoryStore<any>({\n\tdata: [\n\t\t{\n\t\t\tid: 'navbar',\n\t\t\tsections: [\n\t\t\t\t{ text: 'the cards', href: '#cards' },\n\t\t\t\t{ text: 'gameplay', href: '#gameplay' },\n\t\t\t\t{ text: 'about', href: '#about' }\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tid: 'container',\n\t\t\tchildren: []\n\t\t},\n\t\t{\n\t\t\tid: 'cardDetails',\n\t\t\tenterAnimation: 'fadeInSlideDown',\n\t\t\texitAnimation: 'fadeOutSlideUp'\n\t\t},\n\t\t{\n\t\t\tid: 'cards',\n\t\t\tenterAnimation: 'fadeIn',\n\t\t\texitAnimation: 'fadeOut'\n\t\t},\n\t\t{\n\t\t\tid: 'home',\n\t\t\tenterAnimation: 'fadeIn',\n\t\t\texitAnimation: 'fadeOut'\n\t\t},\n\t\t{\n\t\t\tid: 'about',\n\t\t\tenterAnimation: 'fadeIn',\n\t\t\texitAnimation: 'fadeOut'\n\t\t},\n\t\t{\n\t\t\tid: 'gameplay',\n\t\t\tenterAnimation: 'fadeIn',\n\t\t\texitAnimation: 'fadeOut'\n\t\t}\n\t]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/widgetStore.ts","import { OrderedMap, Map } from 'immutable';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport { assign } from 'dojo-core/lang';\nimport { Thenable } from 'dojo-interfaces/shim';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport compose, { ComposeFactory } from 'dojo-compose/compose';\nimport createDestroyable, { Destroyable } from 'dojo-compose/mixins/createDestroyable';\n\nexport type StoreIndex = number | string;\n\nexport interface MemoryStorePragma {\n\t/**\n\t * The identity of the object\n\t */\n\tid?: StoreIndex;\n\n\t/**\n\t * Should the item be replaced if already exists.\n\t */\n\treplace?: boolean;\n}\n\nexport interface MemoryStorePromise<T> extends Promise<T> {\n\t/**\n\t * Retrieve an object from the store based on the object's ID\n\t * @param id The ID of the object to retrieve\n\t */\n\tget(id: StoreIndex): MemoryStorePromise<T>;\n\n\tget(): MemoryStorePromise<Iterator<T>>;\n\n\t/**\n\t * Put an item in the object store.\n\t * @param item The item to put\n\t * @param options The pragma to use when putting the object\n\t */\n\tput(item: T, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Add an item to the object store.\n\t * @param add The item to add\n\t * @param options The pragma to use when adding the object\n\t */\n\tadd(item: T, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Patch an object in the store by providing a partial object.  The result will be a promise\n\t * that resolves with the patched object.\n\t * @param partial The partial object to patch the existing object with\n\t * @param options The pragma to use when patching the object\n\t */\n\tpatch(partial: any, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Remove an object from the store.\n\t * @param id The ID of the object to remove\n\t * @param item The object to remove\n\t */\n\tdelete(id: StoreIndex): MemoryStorePromise<boolean>;\n\tdelete(item: T): MemoryStorePromise<boolean>;\n\n\t/**\n\t * Set the stores objects to an array\n\t */\n\tfromArray(items: T[]): MemoryStorePromise<void>;\n}\n\nexport interface MemoryStoreOptions<T extends Object> {\n\t/**\n\t * Any initial data that should populate the store\n\t */\n\tdata?: T[];\n\n\t/**\n\t * The property of each object to use as the identity for the object\n\t */\n\tidProperty?: StoreIndex;\n}\n\nexport const enum ChangeTypes {\n\tAdd = 1,\n\tPut,\n\tPatch,\n\tDelete\n}\n\nexport interface ChangeRecord<T extends Object> {\n\ttype: ChangeTypes;\n\tid: StoreIndex;\n\ttarget?: T;\n}\n\nexport interface MemoryStoreMixin<T extends Object> {\n\t/**\n\t * The property that determines the ID of the object (defaults to `id`)\n\t */\n\tidProperty: StoreIndex;\n\n\t/**\n\t * Retrieve an object from the store based on the object's ID\n\t * @param id The ID of the object to retrieve\n\t */\n\tget(id: StoreIndex): MemoryStorePromise<T>;\n\tget(): MemoryStorePromise<T>;\n\n\t/**\n\t * Observe an object, any subsequent changes to the object can also be observed via the observable\n\t * interface that is returned.  If the object is not present in the store, the observation will be\n\t * immediatly completed.  If the object is deleted from the store, the observation will be completed\n\t * @param id The ID of the object to observe\n\t */\n\tobserve(id: StoreIndex): Observable<T>;\n\tobserve(): Observable<ChangeRecord<T>>;\n\n\t/**\n\t * Put an item in the object store.\n\t * @param item The item to put\n\t * @param options The pragma to use when putting the object\n\t */\n\tput(item: T, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Add an item to the object store.\n\t * @param add The item to add\n\t * @param options The pragma to use when adding the object\n\t */\n\tadd(item: T, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Patch an object in the store by providing a partial object.  The result will be a promise\n\t * that resolves with the patched object.\n\t * @param partial The partial object to patch the existing object with\n\t * @param options The pragma to use when patching the object\n\t */\n\tpatch(partial: any, options?: MemoryStorePragma): MemoryStorePromise<T>;\n\n\t/**\n\t * Remove an object from the store.\n\t * @param id The ID of the object to remove\n\t * @param item The object to remove\n\t */\n\tdelete(id: StoreIndex): MemoryStorePromise<boolean>;\n\tdelete(item: T): MemoryStorePromise<boolean>;\n\n\t/**\n\t * Set the stores objects to an array\n\t */\n\tfromArray(items: T[]): MemoryStorePromise<void>;\n}\n\nexport type MemoryStore<T extends Object> = MemoryStoreMixin<T> & Destroyable;\n\n/**\n * The weak map that contains the data for the stores\n */\nconst dataWeakMap = new WeakMap<MemoryStore<Object>, OrderedMap<StoreIndex, Object>>();\n\n/**\n * The weak map that contains any observers for the stores\n */\nconst itemObserverWeakMap = new WeakMap<MemoryStore<Object>, Map<StoreIndex, Observer<Object>[]>>();\n\n/**\n *\n */\nconst storeObserverWeakMap = new WeakMap<MemoryStore<Object>, Observer<Object>[]>();\n\n// const storeObserverWeakMap = new WeakMap<MemoryStore<Object>, Observer<ChangeRecord<Object>>[]>();\n\nexport interface MemoryStoreFactory extends ComposeFactory<MemoryStore<Object>, MemoryStoreOptions<Object>> {\n\t<T extends Object>(options?: MemoryStoreOptions<T>): MemoryStore<T>;\n\n\t/**\n\t * Creates a memory store from an array of objects\n\t * @params data The array of data to create the memory store from\n\t */\n\tfromArray<T extends Object>(data: T[]): MemoryStore<T>;\n}\n\n/**\n * The methods to decorate the MemoryStorePromise with\n */\nconst storeMethods = [ 'get', 'put', 'add', 'patch', 'delete', 'fromArray' ];\n\n/**\n\t* Returns true if a given value has a `then` method.\n\t* @param {any} value The value to check if is Thenable\n\t* @returns {is Thenable<T>} A type guard if the value is thenable\n\t*/\nfunction isThenable<T>(value: any): value is Thenable<T> {\n\treturn value && typeof value.then === 'function';\n}\n\n/**\n * Utility function that takes a result and generates a MemoryStorePromise\n * @param store The store to use as a reference when decorating the Promise\n * @param result The result to wrap, if Thenable, it will be decorated, otherwise a new Promise is created\n */\nfunction wrapResult<R>(store: MemoryStore<Object>, result: R): MemoryStorePromise<R> {\n\t/* TODO: this all seems pretty expensive, there has to be a better way */\n\tconst p = (isThenable(result) ? result : Promise.resolve(result)) as MemoryStorePromise<R>;\n\tstoreMethods.forEach((method) => {\n\t\t(<any> p)[method] = (...args: any[]) => {\n\t\t\treturn p.then(() => {\n\t\t\t\treturn (<any> store)[method].apply(store, args);\n\t\t\t});\n\t\t};\n\t});\n\treturn p;\n}\n\n/**\n * Utility function that takes an error and generates a rejected MemoryStorePromise\n * @param store The store to use as a reference when decorating the Promise\n * @param result The result to wrap\n */\nfunction wrapError(store: MemoryStore<Object>, result: Error): MemoryStorePromise<Object> {\n\tconst p = (isThenable(result) ? result : Promise.reject(result)) as MemoryStorePromise<Object>;\n\tstoreMethods.forEach((method) => {\n\t\t(<any> p)[method] = (...args: any[]) => {\n\t\t\treturn p.then(() => {\n\t\t\t\treturn (<any> store)[method].apply(store, args);\n\t\t\t});\n\t\t};\n\t});\n\treturn p;\n}\n\n/**\n * Create a new instance of a MemoryStore\n */\nconst createMemoryStore = compose<MemoryStoreMixin<Object>, MemoryStoreOptions<Object>>({\n\t\tidProperty: 'id',\n\n\t\tget(this: MemoryStore<Object>, id?: StoreIndex): MemoryStorePromise<Object | Iterator<Object>> {\n\t\t\tconst data = dataWeakMap.get(this);\n\t\t\tif (id) {\n\t\t\t\treturn wrapResult(this, data && data.get(String(id)));\n\t\t\t} else {\n\t\t\t\treturn wrapResult(this, data.values());\n\t\t\t}\n\t\t},\n\n\t\tobserve<T>(this: MemoryStore<Object>, id?: StoreIndex): Observable<T> {\n\t\t\tconst store = this;\n\t\t\tif (id) {\n\t\t\t\treturn new Observable<T>(function subscribe(observer: Observer<T>) {\n\t\t\t\t\tstore.get(String(id)).then((item: T) => {\n\t\t\t\t\t\tif (item) {\n\t\t\t\t\t\t\tobserver.next(item);\n\t\t\t\t\t\t\tconst observers = itemObserverWeakMap.get(store);\n\t\t\t\t\t\t\tconst observerArray: Observer<Object>[] = observers && observers.has(String(id)) ? observers.get(String(id)) : [];\n\t\t\t\t\t\t\tobserverArray.push(observer);\n\t\t\t\t\t\t\titemObserverWeakMap.set(store, (observers ? observers : Map<StoreIndex, Observer<Object>[]>()).set(String(id), observerArray));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tobserver.error(new Error(`ID \"${id}\" not found in store`));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn new Observable<T>(function subscribe(observer: Observer<T>) {\n\t\t\t\t\tconst data = dataWeakMap.get(store);\n\t\t\t\t\tconst observers = storeObserverWeakMap.get(store) || [];\n\t\t\t\t\tconst values: any = data.values();\n\t\t\t\t\tconst items = Array.from(values);\n\t\t\t\t\tconst payload: any = {\n\t\t\t\t\t\tputs: items,\n\t\t\t\t\t\tdeletes: [],\n\t\t\t\t\t\tbeforeAll: [],\n\t\t\t\t\t\tafterAll: items\n\t\t\t\t\t};\n\t\t\t\t\tobserver.next(payload);\n\t\t\t\t\tobservers.push(observer);\n\t\t\t\t\tstoreObserverWeakMap.set(store, observers);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tput(this: MemoryStore<Object>, item: { [property: string]: number | string | undefined; }, options?: MemoryStorePragma): MemoryStorePromise<Object> {\n\t\t\tconst store = this;\n\t\t\tconst data = dataWeakMap.get(store);\n\t\t\tconst beforeAll: any = data ? data.values() : [];\n\t\t\tconst idProperty: any = store.idProperty;\n\t\t\tconst id =  options && 'id' in options ? options.id :\n\t\t\t\tidProperty in item ? item[idProperty] :\n\t\t\t\tdata ? data.size : 0;\n\t\t\tif (options && options.replace === false && data && data.has(String(id))) {\n\t\t\t\treturn wrapError(store, Error(`Duplicate ID \"${id}\" when pragma \"replace\" is false`));\n\t\t\t}\n\t\t\titem[idProperty] = id;\n\t\t\tdataWeakMap.set(store, (data ? data : OrderedMap<StoreIndex, Object>()).set(String(id), item));\n\n\t\t\tconst observers = itemObserverWeakMap.get(store);\n\t\t\tif (observers && observers.has(String(id))) {\n\t\t\t\tobservers.get(String(id)).forEach((observer) => observer.next(item));\n\t\t\t}\n\t\t\tconst storeObservers = storeObserverWeakMap.get(store);\n\t\t\tif (storeObservers) {\n\t\t\t\tconst afterData = dataWeakMap.get(store);\n\t\t\t\tconst afterAll: any = afterData.values();\n\t\t\t\tconst payload: any = {\n\t\t\t\t\tputs: [item],\n\t\t\t\t\tdeletes: [],\n\t\t\t\t\tbeforeAll: Array.from(beforeAll),\n\t\t\t\t\tafterAll: Array.from(afterAll)\n\t\t\t\t};\n\t\t\t\tstoreObservers.forEach((observer) => {\n\t\t\t\t\tobserver.next(payload);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn wrapResult(store, item);\n\t\t},\n\n\t\tadd(this: MemoryStore<Object>, item: Object, options?: MemoryStorePragma): MemoryStorePromise<Object> {\n\t\t\treturn this.put(item, assign(options ? options : {}, { replace: false }));\n\t\t},\n\n\t\tpatch(this: MemoryStore<Object>, partial: { [property: string]: number | string; }, options?: MemoryStorePragma): MemoryStorePromise<Object> {\n\t\t\tconst idProperty = this.idProperty;\n\t\t\tconst id = options && 'id' in options ? options.id : partial[idProperty];\n\t\t\tif (!id) {\n\t\t\t\treturn wrapError(this, new Error(`Object ID must either be passed in \"partial.${idProperty}\" or \"options.id\"`));\n\t\t\t}\n\t\t\treturn wrapResult(this, this.get(id).then((item: Object = {}) => {\n\t\t\t\toptions = options || {};\n\t\t\t\toptions.id = id;\n\t\t\t\treturn this.put(assign(item, partial), options);\n\t\t\t}));\n\t\t},\n\n\t\tdelete(this: MemoryStore<Object>, item: StoreIndex | { [property: string]: number | string; }): MemoryStorePromise<boolean> {\n\t\t\tconst store = this;\n\t\t\tconst idProperty = store.idProperty;\n\t\t\tconst data = dataWeakMap.get(store);\n\t\t\tconst beforeAll: any = data ? data.values() : [];\n\n\t\t\t/**\n\t\t\t * Complete any observers associated with this items id\n\t\t\t */\n\t\t\tfunction completeObservable(id: StoreIndex) {\n\t\t\t\tconst observers = itemObserverWeakMap.get(store);\n\t\t\t\tif (observers && observers.has(String(id))) {\n\t\t\t\t\tobservers.get(String(id)).forEach((observer) => observer.complete());\n\t\t\t\t\titemObserverWeakMap.set(store, observers.delete(id));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction completeStoreObservers() {\n\t\t\t\tconst storeObservers = storeObserverWeakMap.get(store);\n\t\t\t\tif (storeObservers) {\n\t\t\t\t\tconst afterData = dataWeakMap.get(store);\n\t\t\t\t\tconst afterAll: any = afterData.values();\n\t\t\t\t\tconst payload: any = {\n\t\t\t\t\t\tputs: [],\n\t\t\t\t\t\tdeletes: [item],\n\t\t\t\t\t\tbeforeAll: Array.from(beforeAll),\n\t\t\t\t\t\tafterAll: Array.from(afterAll)\n\t\t\t\t\t};\n\t\t\t\t\tstoreObservers.forEach((observer) => {\n\t\t\t\t\t\tobserver.next(payload);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof item === 'object') {\n\t\t\t\tif (idProperty in item && data && data.has(String(item[idProperty]))) {\n\t\t\t\t\tdataWeakMap.set(store, data.delete(String(item[idProperty])));\n\t\t\t\t\tcompleteObservable(item[idProperty]);\n\t\t\t\t\tcompleteStoreObservers();\n\t\t\t\t\treturn wrapResult(store, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (data && data.has(String(item))) {\n\t\t\t\t\tdataWeakMap.set(store, data.delete(String(item)));\n\t\t\t\t\tcompleteObservable(item);\n\t\t\t\t\tcompleteStoreObservers();\n\t\t\t\t\treturn wrapResult(store, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn wrapResult(store, false);\n\t\t},\n\t\tfromArray(this: MemoryStore<Object>, items: Object[]): MemoryStorePromise<void> {\n\t\t\tconst store: MemoryStore<Object> = this;\n\t\t\tconst map: Object = {};\n\t\t\tconst idProperty = store.idProperty;\n\t\t\titems.forEach((item: { [prop: string]: StoreIndex }, idx: number) => {\n\t\t\t\tconst id = idProperty in item ? item[idProperty] : idx;\n\t\t\t\titem[idProperty] = id;\n\t\t\t\t(<any> map)[id] = item;\n\t\t\t});\n\t\t\tdataWeakMap.set(store, OrderedMap<StoreIndex, Object>(map));\n\t\t\treturn wrapResult(store, undefined);\n\t\t}\n\t}, (instance, options) => {\n\t\tif (options) {\n\t\t\tif (options.idProperty) {\n\t\t\t\tinstance.idProperty = options.idProperty;\n\t\t\t}\n\t\t\tif (options.data) {\n\t\t\t\tinstance.fromArray(options.data);\n\t\t\t}\n\t\t}\n\t})\n\t.mixin(createDestroyable)\n\t.static({\n\t\tfromArray(data: any[]): MemoryStore<any> {\n\t\t\treturn createMemoryStore({ data });\n\t\t}\n\t}) as MemoryStoreFactory;\n\nexport default createMemoryStore;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-stores/createMemoryStore.ts","import { deprecated } from 'dojo-core/instrument';\nimport { assign } from 'dojo-core/lang';\nimport { from as arrayFrom, includes } from 'dojo-shim/array';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport Symbol from 'dojo-shim/Symbol';\nimport {\n\tbefore as aspectBefore,\n\tafter as aspectAfter,\n\taround as aspectAround,\n\tBeforeAdvice,\n\tAfterAdvice,\n\tAroundAdvice\n} from './aspect';\n\n/**\n * A tuple of advice types and advice\n */\ntype AdviceTuple = ['before', BeforeAdvice] | ['after', AfterAdvice<any>] | ['around', AroundAdvice<any>];\n\n/**\n * A map of advice to apply to a method, with the `method` key being a tuple of advice\n */\ntype AdviceMap = {\n\t[method: string]: AdviceTuple[];\n};\n\n/**\n * Interface for storing the private meta data related to a factory\n */\ninterface PrivateFactoryData {\n\t/**\n\t * A map of advice that should be applied to a prototype of a factory as it is being constructed\n\t */\n\tadvice?: AdviceMap;\n\n\t/**\n\t * The base prototype that contains the methods and properties without advice applied\n\t */\n\tbase?: any;\n\n\t/**\n\t * The array of initialization functions that should be applied to the instance upon creation\n\t */\n\tinitFns: ComposeInitializationFunction<any, any>[];\n\n\t/**\n\t * Any static properties/methods that should be applied when creating a factory\n\t */\n\tstaticProperties?: any;\n}\n\n/**\n * The default factory label if no label can be derived during the factory creation process\n */\nconst DEFAULT_FACTORY_LABEL = 'Compose';\n\n/* References to support minification */\nconst defineProperty = Object.defineProperty;\nconst isArray = Array.isArray;\nconst objectCreate = Object.create;\nconst objectKeys = Object.keys;\n\n/**\n * A weakmap that stores all the private data for a factory\n */\nconst privateFactoryData = new WeakMap<Function, PrivateFactoryData>();\n\n/**\n * An internal function which stubs out a method which, when called at runtime, throws.\n *\n * @param method The name of \"abstract\" method being called\n */\nfunction missingMethod(method: string): () => never {\n\treturn function throwOnMissingMethod(): never {\n\t\tthrow new TypeError(`Advice being applied to missing method named: ${method}`);\n\t};\n}\n\n/**\n * Internal function which can label a factory with a name and also sets\n * the `toString()` method on the prototype to return the approriate\n * name for instances.\n *\n * @param fn The name of the factory to label\n * @param value The name to supply for the label\n */\nfunction assignFactoryName(factory: Function, value: string): void {\n\tif (typeof factory === 'function' && factory.prototype) {\n\t\tassignFunctionName(factory, value);\n\t\tdefineProperty(factory.prototype, <any> Symbol.toStringTag, {\n\t\t\tget() {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tconfigurable: true\n\t\t});\n\t}\n}\n\n/**\n * Internal function which can label a function with a name\n */\nfunction assignFunctionName(fn: Function, value: string): void {\n\tconst nameDescriptor = Object.getOwnPropertyDescriptor(fn, 'name');\n\tif (typeof nameDescriptor === 'undefined' || nameDescriptor.configurable) {\n\t\tdefineProperty(fn, 'name', {\n\t\t\tvalue,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t});\n\t}\n}\n\n/**\n * A helper function that copies own properties and their descriptors\n * from one or more sources to a target object. Includes non-enumerable properties\n *\n * @param overwrite If `true` properties, like arrays, will not be merged, instead overwritten\n * @param target The target that properties should be copied onto\n * @param sources The rest of the parameters treated as sources to apply\n */\nfunction assignProperties(overwrite: boolean, target: any, ...sources: any[]) {\n\tsources.forEach((source) => {\n\t\tif (!source) {\n\t\t\treturn;\n\t\t}\n\t\tObject.defineProperties(\n\t\t\ttarget,\n\t\t\tObject.getOwnPropertyNames(source).reduce(\n\t\t\t\t(descriptors: PropertyDescriptorMap, key: string) => {\n\t\t\t\t\tif (key !== 'constructor') { /* don't copy constructor */\n\t\t\t\t\t\tconst sourceDescriptor = Object.getOwnPropertyDescriptor(source, key);\n\t\t\t\t\t\tconst sourceValue = sourceDescriptor && sourceDescriptor.value;\n\t\t\t\t\t\tconst targetDescriptor = Object.getOwnPropertyDescriptor(target, key);\n\t\t\t\t\t\tconst targetValue = targetDescriptor && targetDescriptor.value;\n\n\t\t\t\t\t\t/* Special handling to merge array proprties */\n\t\t\t\t\t\tif (!overwrite && isArray(sourceValue) && isArray(targetValue)) {\n\t\t\t\t\t\t\tsourceDescriptor.value = sourceValue.reduce(\n\t\t\t\t\t\t\t\t(value: any[], current: any) => {\n\t\t\t\t\t\t\t\t\tif (!includes(target[key], current)) {\n\t\t\t\t\t\t\t\t\t\tvalue.push(current);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tarrayFrom(targetValue)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdescriptors[key] = sourceDescriptor;\n\t\t\t\t\t}\n\t\t\t\t\treturn descriptors;\n\t\t\t\t},\n\t\t\t\tobjectCreate(null)\n\t\t\t)\n\t\t);\n\t});\n\treturn target;\n}\n\n/**\n * A helper funtion to return a function that is rebased to infer that the\n * first argument of the passed function will be the `this` when the function\n * is executed.\n *\n * @param  fn The function to be rebased\n * @return    The rebased function\n */\nfunction rebase(fn: (base: any, ...args: any[]) => any): (...args: any[]) => any {\n\treturn function(this: any, ...args: any[]) {\n\t\treturn fn.apply(this, [ this ].concat(args));\n\t};\n}\n\n/**\n * For a given factory, return the names of the initialization functions that will be\n * invoked upon construction.\n *\n * @param factory The factory that the array of function names should be returned for\n */\nexport function getInitFunctionNames(factory: ComposeFactory<any, any>): string[] | undefined {\n\tconst initFns = privateFactoryData.get(factory).initFns;\n\tif (initFns) {\n\t\treturn initFns.map((fn) => (<any> fn).name);\n\t}\n}\n\n/* The rebased functions we need to decorate compose constructors with */\n\n/**\n * Perform an extension of a class\n *\n * @deprecated\n */\nconst doExtend = rebase(extend);\n\n/**\n * Perform a mixin of a class\n */\nconst doMixin = rebase(mixin);\n\n/**\n * Perform a override of a class\n */\nconst doOverride = rebase(override);\n\n/**\n * Perform an overlay of a class\n */\nconst doOverlay = rebase(overlay);\n\n/**\n * Apply aspect advice to a class\n */\nconst doAspect = rebase(aspect);\n\n/**\n * Add static method/properties to a class\n */\nconst doStatic = rebase(_static);\n\n/**\n * Take a mixin and return a factory descriptor for the mixin\n *\n * @param mixin The factory to return the descriptor for\n * @template T The outer type of the descriptor\n * @template O The outer factory options of the descriptor\n * @template U The inner type of the descriptor\n * @template P The inner factory options of the descriptor\n */\nfunction factoryDescriptor<T, O, U, P>(mixin: ComposeFactory<U, P>): ComposeMixinDescriptor<T, O, U, P> {\n\treturn {\n\t\tmixin,\n\t\tclassName: mixin.name\n\t};\n};\n\n/**\n * Generate a factory descriptor for a class\n */\nconst doFactoryDescriptor = rebase(factoryDescriptor);\n\n/**\n * A set of functions that are used to decorate the compose factories\n */\nconst staticMethods = {\n\textend: doExtend, /* DEPRECATED */\n\tmixin: doMixin,\n\toverride: doOverride,\n\toverlay: doOverlay,\n\tfrom: doFrom,\n\tbefore: doBefore,\n\tafter: doAfter,\n\taround: doAround,\n\taspect: doAspect,\n\tfactoryDescriptor: doFactoryDescriptor,\n\tstatic: doStatic\n};\n\n/**\n * A convenience function to decorate compose class factories, including any static prpoerties\n *\n * @param base The target constructor\n */\ninterface FactoryOptions<T, U, O, S> {\n\t/**\n\t * A map of advice to be applied to be merged with any advice from factories and then applied to the prototype\n\t */\n\tadvice?: AdviceMap;\n\n\t/**\n\t * Any factories to mixin to this factory\n\t */\n\tfactories?: ComposeFactory<U, O>[];\n\n\t/**\n\t * Adds an init function to the factory\n\t */\n\tinitFunction?: ComposeInitializationFunction<any, O>;\n\n\t/**\n\t * The name of the class which the factory will construct\n\t */\n\tclassName?: string;\n\n\t/**\n\t * The prototype will always overwrite the base, instead of merging any special properties\n\t */\n\toverwrite?: boolean;\n\n\t/**\n\t * The prototype to mix into the base\n\t */\n\tproto?: T;\n\n\t/**\n\t * Any static properties to be added to the factory\n\t */\n\tstaticProperties?: S;\n}\n\n/**\n * Internal function that merges (or creates) an advice map\n *\n * @param sources The advice maps to be merged into a single one\n */\nfunction assignAdviceMap(...sources: (AdviceMap | undefined)[]): AdviceMap {\n\tconst result: AdviceMap = {};\n\tsources.forEach((source) => {\n\t\tif (source) {\n\t\t\tfor (const method in source) {\n\t\t\t\tresult[method] = result[method] ? [ ...result[method], ...source[method] ] : [ ...source[method] ];\n\t\t\t}\n\t\t}\n\t});\n\treturn result;\n}\n\n/**\n * An internal function that takes a set of create widget options and returns a set of private factory data\n *\n * @param options The set of factory options to use in creating the private factory data\n */\nfunction createPrivateFactoryData({\n\tadvice: optionsAdvice,\n\tfactories,\n\tinitFunction,\n\toverwrite,\n\tproto,\n\tstaticProperties\n}: FactoryOptions<any, any, any, any>): PrivateFactoryData {\n\tconst factoryData = (factories || []).reduce((factoryData, factory) => {\n\t\tconst { advice, base, initFns } = privateFactoryData.get(factory);\n\t\tif (advice) {\n\t\t\tfactoryData.advice = assignAdviceMap(factoryData.advice, advice);\n\t\t}\n\t\tif (base) {\n\t\t\tassignProperties(false, factoryData.base, base);\n\t\t}\n\t\tconst optionsInitFns = factoryData.initFns;\n\t\tinitFns.forEach((initFn) => {\n\t\t\tif (!includes(optionsInitFns, initFn)) {\n\t\t\t\toptionsInitFns.push(initFn);\n\t\t\t}\n\t\t});\n\t\treturn factoryData;\n\t}, {\n\t\tbase: {},\n\t\tinitFns: [],\n\t\tstaticProperties: staticProperties ? assign({}, staticProperties) : undefined\n\t} as PrivateFactoryData);\n\n\tif (initFunction) {\n\t\tfactoryData.initFns.push(initFunction);\n\t}\n\n\tif (optionsAdvice) {\n\t\tfactoryData.advice = assignAdviceMap(factoryData.advice, optionsAdvice);\n\t}\n\n\tassignProperties(Boolean(overwrite), factoryData.base, proto);\n\n\treturn factoryData;\n}\n\nfunction createFactory<T, U, O, S>(options: FactoryOptions<T, U, O, S>): ComposeFactory<T & U, O> & S;\nfunction createFactory<T, U, O>(options: FactoryOptions<T, U, O, any>): ComposeFactory<T & U, O> & any {\n\n\t/**\n\t * A compose factory\n\t */\n\tfunction factory(this: ComposeFactory<any, any>, ...args: any[]): any {\n\t\tif (this && this.constructor === factory) {\n\t\t\tthrow new SyntaxError('Factories cannot be called with \"new\".');\n\t\t}\n\t\tconst instance = objectCreate(factory.prototype);\n\n\t\t/* clone any arrays in the instance */\n\t\tfor (const key in instance) {\n\t\t\tif (isArray(Object.getOwnPropertyDescriptor(factory.prototype, key).value)) {\n\t\t\t\tinstance[key] = arrayFrom(instance[key]);\n\t\t\t}\n\t\t}\n\n\t\targs.unshift(instance);\n\t\tprivateFactoryData.get(factory).initFns.forEach(fn => {\n\t\t\tfn.apply(null, args);\n\t\t});\n\t\treturn instance;\n\t}\n\n\tconst factoryData = createPrivateFactoryData(options);\n\n\tprivateFactoryData.set(factory, factoryData);\n\n\tconst factoryPrototype = factory.prototype;\n\n\t/* mixin base properties into the prototype */\n\tassignProperties(false, factoryPrototype, factoryData.base);\n\n\t/* apply any advice to the prototype */\n\tif (factoryData.advice) {\n\t\tfor (const method in factoryData.advice) {\n\t\t\tfactoryData.advice[method].forEach(([ aspect, advice ]) => {\n\t\t\t\tconst sourceMethod = factoryPrototype[method] || missingMethod(method);\n\t\t\t\tswitch (aspect) {\n\t\t\t\tcase 'before':\n\t\t\t\t\tfactoryPrototype[method] = aspectBefore(sourceMethod, <BeforeAdvice> advice);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'after':\n\t\t\t\t\tfactoryPrototype[method] = aspectAfter(sourceMethod, <AfterAdvice<any>> advice);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'around':\n\t\t\t\t\tfactoryPrototype[method] = aspectAround(sourceMethod, <AroundAdvice<any>> advice);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/* assign a constructor to the prototype */\n\tfactoryPrototype.constructor = factory;\n\n\t/* assign static methods/properties */\n\tassign(factory, staticMethods, factoryData.staticProperties);\n\n\t/* assign factory name */\n\tconst className = options.className ||\n\t\t(options.factories && options.factories[0] && options.factories[0].name) ||\n\t\tDEFAULT_FACTORY_LABEL;\n\tassignFactoryName(factory, className);\n\n\t/* freeze the factory, so it cannot be accidently modified */\n\tObject.freeze(factory);\n\n\treturn factory as ComposeFactory<any, any>;\n}\n\n/**\n * A custom type guard that determines if the value is a ComposeFactory\n *\n * @param   value The target to check\n * @returns       Return true if it is a ComposeFactory, otherwise false\n */\nexport function isComposeFactory(value: any): value is ComposeFactory<any, any> {\n\treturn Boolean(value && privateFactoryData.get(value));\n}\n\n/* General Interfaces */\n\n/**\n * Used to adapt any consructor functions or classes to a compose factory\n */\nexport interface GenericClass<T> {\n\tnew (...args: any[]): T;\n\treadonly prototype: T;\n}\n\n/**\n * Used to adapt functions within compose\n */\nexport interface GenericFunction<T> {\n\t(...args: any[]): T;\n}\n\nexport interface ComposeInitializationFunction<T, O> {\n\t/**\n\t * A callback function use to initialize a new created instance\n\t *\n\t * @param instance The newly constructed instance\n\t * @param options Any options that were passed to the factory\n\t * @template T The type of the instance\n\t * @template O The type of the options being passed\n\t */\n\t(instance: T, options?: O): void;\n\n\t/**\n\t * A string name of the function, used for debugging purposes\n\t */\n\treadonly name?: string;\n}\n\n/* Extension API */\n\n/* DEPRECATED - This API will be removed in the future */\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Extend the factory prototype with the supplied object literal, class, or factory\n\t *\n\t * @deprecated\n\t * @param extension The object literal, class or factory to extend\n\t * @template T The original type of the factory\n\t * @template U The type of the extension\n\t * @template O The type of the factory options\n\t * @template P The type of the extension factory options\n\t */\n\textend<U>(extension: U | GenericClass<U>): ComposeFactory<T & U, O>;\n\textend<U>(className: string, extension: U | GenericClass<U>): ComposeFactory<T & U, O>;\n\textend<U, P>(extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\n\textend<U, P>(className: string, extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\n}\n\nexport interface Compose {\n\t/**\n\t * Extend a compose factory prototype with the supplied object literal, class, or\n\t * factory.\n\t *\n\t * @deprecated\n\t * @param base The base compose factory to extend\n\t * @param extension The object literal, class or factory that is the extension\n\t * @template T The base type of the factory\n\t * @template U The type of the extension\n\t * @template O The type of the base factory options\n\t * @template P The type of the extension factory options\n\t */\n\textend<T, O, U>(base: ComposeFactory<T, O>, extension: U | GenericClass<U>): ComposeFactory<T & U, O>;\n\textend<T, O, U>(base: ComposeFactory<T, O>, className: string, extension: U | GenericClass<U>): ComposeFactory<T & U, O>;\n\textend<T, O, U, P>(base: ComposeFactory<T, O>, extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\n\textend<T, O, U, P>(base: ComposeFactory<T, O>, className: string, extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\n}\n\n/**\n * The internal implementation of extending a compose factory\n *\n * @deprecated\n * @param base The base compose factory that is being extended\n * @param extension The extension to apply to the compose factory\n */\nfunction extend<T, O, U, P>(base: ComposeFactory<T, O>, extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\nfunction extend<T, O, U, P>(base: ComposeFactory<T, O>, className: string, extension: ComposeFactory<U, P>): ComposeFactory<T & U, O & P>;\nfunction extend<O>(base: ComposeFactory<any, O>, className: any, extension?: any): ComposeFactory<any, O> {\n\tdeprecated({ message: 'This function will be removed, use \"override\" instead.', name: 'extend' });\n\tif (typeof className !== 'string') {\n\t\textension = className;\n\t\tclassName = undefined;\n\t}\n\n\treturn createFactory({\n\t\tclassName,\n\t\tproto: typeof extension === 'function' ? extension.prototype : extension,\n\t\tfactories: [ base ]\n\t});\n}\n\n/* Override API */\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Override certain properties on the existing factory, returning a new factory.  If the properties\n\t * are not present in the existing factory, override will throw.\n\t *\n\t * @param properties The properties to override\n\t */\n\toverride(properties: any): this;\n\n\t/**\n\t * Override certain properties on the existing factory, returning a new factory.  If the properties\n\t * are not present in the existing factory, override with throw.\n\t *\n\t * @param className The class name for the factory\n\t * @param properties The properties to override\n\t */\n\toverride(className: string, properties: any): this;\n}\n\nexport interface Compose {\n\t/**\n\t * Override properties on a compose factory, returning a new factory.  If the properties are not\n\t * present on the base factory, override will throw.\n\t *\n\t * @param baseFactory The base compose factory to override\n\t * @param properties The properties to override\n\t */\n\toverride<T, O>(baseFactory: ComposeFactory<T, O>, properties: any): ComposeFactory<T, O>;\n\n\t/**\n\t * Override properties on a compose factory, returning a new factory.  If the properties are not\n\t * present on the base factory, override will throw.\n\t *\n\t * @param baseFactory The base compose factory to override\n\t * @param className The class name for the factory\n\t * @param properties The properties to override\n\t */\n\toverride<T, O>(baseFactory: ComposeFactory<T, O>, className: string, properties: any): ComposeFactory<T, O>;\n}\n\n/**\n * The internal implementation of overriding properties on a compose factory\n *\n * @param baseFactory The base factory\n * @param className The name of the class that will be produced by the factory\n * @param properties The object that contains the properties to override\n */\nfunction override<T, O>(baseFactory: ComposeFactory<T, O>, properties: any): ComposeFactory<T, O>;\nfunction override<T, O>(baseFactory: ComposeFactory<T, O>, className: string, properties: any): ComposeFactory<T, O>;\nfunction override<T, O>(baseFactory: ComposeFactory<T, O>, className: any, properties?: any): ComposeFactory<T, O> {\n\tif (typeof className !== 'string') {\n\t\tproperties = className;\n\t\tclassName = undefined;\n\t}\n\n\tif (typeof properties !== 'object') {\n\t\tthrow new TypeError('Argument \"properties\" must be an object.');\n\t}\n\n\tconst base = privateFactoryData.get(baseFactory).base;\n\n\t/* TODO: In TypeScript 2.1 we have merge types which can then be used to provide type checking at design time\n\t * similiar to this */\n\tObject.keys(properties).forEach((key) => {\n\t\tif (!(key in base)) {\n\t\t\tthrow new TypeError(`Attempting to override missing property \"${key}\"`);\n\t\t}\n\t});\n\n\treturn createFactory({\n\t\tclassName,\n\t\toverwrite: true,\n\t\tproto: properties,\n\t\tfactories: [ baseFactory ]\n\t});\n}\n\n/* Overlay API */\n\nexport interface OverlayFunction<T> {\n\t/**\n\t * A function that takes a factories prototype, allowing it to change the prototype without\n\t * mutating the type structure.\n\t *\n\t * @param proto The object literal that should be overlayed on the factories prototype.\n\t * @template T The type of the factories prototype\n\t */\n\t(proto: T): void;\n}\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Provide a function that mutates the factories prototype but does not change the factory's class\n\t * structure.\n\t *\n\t * @param overlayFunction The function which receives the factory's prototype\n\t * @template T The type of the factory's prototype\n\t */\n\toverlay(overlayFunction: OverlayFunction<T>): this;\n}\n\nexport interface Compose {\n\t/**\n\t * A static method that takes a compose factory and applies an overlay function to the factory,\n\t * returning a new compose factory with a mutated prototype.\n\t *\n\t * @param base The base ComposeFactory\n\t * @param overlayFunction The function which receives the base factory's prototype\n\t * @template T The type of the factory's prototype\n\t * @template O The options for the factory's creation\n\t */\n\toverlay<T, O>(base: ComposeFactory<T, O>, overlayFunction: OverlayFunction<T>): ComposeFactory<T, O>;\n}\n\n/**\n * Internal implementation of the overlay functionality, to allow a function to modify a\n * compose factory prototype\n *\n * @param base The target compose factory\n * @param overlayFunction The callback function that will modify the prototype of the factory\n */\nfunction overlay<T, O>(base: ComposeFactory<T, O>, overlayFunction: OverlayFunction<T>): ComposeFactory<T, O> {\n\tconst factory = createFactory({\n\t\tfactories: [ base ]\n\t});\n\toverlayFunction(factory.prototype);\n\treturn factory;\n}\n\n/* AOP/Inheritance API */\n\n/**\n * A descriptor for applying advice to a set of methods\n */\nexport interface AspectAdvice {\n\t/**\n\t * Any methods where the supplied advice should be applied *before* the base method is invoked\n\t */\n\tbefore?: { [method: string]: BeforeAdvice };\n\n\t/**\n\t * Any methods where the supplied advice should be applied *after* the base method is invoked\n\t */\n\tafter?: { [method: string]: AfterAdvice<any> };\n\n\t/**\n\t * Any methods where the supplied advice should be applied *around* the base method\n\t */\n\taround?: { [method: string]: AroundAdvice<any> };\n}\n\n/* Mixin API */\n\n/**\n * Either a class, object literal, or a factory\n */\nexport type ComposeMixinItem<T, O> = GenericClass<T> | T | ComposeFactory<T, O>;\n\n/**\n * An object which provides information on how to mixin into a compose factory\n */\nexport interface ComposeMixinDescriptor<T, O, U, P> {\n\t/**\n\t * The class, object literal, or factory to be mixed in\n\t */\n\tmixin?: ComposeMixinItem<U, P>;\n\n\t/**\n\t * An initialize function to be executed upon construction\n\t */\n\tinitialize?: ComposeInitializationFunction<T & U, O & P>;\n\n\t/**\n\t * Aspect Oriented Advice to be mixed into the factory\n\t */\n\taspectAdvice?: AspectAdvice;\n\n\t/**\n\t * An optional class name which is used when labelling different parts of a factory for\n\t * debugging purposes\n\t */\n\tclassName?: string;\n}\n\n/**\n * Identifies a compose factory or other object that can be transformed into a\n * ComposeMixinDescriptor\n */\nexport interface ComposeMixinable<U, P> {\n\t/**\n\t * A method that offers up a ComposeMixinDescriptor to allow complex mixin in of factories\n\t */\n\tfactoryDescriptor<T, O>(): ComposeMixinDescriptor<T, O, U, P>;\n}\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Mixin additional mixins, initialization logic, and aspect advice into the factory\n\t *\n\t * @param mixin An object literal that describes what to mixin\n\t */\n\tmixin<U, P>(mixin: ComposeMixinable<U, P>): ComposeFactory<T & U, O & P>;\n\tmixin<U, P>(mixin: ComposeMixinDescriptor<T, O, U, P>): ComposeFactory<T & U, O & P>;\n}\n\nexport interface Compose {\n\t/**\n\t * Mixin additional mixins, initialization logic, and aspect advice into a factory\n\t *\n\t * @param base The base factory that is the target of the mixin\n\t * @param mixin An object literal that describes what to mixin\n\t */\n\tmixin<T, O, U, P>(\n\t\tbase: ComposeFactory<T, O>,\n\t\tmixin: ComposeMixinable<U, P>\n\t): ComposeFactory<T & U, O & P>;\n\tmixin<T, O, U, P>(\n\t\tbase: ComposeFactory<T, O>,\n\t\tmixin: ComposeMixinDescriptor<T, O, U, P>\n\t): ComposeFactory<T & U, O & P>;\n}\n\n/**\n * Internal function that converts `AspectAdvice` into `AdviceMap` which can then be used for\n * creating a factory\n *\n * @param aspectAdvice The aspect advice to convert into an advice map\n */\nfunction aspectAdviceToAdviceMap(aspectAdvice: AspectAdvice | undefined): AdviceMap | undefined {\n\tif (!aspectAdvice) {\n\t\treturn;\n\t}\n\n\tconst adviceMap: AdviceMap = {};\n\tconst beforeAdvice = aspectAdvice.before;\n\tconst afterAdvice = aspectAdvice.after;\n\tconst aroundAdvice = aspectAdvice.around;\n\n\tfunction mapAdvice(type: string, key: string, advice: { [ key: string ]: any }) {\n\t\tconst adviceTuple = [ type, advice[key] ] as AdviceTuple;\n\t\tif (adviceMap[key]) {\n\t\t\tadviceMap[key].push(adviceTuple);\n\t\t}\n\t\telse {\n\t\t\tadviceMap[key] = [ adviceTuple ];\n\t\t}\n\t}\n\n\tif (beforeAdvice) {\n\t\tobjectKeys(beforeAdvice).forEach((key) => {\n\t\t\t/* TODO: Remove ! in 2.1 */\n\t\t\tmapAdvice('before', key, beforeAdvice!);\n\t\t});\n\t}\n\tif (afterAdvice) {\n\t\tobjectKeys(afterAdvice).forEach((key) => {\n\t\t\t/* TODO: Remove ! in 2.1 */\n\t\t\tmapAdvice('after', key, afterAdvice!);\n\t\t});\n\t}\n\tif (aroundAdvice) {\n\t\tobjectKeys(aroundAdvice).forEach((key) => {\n\t\t\t/* TODO: Remove ! in 2.1 */\n\t\t\tmapAdvice('around', key, aroundAdvice!);\n\t\t});\n\t}\n\treturn adviceMap;\n}\n\n/**\n * A custom type guard that determines if a value is ComposeMixinable\n *\n * @param value The value to guard for\n */\nfunction isComposeMixinable(value: any): value is ComposeMixinable<any, any> {\n\treturn Boolean(value && 'factoryDescriptor' in value && typeof value.factoryDescriptor === 'function');\n}\n\n/**\n * The internal implementation of mixin in values into a compose factory\n *\n * @param base The base compose factory that is the target for being mixed in\n * @param toMixin The value to be mixed in\n */\nfunction mixin<T, O, U, P>(\n\tbase: ComposeFactory<T, O>,\n\ttoMixin: ComposeMixinable<U, P> | ComposeMixinDescriptor<T, O, U, P>\n): ComposeFactory<T & U, O & P> {\n\t/* ensure we are dealing with a mixinDescriptor */\n\tconst mixinDescriptor = isComposeMixinable(toMixin) ? toMixin.factoryDescriptor() : toMixin;\n\n\t/* destructure out most of the factory creation options */\n\tconst { mixin, initialize: initFunction, aspectAdvice, className } = mixinDescriptor;\n\n\t/* we will at least be using the base factory to create the new one */\n\tconst factories: ComposeFactory<any, any>[] = [ base ];\n\tlet proto: any;\n\n\t/* if mixin is a compose factory, we will pass it as a factory used to create the new factory */\n\tif (isComposeFactory(mixin)) {\n\t\tfactories.push(mixin);\n\t}\n\t/* otherwise we are dealing with a prototype based mixin */\n\telse {\n\t\t/* of which, we can have a constructor function/class, or an object literal (or undefined) */\n\t\tproto = typeof mixin === 'function' ? mixin.prototype : mixin;\n\t}\n\n\t/* convert the advice, if any, to the format used by createFactory */\n\tconst advice = aspectAdviceToAdviceMap(aspectAdvice);\n\n\t/* label the initFn */\n\tif (initFunction) {\n\t\tassignFunctionName(\n\t\t\tinitFunction,\n\t\t\t`mixin${className || (isComposeFactory(mixin) && mixin.name) || base.name}`\n\t\t);\n\t}\n\n\t/* return the newly created factory */\n\treturn createFactory({\n\t\tadvice,\n\t\tfactories,\n\t\tinitFunction,\n\t\tclassName,\n\t\tproto\n\t}) as ComposeFactory<T & U, O & P>;\n}\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Extract a method from another Class or Factory and add it to the returned factory\n\t *\n\t * @param base The base Class or Factory\n\t * @param method The name of the method to extract\n\t */\n\tfrom(base: GenericClass<any> | ComposeFactory<any, any>, method: string): this;\n\n\t/**\n\t * Apply advice *before* the named method (join-point)\n\t *\n\t * @param method The method to apply the advice to\n\t * @param advice The advice to be applied\n\t */\n\tbefore(method: string, advice: BeforeAdvice): this;\n\n\t/**\n\t * Apply advice *after* the named method (join-point)\n\t *\n\t * @param method The method to apply the advice to\n\t * @param advice The advice to be applied\n\t */\n\tafter<P>(method: string, advice: AfterAdvice<P>): this;\n\n\t/**\n\t * Apply advice *around* the named method (join-point)\n\t *\n\t * @param method The method to apply the advice to\n\t * @param advice The advice to be applied\n\t */\n\taround<P>(method: string, advice: AroundAdvice<P>): this;\n\n\t/**\n\t * Provide an object literal which can contain a map of advice to apply\n\t *\n\t * @param advice An object literal which contains the maps of advice to apply\n\t */\n\taspect(advice: AspectAdvice): this;\n}\n\nexport interface Compose {\n\t/**\n\t * Extract a method from another Class or Factory and return it\n\t *\n\t * @param base The Class or Factory to extract from\n\t * @param method The method name to be extracted\n\t */\n\tfrom<T extends Function>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol): T;\n\n\t/**\n\t * Apply advice *before* the named method (join-point)\n\t *\n\t * @param base The Class or Factory to extract the method from\n\t * @param method The method name to apply the advice to\n\t * @param advice The advice to apply\n\t */\n\tbefore<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: BeforeAdvice): GenericFunction<T>;\n\tbefore<T>(method: GenericFunction<T>, advice: BeforeAdvice): GenericFunction<T>;\n\n\t/**\n\t * Apply advice *after* the named method (join-point)\n\t *\n\t * @param base The Class or Factory to extract the method from\n\t * @param method The method name to apply the advice to\n\t * @param advice The advice to apply\n\t */\n\tafter<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: AfterAdvice<T>): GenericFunction<T>;\n\tafter<T>(method: GenericFunction<T>, advice: AfterAdvice<T>): GenericFunction<T>;\n\n\t/**\n\t * Apply advice *around* the named method (join-point)\n\t *\n\t * @param base The Class or Factory to extract the method from\n\t * @param method The method name to apply the advice to\n\t * @param advice The advice to apply\n\t */\n\taround<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: AroundAdvice<T>): GenericFunction<T>;\n\taround<T>(method: GenericFunction<T>, advice: AroundAdvice<T>): GenericFunction<T>;\n\n\t/**\n\t * Apply advice to methods that exist in the base factory using the supplied advice map\n\t *\n\t * @param base The Factory that contains the methods the advice will be applied to\n\t * @param advice The map of advice to be applied\n\t */\n\taspect<O, A>(base: ComposeFactory<O, A>, advice: AspectAdvice): ComposeFactory<O, A>;\n}\n\n/**\n * Internal implementation of extracting methods from another object\n *\n * @param base The target that the method should be extracted from\n * @param method The name of the method\n */\nfunction from<T extends Function>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol): T {\n\treturn base.prototype[method];\n}\n\n/**\n * Internal implementation to apply from when `this` represents the base\n *\n * @param base The target that the method should be extracted from\n * @param method The name of the method\n */\nfunction doFrom<T, O>(this: ComposeFactory<T, O>, base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol): ComposeFactory<T, O> {\n\treturn createFactory({\n\t\tfactories: [ this ],\n\t\tproto: {\n\t\t\t[method]: base.prototype[method]\n\t\t}\n\t}) as ComposeFactory<T, O>;\n}\n\n/**\n * The internal implementation to apply before advice to a factory\n *\n * @param base The target that the advice should be applied to\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction before<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: BeforeAdvice): GenericFunction<T>;\nfunction before<T>(method: GenericFunction<T>, advice: BeforeAdvice): GenericFunction<T>;\nfunction before(...args: any[]): GenericFunction<any> {\n\tlet base: GenericFunction<any>;\n\tlet method: string | GenericFunction<any>;\n\tlet advice: BeforeAdvice;\n\tif (args.length >= 3) {\n\t\t[ base, method, advice ] = args;\n\t\tmethod = base.prototype[<string> method];\n\t}\n\telse {\n\t\t[ method, advice ] = args;\n\t}\n\treturn aspectBefore(<GenericFunction<any>> method, advice);\n}\n\n/**\n * The internal implementation to apply before advice when `this` is scoped as the base factory\n *\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction doBefore<T, O>(this: ComposeFactory<T, O>, method: string | symbol, advice: BeforeAdvice): ComposeFactory<T, O> {\n\treturn createFactory({\n\t\tfactories: [ this ],\n\t\tadvice: {\n\t\t\t[method]: [ [ 'before', advice ] ]\n\t\t}\n\t});\n}\n\n/**\n * The internal implementation to apply after advice to a factory\n *\n * @param base The target that the advice should be applied to\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction after<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: AfterAdvice<T>): GenericFunction<T>;\nfunction after<T>(method: GenericFunction<T>, advice: AfterAdvice<T>): GenericFunction<T>;\nfunction after(...args: any[]): GenericFunction<any> {\n\tlet base: GenericFunction<any>;\n\tlet method: string | GenericFunction<any>;\n\tlet advice: AfterAdvice<any>;\n\tif (args.length >= 3) {\n\t\t[ base, method, advice ] = args;\n\t\tmethod = base.prototype[<string> method];\n\t}\n\telse {\n\t\t[ method, advice ] = args;\n\t}\n\treturn aspectAfter(<GenericFunction<any>> method, advice);\n}\n\n/**\n * The internal implementation to apply after advice when `this` is scoped as the base factory\n *\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction doAfter<T, P, O>(this: ComposeFactory<T, O>, method: string | symbol, advice: AfterAdvice<P>): ComposeFactory<T, O> {\n\treturn createFactory({\n\t\tfactories: [ this ],\n\t\tadvice: {\n\t\t\t[method]: [ [ 'after', advice ] ]\n\t\t}\n\t});\n}\n\n/**\n * The internal implementation to apply after around when `this` is scoped as the base factory\n *\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction around<T>(base: GenericClass<any> | ComposeFactory<any, any>, method: string | symbol, advice: AfterAdvice<T>): GenericFunction<T>;\nfunction around<T>(method: GenericFunction<T>, advice: AroundAdvice<T>): GenericFunction<T>;\nfunction around(...args: any[]): GenericFunction<any> {\n\tlet base: GenericFunction<any>;\n\tlet method: string | GenericFunction<any>;\n\tlet advice: AfterAdvice<any>;\n\tif (args.length >= 3) {\n\t\t[ base, method, advice ] = args;\n\t\tmethod = base.prototype[<string> method];\n\t}\n\telse {\n\t\t[ method, advice ] = args;\n\t}\n\treturn aspectAround(<GenericFunction<any>> method, advice);\n}\n\n/**\n * The internal implementation to apply around advice when `this` is scoped as the base factory\n *\n * @param method The name of the method that the advice should be applied to\n * @param advice The advice to apply\n */\nfunction doAround<T, P, O>(this: ComposeFactory<T, O>, method: string | symbol, advice: AroundAdvice<P>): ComposeFactory<T, O> {\n\treturn createFactory({\n\t\tfactories: [ this ],\n\t\tadvice: {\n\t\t\t[method]: [ [ 'around', advice ] ]\n\t\t}\n\t});\n}\n\n/**\n * The internal implementation of applying aspect advice to a factory\n *\n * @param base The base factory the advice should be applied to\n * @param advice The advice map to apply to the factory\n */\nfunction aspect<T, O>(base: ComposeFactory<T, O>, advice: AspectAdvice): ComposeFactory<T, O> {\n\treturn createFactory({\n\t\tfactories: [ base ],\n\t\tadvice: aspectAdviceToAdviceMap(advice)\n\t});\n}\n\n/* Creation API */\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Create a new instance\n\t *\n\t * @param options Options that are passed to the initialization functions of the factory\n\t */\n\t(options?: O): T;\n\n\t/**\n\t * The read only prototype of the factory\n\t */\n\treadonly prototype: T;\n}\n\nexport interface Compose {\n\t/**\n\t * Create a new factory based on a supplied Class, Factory or Object prototype with an optional\n\t * initalization function\n\t *\n\t * @param base The base Class, Factory or Object prototype to use\n\t * @param initFunction An optional function that will be passed the instance and any creation options\n\t * @param className An optional class name that is used to label the factory for debug purposes\n\t */\n\t<T, O>(base: GenericClass<T> | T): ComposeFactory<T, O>;\n\t<T, O>(className: string, base: GenericClass<T> | T): ComposeFactory<T, O>;\n\t<T, O>(base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\n\t<T, O>(className: string, base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\n\t<T, O, P>(base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\n\t<T, O, P>(className: string, base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\n\n\t/**\n\t * Create a new factory based on a supplied Class, Factory or Object prototype with an optional\n\t * initialization function\n\t *\n\t * @param base The base Class, Facotry or Object prototype to use\n\t * @param initFunction An optional function that will be passed the instance and nay creation options\n\t */\n\tcreate<T, O>(base: GenericClass<T> | T): ComposeFactory<T, O>;\n\tcreate<T, O>(className: string, base: GenericClass<T> | T): ComposeFactory<T, O>;\n\tcreate<T, O>(base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\n\tcreate<T, O>(className: string, base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\n\tcreate<T, O, P>(base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\n\tcreate<T, O, P>(className: string, base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\n}\n\n/**\n * The internal implementation to create a compose factory\n *\n * @param base The base to use for creating the factory\n * @param initFunction Any function that should be run after the factory creates the instance\n */\nfunction create<T, O>(base: GenericClass<T> | T): ComposeFactory<T, O>;\nfunction create<T, O>(className: string, base: GenericClass<T> | T): ComposeFactory<T, O>;\nfunction create<T, O>(base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\nfunction create<T, O>(className: string, base: GenericClass<T> | T, initFunction?: ComposeInitializationFunction<T, O>): ComposeFactory<T, O>;\nfunction create<T, O, P>(base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\nfunction create<T, O, P>(className: string, base: ComposeFactory<T, O>, initFunction?: ComposeInitializationFunction<T, O & P>): ComposeFactory<T, O & P>;\nfunction create<O>(className: any, base?: any, initFunction?: ComposeInitializationFunction<any, O>): ComposeFactory<any, any> {\n\t/* disambugate arguments */\n\tif (typeof className !== 'string') {\n\t\tinitFunction = base;\n\t\tbase = className;\n\t\tclassName = undefined;\n\t}\n\n\t/* Label the initFunction */\n\tif (initFunction && className) {\n\t\tassignFunctionName(initFunction, `init${className}`);\n\t}\n\n\tlet factories: ComposeFactory<any, any>[] | undefined;\n\tlet proto: any;\n\n\t/* If base is a compose factory, set it as the factory array */\n\tif (base && isComposeFactory(base)) {\n\t\tfactories = [ base ];\n\t}\n\t/* Otherwise, we are dealing with a constructor function or a prototype */\n\telse {\n\t\tproto = typeof base === 'function' ? base.prototype : base;\n\t}\n\n\treturn createFactory({\n\t\tclassName,\n\t\tfactories,\n\t\tinitFunction,\n\t\tproto\n\t});\n}\n\n/* Extend factory with static properties */\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * Add static properties to a factory\n\t *\n\t * @param staticProperties An object literal that contains methods and properties that should be \"static\" (e.g. added to\n\t *                         the factory, instead of the factory's prototype)\n\t */\n\tstatic<S>(staticProperties: S): this & S;\n}\n\nexport interface Compose {\n\t/**\n\t * Add static properties to a factory\n\t *\n\t * @param staticProperties An object literal that contains methods and properties that should be \"static\" (e.g. added to\n\t *                         the factory, instead of the factory's prototype)\n\t */\n\tstatic<T, O, S>(factory: ComposeFactory<T, O>, staticProperties: S): ComposeFactory<T, O> & S;\n}\n\n/**\n * Internal implementation of applying static properties to a compose factory\n *\n * @param factory The factory that the static properties should be applied to\n * @param staticProperties The properties to be applied to the factory\n */\nfunction _static<T, O, S>(base: ComposeFactory<T, O>, staticProperties: S): ComposeFactory<T, O> & S {\n\treturn createFactory({\n\t\tfactories: [ base ],\n\t\tstaticProperties\n\t});\n}\n\nexport interface ComposeFactory<T, O> extends ComposeMixinable<T, O> {\n\t/**\n\t * The class name of the ComposeFactory\n\t */\n\treadonly name?: string;\n}\n\n/**\n * A factory construction utility\n *\n * @param base An ES6 Class, ComposeFactory or Object literal to use as the base for the new factory\n * @param initFunction An optional initialization function for the factory\n */\nconst compose = create as Compose;\n\n/* Add static methods to compose */\n\nassign(compose, {\n\tcreate,\n\tstatic: _static,\n\textend, /* DEPRECATED */\n\tmixin,\n\toverride,\n\toverlay,\n\tfrom,\n\tbefore,\n\tafter,\n\taround,\n\taspect\n});\n\nexport default compose;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/compose.ts","import WeakMap from 'dojo-shim/WeakMap';\n\nexport interface AdvisingFunction extends Function {\n\t/**\n\t * The next advice in an advice chain\n\t */\n\treadonly next: AdvisingFunction;\n\n\t/**\n\t * The previous advice in an advice chain\n\t */\n\treadonly previous: AdvisingFunction;\n}\n\nexport interface DispatchAdvice<T> {\n\tbefore?: BeforeAdvice[];\n\tafter?: AfterAdvice<T>[];\n\treadonly joinPoint: Function;\n}\n\nexport interface BeforeAdvice {\n\t/**\n\t * Advice which is applied *before*, receiving the original arguments, if the advising\n\t * function returns a value, it is passed further along taking the place of the original\n\t * arguments.\n\t *\n\t * @param args The arguments the method was called with\n\t */\n\t(...args: any[]): any[] | void;\n}\n\nexport interface AfterAdvice<T> {\n\t/**\n\t * Advice which is applied *after*, receiving the result and arguments from the join point.\n\t *\n\t * @param result The result from the function being advised\n\t * @param args The arguments that were supplied to the advised function\n\t * @returns The value returned from the advice is then the result of calling the method\n\t */\n\t(result: T, ...args: any[]): T;\n}\n\nexport interface AroundAdvice<T> {\n\t/**\n\t * Advice which is applied *around*.  The advising function receives the original function and\n\t * needs to return a new function which will then invoke the original function.\n\t *\n\t * @param origFn The original function\n\t * @returns A new function which will inoke the original function.\n\t */\n\t(origFn: GenericFunction<T>): (...args: any[]) => T;\n}\n\n/**\n * Types of advice\n */\nexport enum AdviceType { Before, After, Around };\n\n/**\n * A weak map of dispatchers used to apply the advice\n */\nconst dispatchAdviceMap = new WeakMap<Function, DispatchAdvice<any>>();\n\nexport interface GenericFunction<T> {\n\t(...args: any[]): T;\n}\n\n/**\n * Returns the dispatcher function for a given joinPoint (method/function)\n *\n * @param joinPoint The function that is to be advised\n */\nfunction getDispatcher<F extends GenericFunction<T>, T>(joinPoint: F): F {\n\n\tfunction dispatcher(this: Function, ...args: any[]): T {\n\t\tconst { before, after, joinPoint } = dispatchAdviceMap.get(dispatcher);\n\t\tif (before) {\n\t\t\targs = before.reduce((previousArgs, advice) => {\n\t\t\t\tconst currentArgs = advice.apply(this, previousArgs);\n\t\t\t\treturn currentArgs || previousArgs;\n\t\t\t}, args);\n\t\t}\n\t\tlet result = joinPoint.apply(this, args);\n\t\tif (after) {\n\t\t\tresult = after.reduce((previousResult, advice) => {\n\t\t\t\treturn advice.apply(this, [ previousResult ].concat(args));\n\t\t\t}, result);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/* We want to \"clone\" the advice that has been applied already, if this\n\t * joinPoint is already advised */\n\tif (dispatchAdviceMap.has(joinPoint)) {\n\t\tconst adviceMap = dispatchAdviceMap.get(joinPoint);\n\t\tlet { before, after } = adviceMap;\n\t\tif (before) {\n\t\t\tbefore = before.slice(0);\n\t\t}\n\t\tif (after) {\n\t\t\tafter = after.slice(0);\n\t\t}\n\t\tdispatchAdviceMap.set(dispatcher, {\n\t\t\tjoinPoint: adviceMap.joinPoint,\n\t\t\tbefore,\n\t\t\tafter\n\t\t});\n\t}\n\t/* Otherwise, this is a new joinPoint, so we will create the advice map afresh */\n\telse {\n\t\tdispatchAdviceMap.set(dispatcher, { joinPoint });\n\t}\n\n\treturn dispatcher as F;\n}\n\n/**\n * Advise a join point (function) with supplied advice\n *\n * @param joinPoint The function to be advised\n * @param type The type of advice to be applied\n * @param advice The advice to apply\n */\nfunction advise<F extends GenericFunction<T>, T>(this: any, joinPoint: F, type: AdviceType, advice: BeforeAdvice | AfterAdvice<T> | AroundAdvice<T>): F {\n\tlet dispatcher: F;\n\tif (type === AdviceType.Around) {\n\t\tdispatcher = getDispatcher(advice.apply(this, [ joinPoint ]));\n\t}\n\telse {\n\t\tdispatcher = getDispatcher(joinPoint);\n\t\tconst adviceMap = dispatchAdviceMap.get(dispatcher);\n\t\tif (type === AdviceType.Before) {\n\t\t\t(adviceMap.before || (adviceMap.before = [])).unshift(<BeforeAdvice> advice);\n\t\t}\n\t\telse {\n\t\t\t(adviceMap.after || (adviceMap.after = [])).push(advice);\n\t\t}\n\t}\n\treturn dispatcher;\n}\n\n/**\n * Apply advice *before* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The before advice\n */\nexport function before<F extends GenericFunction<any>>(joinPoint: F, advice: BeforeAdvice): F {\n\treturn advise(joinPoint, AdviceType.Before, advice);\n}\n\n/**\n * Apply advice *after* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The after advice\n */\nexport function after<F extends GenericFunction<T>, T>(joinPoint: F, advice: AfterAdvice<T>): F {\n\treturn advise(joinPoint, AdviceType.After, advice);\n}\n\n/**\n * Apply advice *around* the supplied joinPoint (function)\n *\n * @param joinPoint A function that should have advice applied to\n * @param advice The around advice\n */\nexport function around<F extends GenericFunction<T>, T>(joinPoint: F, advice: AroundAdvice<T>): F {\n\treturn advise<F, T>(joinPoint, AdviceType.Around, advice);\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/aspect.ts","import { ArrayLike } from 'dojo-interfaces/shim';\nimport { hasClass } from './support/decorators';\nimport global from './support/global';\nimport { forOf, Iterable } from './iterator';\nimport './Symbol';\n\nmodule Shim {\n\tconst DELETED: any = {};\n\n\tinterface Entry<K, V> {\n\t\tkey: K;\n\t\tvalue: V;\n\t}\n\n\tfunction getUID(): number {\n\t\treturn Math.floor(Math.random() * 100000000);\n\t}\n\n\tlet generateName = (function () {\n\t\tlet startId = Math.floor(Date.now() % 100000000);\n\n\t\treturn function generateName(): string {\n\t\t\treturn '__wm' + getUID() + (startId++ + '__');\n\t\t};\n\t})();\n\n\texport class WeakMap<K, V> {\n\t\tprivate _name: string;\n\t\tprivate _frozenEntries: Entry<K, V>[];\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tObject.defineProperty(this, '_name', {\n\t\t\t\tvalue: generateName()\n\t\t\t});\n\n\t\t\tthis._frozenEntries = [];\n\n\t\t\tif (iterable) {\n\t\t\t\tforOf(iterable, ([ key, value ]: [K, V]) => this.set(key, value));\n\t\t\t}\n\t\t}\n\n\t\tprivate _getFrozenEntryIndex(key: any): number {\n\t\t\tfor (let i = 0; i < this._frozenEntries.length; i++) {\n\t\t\t\tif (this._frozenEntries[i].key === key) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tdelete(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\tentry.value = DELETED;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\tthis._frozenEntries.splice(frozenIndex, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tget(key: any): V | undefined {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\treturn entry.value;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn this._frozenEntries[frozenIndex].value;\n\t\t\t}\n\t\t}\n\n\t\thas(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (Boolean(entry && entry.key === key && entry.value !== DELETED)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tset(key: any, value?: any): Shim.WeakMap<K, V> {\n\t\t\tif (!key || (typeof key !== 'object' && typeof key !== 'function')) {\n\t\t\t\tthrow new TypeError('Invalid value used as weak map key');\n\t\t\t}\n\t\t\tlet entry: Entry<K, V> = key[this._name];\n\t\t\tif (!entry || entry.key !== key) {\n\t\t\t\tentry = Object.create(null, {\n\t\t\t\t\tkey: { value: key }\n\t\t\t\t});\n\n\t\t\t\tif (Object.isFrozen(key)) {\n\t\t\t\t\tthis._frozenEntries.push(entry);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tObject.defineProperty(key, this._name, {\n\t\t\t\t\t\tvalue: entry\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry.value = value;\n\t\t\treturn this;\n\t\t}\n\n\t\t[Symbol.toStringTag]: string = 'WeakMap';\n\t}\n}\n\n@hasClass('es6-weakmap', global.WeakMap, Shim.WeakMap)\nexport default class WeakMap<K, V> {\n\t/* istanbul ignore next */\n\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {}\n\n\t/* istanbul ignore next */\n\tdelete(key: K): boolean { throw new Error(); }\n\t/* istanbul ignore next */\n\tget(key: K): V { throw new Error(); }\n\t/* istanbul ignore next */\n\thas(key: K): boolean { throw new Error(); }\n\t/* istanbul ignore next */\n\tset(key: K, value?: V): WeakMap<K, V> { throw new Error(); }\n\t/* istanbul ignore next */\n\t[Symbol.toStringTag]: string = 'WeakMap';\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/WeakMap.ts","import has from './support/has';\nimport global from './support/global';\nimport { getValueDescriptor } from './support/util';\n\nexport namespace Shim {\n\t/* tslint:disable-next-line:variable-name */\n\tlet Symbol: SymbolConstructor;\n\t/* tslint:disable-next-line:variable-name */\n\tlet InternalSymbol: SymbolConstructor;\n\n\tconst defineProperties = Object.defineProperties;\n\tconst defineProperty = Object.defineProperty;\n\tconst create = Object.create;\n\n\tconst objPrototype = Object.prototype;\n\n\tinterface GlobalSymbols {\n\t\t[key: string]: symbol;\n\t}\n\n\tconst globalSymbols: GlobalSymbols = {};\n\n\tinterface TypedPropertyDescriptor<T> extends PropertyDescriptor {\n\t\tvalue?: T;\n\t\tget? (): T;\n\t\tset? (v: T): void;\n\t}\n\n\tconst getSymbolName = (function () {\n\t\tconst created = create(null);\n\t\treturn function (desc: string|number): string {\n\t\t\tlet postfix = 0;\n\t\t\tlet name: string;\n\t\t\twhile (created[String(desc) + (postfix || '')]) {\n\t\t\t\t++postfix;\n\t\t\t}\n\t\t\tdesc += String(postfix || '');\n\t\t\tcreated[desc] = true;\n\t\t\tname = '@@' + desc;\n\n\t\t\t// FIXME: Temporary guard until the duplicate execution when testing can be\n\t\t\t// pinned down.\n\t\t\tif (!Object.getOwnPropertyDescriptor(objPrototype, name)) {\n\t\t\t\tdefineProperty(objPrototype, name, {\n\t\t\t\t\tset: function (this: Symbol, value: any) {\n\t\t\t\t\t\tdefineProperty(this, name, getValueDescriptor(value));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn name;\n\t\t};\n\t}());\n\n\tInternalSymbol = function Symbol(this: any, description?: string|number): symbol {\n\t\tif (this instanceof InternalSymbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\treturn Symbol(description);\n\t} as SymbolConstructor;\n\n\tSymbol = function Symbol(this: Symbol, description?: string|number): symbol {\n\t\tif (this instanceof Symbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\tconst sym = Object.create(InternalSymbol.prototype);\n\t\tdescription = (description === undefined ? '' : String(description));\n\t\treturn defineProperties(sym, {\n\t\t\t__description__: getValueDescriptor(description),\n\t\t\t__name__: getValueDescriptor(getSymbolName(description))\n\t\t});\n\t} as SymbolConstructor;\n\n\t/**\n\t * A custom guard function that determines if an object is a symbol or not\n\t * @param  {any}       value The value to check to see if it is a symbol or not\n\t * @return {is symbol}       Returns true if a symbol or not (and narrows the type guard)\n\t */\n\texport function isSymbol(value: any): value is symbol {\n\t\treturn (value && ((typeof value === 'symbol') || (value['@@toStringTag'] === 'Symbol'))) || false;\n\t}\n\n\t/**\n\t * Throws if the value is not a symbol, used internally within the Shim\n\t * @param  {any}    value The value to check\n\t * @return {symbol}       Returns the symbol or throws\n\t */\n\tfunction validateSymbol(value: any): symbol {\n\t\tif (!isSymbol(value)) {\n\t\t\tthrow new TypeError(value + ' is not a symbol');\n\t\t}\n\t\treturn value;\n\t}\n\n\t/* Decorate the Symbol function with the appropriate properties */\n\tdefineProperty(Symbol, 'for', getValueDescriptor(function (key: string): symbol {\n\t\tif (globalSymbols[key]) {\n\t\t\treturn globalSymbols[key];\n\t\t}\n\t\treturn (globalSymbols[key] = Symbol(String(key)));\n\t}));\n\tdefineProperties(Symbol, {\n\t\tkeyFor: getValueDescriptor(function (sym: symbol): string | undefined {\n\t\t\tlet key: string;\n\t\t\tvalidateSymbol(sym);\n\t\t\tfor (key in globalSymbols) {\n\t\t\t\tif (globalSymbols[key] === sym) {\n\t\t\t\t\treturn key;\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\thasInstance: getValueDescriptor(Symbol.for('hasInstance'), false, false),\n\t\tisConcatSpreadable: getValueDescriptor(Symbol.for('isConcatSpreadable'), false, false),\n\t\titerator: getValueDescriptor(Symbol.for('iterator'), false, false),\n\t\tmatch: getValueDescriptor(Symbol.for('match'), false, false),\n\t\treplace: getValueDescriptor(Symbol.for('replace'), false, false),\n\t\tsearch: getValueDescriptor(Symbol.for('search'), false, false),\n\t\tspecies: getValueDescriptor(Symbol.for('species'), false, false),\n\t\tsplit: getValueDescriptor(Symbol.for('split'), false, false),\n\t\ttoPrimitive: getValueDescriptor(Symbol.for('toPrimitive'), false, false),\n\t\ttoStringTag: getValueDescriptor(Symbol.for('toStringTag'), false, false),\n\t\tunscopables: getValueDescriptor(Symbol.for('unscopables'), false, false)\n\t});\n\n\t/* Decorate the InternalSymbol object */\n\tdefineProperties(InternalSymbol.prototype, {\n\t\tconstructor: getValueDescriptor(Symbol),\n\t\ttoString: getValueDescriptor(function (this: { __name__: string }) { return this.__name__; }, false, false)\n\t});\n\n\t/* Decorate the Symbol.prototype */\n\tdefineProperties(Symbol.prototype, {\n\t\ttoString: getValueDescriptor(function (this: Symbol) { return 'Symbol (' + (<any> validateSymbol(this)).__description__ + ')'; }),\n\t\tvalueOf: getValueDescriptor(function (this: Symbol) { return validateSymbol(this); })\n\t});\n\n\tdefineProperty(Symbol.prototype, <any> Symbol.toPrimitive, getValueDescriptor(function (this: Symbol) { return validateSymbol(this); }));\n\tdefineProperty(Symbol.prototype, <any> Symbol.toStringTag, getValueDescriptor('Symbol', false, false, true));\n\n\tdefineProperty(InternalSymbol.prototype, <any> Symbol.toPrimitive, getValueDescriptor(Symbol.prototype[Symbol.toPrimitive], false, false, true));\n\tdefineProperty(InternalSymbol.prototype, <any> Symbol.toStringTag, getValueDescriptor(Symbol.prototype[Symbol.toStringTag], false, false, true));\n\n\t/* tslint:disable-next-line:variable-name */\n\texport const Exposed = Symbol;\n}\n\n/* tslint:disable-next-line:variable-name */\nconst SymbolShim: SymbolConstructor = has('es6-symbol') ? global.Symbol : global.Symbol = Shim.Exposed;\n\n/**\n * Fill any missing well known symbols if the native Symbol is missing them\n */\n[ 'hasInstance', 'isConcatSpreadable', 'iterator', 'species', 'replace', 'search', 'split', 'match', 'toPrimitive',\n\t'toStringTag', 'unscopables' ].forEach((wellKnown) => {\n\t\tif (!(<any> Symbol)[wellKnown]) {\n\t\t\tObject.defineProperty(Symbol, wellKnown, getValueDescriptor(Symbol.for(wellKnown), false, false));\n\t\t}\n\t});\n\nexport const isSymbol = Shim.isSymbol;\n\nexport default SymbolShim;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/Symbol.ts","/**\n * Helper function to generate a value property descriptor\n *\n * @param value        The value the property descriptor should be set to\n * @param enumerable   If the property should be enumberable, defaults to false\n * @param writable     If the property should be writable, defaults to true\n * @param configurable If the property should be configurable, defaults to true\n * @return             The property descriptor object\n */\nexport function getValueDescriptor<T>(value: T, enumerable: boolean = false, writable: boolean = true, configurable: boolean = true): TypedPropertyDescriptor<T> {\n\treturn {\n\t\tvalue: value,\n\t\tenumerable: enumerable,\n\t\twritable: writable,\n\t\tconfigurable: configurable\n\t};\n}\n\n/**\n * A helper function which wraps a function where the first argument becomes the scope\n * of the call\n *\n * @param nativeFunction The source function to be wrapped\n */\nexport function wrapNative(nativeFunction: Function): any {\n\treturn function (target: any, ...args: any[]) {\n\t\treturn nativeFunction.apply(target, args);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/support/util.ts","const globalObject: any = Function('return this')();\nexport default globalObject;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/support/global.ts","import global from './global';\nimport has from 'dojo-has/has';\nimport { add } from 'dojo-has/has';\n\nexport default has;\nexport * from 'dojo-has/has';\n\n/* ECMAScript 6 and 7 Features */\n\n/* Object */\nadd('es6-object-assign', typeof (<any> Object).assign === 'function');\n\n/* Array */\nadd('es6-array-from', 'from' in global.Array);\nadd('es6-array-of', 'of' in global.Array);\nadd('es6-array-fill', () => {\n\tif ('fill' in global.Array.prototype) {\n\t\t/* Some versions of Safari do not properly implement this */\n\t\treturn (<any> [ 1 ]).fill(9, Number.POSITIVE_INFINITY)[0] === 1;\n\t}\n\treturn false;\n});\nadd('es6-array-findindex', 'findIndex' in global.Array.prototype);\nadd('es6-array-find', 'find' in global.Array.prototype);\nadd('es6-array-copywithin', 'copyWithin' in global.Array.prototype);\nadd('es7-array-includes', 'includes' in global.Array.prototype);\n\n/* String */\nadd('es6-string-raw', 'raw' in global.String);\nadd('es6-string-fromcodepoint', 'fromCodePoint' in global.String);\nadd('es6-string-codepointat', 'codePointAt' in global.String.prototype);\nadd('es6-string-normalize', 'normalize' in global.String.prototype);\nadd('es6-string-repeat', 'repeat' in global.String.prototype);\nadd('es6-string-startswith', 'startsWith' in global.String.prototype);\nadd('es6-string-endswith', 'endsWith' in global.String.prototype);\nadd('es6-string-includes', 'includes' in global.String.prototype);\n\n/* Math */\n\nadd('es6-math-acosh', typeof global.Math.acosh === 'function');\nadd('es6-math-clz32', typeof global.Math.clz32 === 'function');\nadd('es6-math-imul', () => {\n\tif ('imul' in global.Math) {\n\t\t/* Some versions of Safari on ios do not properly implement this */\n\t\treturn (<any> Math).imul(0xffffffff, 5) === -5;\n\t}\n\treturn false;\n});\n\n/* Promise */\nadd('es6-promise', typeof global.Promise !== 'undefined' && typeof global.Symbol !== 'undefined');\n\n/* Set */\nadd('es6-set', () => {\n\tif (typeof global.Set === 'function') {\n\t\t/* IE11 and older versions of Safari are missing critical ES6 Set functionality */\n\t\tconst set = new global.Set([1]);\n\t\treturn set.has(1) && 'keys' in set && typeof set.keys === 'function';\n\t}\n\treturn false;\n});\n\n/* Map */\nadd('es6-map', function () {\n\tif (typeof global.Map === 'function') {\n\t\t/*\n\t\tIE11 and older versions of Safari are missing critical ES6 Map functionality\n\t\tWe wrap this in a try/catch because sometimes the Map constructor exists, but does not\n\t\ttake arguments (iOS 8.4)\n\t\t */\n\t\ttry {\n\t\t\tconst map = new global.Map([ [0, 1] ]);\n\t\t\treturn map.has(0) && typeof map.keys === 'function' &&\n\t\t\t\ttypeof map.values === 'function' && typeof map.entries === 'function';\n\t\t}\n\t\tcatch (e) {\n\t\t\t/* istanbul ignore next: not testing on iOS at the moment */\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n});\n\n/* WeakMap */\nadd('es6-weakmap', function () {\n\tif (typeof global.WeakMap !== 'undefined') {\n\t\t/* IE11 and older versions of Safari are missing critical ES6 Map functionality */\n\t\tconst key1 = {};\n\t\tconst key2 = {};\n\t\tconst map = new global.WeakMap([ [ key1, 1 ] ]);\n\t\treturn map.get(key1) === 1 && map.set(key2, 2) === map;\n\t}\n\treturn false;\n});\n\n/* Symbol */\nadd('es6-symbol', typeof global.Symbol === 'function');\n\n/* Miscellaneous features */\n\nadd('float32array', 'Float32Array' in global);\nadd('setimmediate', typeof global.setImmediate !== 'undefined');\nadd('postmessage', typeof postMessage === 'function');\nadd('microtasks', () => has('es6-promise') || has('host-node') || has('dom-mutationobserver'));\n\n/* DOM Features */\n\nadd('dom-mutationobserver', () => has('host-browser') && Boolean(global.MutationObserver || global.WebKitMutationObserver));\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/support/has.ts","import { Require, Config } from './loader';\n\n/**\n * The valid return types from a feature test\n */\nexport type FeatureTestResult = boolean | string | number | undefined;\n\n/**\n * A function that tests for a feature and returns a result\n */\nexport type FeatureTest = () => FeatureTestResult;\n\n/**\n * A cache of results of feature tests\n */\nexport const testCache: { [feature: string]: FeatureTestResult } = {};\n\n/**\n * A cache of the un-resolved feature tests\n */\nexport const testFunctions: { [feature: string]: FeatureTest } = {};\n\nexport interface StaticHasFeatures {\n\t[ feature: string ]: FeatureTestResult;\n}\n\nexport interface DojoHasEnvironment {\n\t/**\n\t * Static features defined in the enviornment that should be used by the `has` module\n\t * instead of run-time detection.\n\t */\n\tstaticFeatures?: StaticHasFeatures | (() => StaticHasFeatures);\n}\n\ndeclare global {\n\tinterface Window {\n\t\t/**\n\t\t * The `dojo/has` enviornment which provides configuration when the module is\n\t\t * loaded.\n\t\t */\n\t\tDojoHasEnvironment?: DojoHasEnvironment;\n\t}\n}\n\n/**\n * A reference to the global scope (`window` in a browser, `global` in NodeJS)\n */\nconst globalScope = (function (): any {\n\t/* istanbul ignore else */\n\tif (typeof window !== 'undefined') {\n\t\t// Browsers\n\t\treturn window;\n\t}\n\telse if (typeof global !== 'undefined') {\n\t\t// Node\n\t\treturn global;\n\t}\n\telse if (typeof self !== 'undefined') {\n\t\t// Web workers\n\t\treturn self;\n\t}\n\t/* istanbul ignore next */\n\treturn {};\n})();\n\n/* Grab the staticFeatures if there are available */\nconst { staticFeatures }: DojoHasEnvironment = globalScope.DojoHasEnvironment || {};\n\n/* Cleaning up the DojoHasEnviornment */\nif ('DojoHasEnvironment' in globalScope) {\n\tdelete globalScope.DojoHasEnvironment;\n}\n\n/**\n * Custom type guard to narrow the `staticFeatures` to either a map or a function that\n * returns a map.\n *\n * @param value The value to guard for\n */\nfunction isStaticFeatureFunction(value: any): value is (() => StaticHasFeatures) {\n\treturn typeof value === 'function';\n}\n\n/**\n * The cache of asserted features that were available in the global scope when the\n * module loaded\n */\nconst staticCache: StaticHasFeatures = staticFeatures\n\t? isStaticFeatureFunction(staticFeatures)\n\t\t? staticFeatures.apply(globalScope)\n\t\t: staticFeatures\n\t: {}; /* Providing an empty cache, if none was in the environment\n\n/**\n * AMD plugin function.\n *\n * Conditional loads modules based on a has feature test value.\n *\n * @param resourceId Gives the resolved module id to load.\n * @param require The loader require function with respect to the module that contained the plugin resource in its\n *                dependency list.\n * @param load Callback to loader that consumes result of plugin demand.\n */\nexport function load(resourceId: string, require: Require, load: (value?: any) => void, config?: Config): void {\n\tresourceId ? require([ resourceId ], load) : load();\n}\n\n/**\n * AMD plugin function.\n *\n * Resolves resourceId into a module id based on possibly-nested tenary expression that branches on has feature test\n * value(s).\n *\n * @param resourceId The id of the module\n * @param normalize Resolves a relative module id into an absolute module id\n */\nexport function normalize(resourceId: string, normalize: (moduleId: string) => string): string | null {\n\tconst tokens: RegExpMatchArray = resourceId.match(/[\\?:]|[^:\\?]*/g) || [];\n\tlet i = 0;\n\n\tfunction get(skip?: boolean): string | null {\n\t\tconst term = tokens[i++];\n\t\tif (term === ':') {\n\t\t\t// empty string module name, resolves to null\n\t\t\treturn null;\n\t\t}\n\t\telse {\n\t\t\t// postfixed with a ? means it is a feature to branch on, the term is the name of the feature\n\t\t\tif (tokens[i++] === '?') {\n\t\t\t\tif (!skip && has(term)) {\n\t\t\t\t\t// matched the feature, get the first value from the options\n\t\t\t\t\treturn get();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// did not match, get the second value, passing over the first\n\t\t\t\t\tget(true);\n\t\t\t\t\treturn get(skip);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// a module\n\t\t\treturn term;\n\t\t}\n\t}\n\n\tconst id = get();\n\n\treturn id && normalize(id);\n}\n\n/**\n * Check if a feature has already been registered\n *\n * @param feature the name of the feature\n */\nexport function exists(feature: string): boolean {\n\treturn Boolean(feature in staticCache || feature in testCache || testFunctions[feature]);\n}\n\n/**\n * Register a new test for a named feature.\n *\n * @example\n * has.add('dom-addeventlistener', !!document.addEventListener);\n *\n * @example\n * has.add('touch-events', function () {\n *    return 'ontouchstart' in document\n * });\n *\n * @param feature the name of the feature\n * @param value the value reported of the feature, or a function that will be executed once on first test\n * @param overwrite if an existing value should be overwritten. Defaults to false.\n */\nexport function add(feature: string, value: FeatureTest | FeatureTestResult, overwrite: boolean = false): void {\n\tif (exists(feature) && !overwrite && !(feature in staticCache)) {\n\t\tthrow new TypeError(`Feature \"${feature}\" exists and overwrite not true.`);\n\t}\n\n\tif (typeof value === 'function') {\n\t\ttestFunctions[feature] = value;\n\t}\n\telse {\n\t\ttestCache[feature] = value;\n\t\tdelete testFunctions[feature];\n\t}\n}\n\n/**\n * Return the current value of a named feature.\n *\n * @param feature The name (if a string) or identifier (if an integer) of the feature to test.\n */\nexport default function has(feature: string): FeatureTestResult {\n\tlet result: FeatureTestResult;\n\n\tif (feature in staticCache) {\n\t\tresult = staticCache[feature];\n\t}\n\telse if (testFunctions[feature]) {\n\t\tresult = testCache[feature] = testFunctions[feature].call(null);\n\t\tdelete testFunctions[feature];\n\t}\n\telse if (feature in testCache) {\n\t\tresult = testCache[feature];\n\t}\n\telse {\n\t\tthrow new TypeError(`Attempt to detect unregistered has feature \"${feature}\"`);\n\t}\n\n\treturn result;\n}\n\n/*\n * Out of the box feature tests\n */\n\n/* Evironments */\n\n/* Used as a value to provide a debug only code path */\nadd('debug', true);\n\n/* Detects if the environment is \"browser like\" */\nadd('host-browser', typeof document !== 'undefined' && typeof location !== 'undefined');\n\n/* Detects if the enviornment appears to be NodeJS */\nadd('host-node', function () {\n\tif (typeof process === 'object' && process.versions && process.versions.node) {\n\t\treturn process.versions.node;\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-has/has.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 24\n// module chunks = 0","import { ArrayLike } from 'dojo-interfaces/shim';\nimport { HIGH_SURROGATE_MIN, HIGH_SURROGATE_MAX } from './string';\nimport './Symbol';\n\nexport interface IteratorResult<T> {\n\tdone: boolean;\n\tvalue: T;\n}\n\nexport interface Iterator<T> {\n\tnext(value?: any): IteratorResult<T>;\n\treturn?(value?: any): IteratorResult<T>;\n\tthrow?(e?: any): IteratorResult<T>;\n}\n\nexport interface Iterable<T> {\n\t[Symbol.iterator](): Iterator<T>;\n}\n\nexport interface IterableIterator<T> extends Iterator<T> {\n\t[Symbol.iterator](): IterableIterator<T>;\n}\n\nconst staticDone: IteratorResult<any> = { done: true, value: undefined };\n\n/**\n * A class that provides \"shims\" an iterator interface on array like\n * objects.\n */\nexport class ShimIterator<T> {\n\tprivate _list: ArrayLike<T>;\n\tprivate _nextIndex: number = -1;\n\tprivate _nativeIterator: Iterator<T>;\n\n\tconstructor(list: ArrayLike<T> | Iterable<T>) {\n\t\tif (isIterable(list)) {\n\t\t\tthis._nativeIterator = list[Symbol.iterator]();\n\t\t}\n\t\telse {\n\t\t\tthis._list = list;\n\t\t}\n\t};\n\n\t/**\n\t * Return the next iteration result for the Iterator\n\t */\n\tnext(): IteratorResult<T> {\n\t\tif (this._nativeIterator) {\n\t\t\treturn this._nativeIterator.next();\n\t\t}\n\t\tif (!this._list) {\n\t\t\treturn staticDone;\n\t\t}\n\t\tif (++this._nextIndex < this._list.length) {\n\t\t\treturn {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: this._list[this._nextIndex]\n\t\t\t};\n\t\t}\n\t\treturn staticDone;\n\t};\n\n\t[Symbol.iterator](): IterableIterator<T> {\n\t\treturn this;\n\t}\n}\n\n/**\n * A type guard for checking if something has an Iterable interface\n *\n * @param value The value to type guard against\n */\nexport function isIterable(value: any): value is Iterable<any> {\n\treturn value && typeof value[Symbol.iterator] === 'function';\n}\n\n/**\n * A type guard for checking if something is ArrayLike\n *\n * @param value The value to type guard against\n */\nexport function isArrayLike(value: any): value is ArrayLike<any> {\n\treturn value && typeof value.length === 'number';\n}\n\n/**\n * Returns the iterator for an object\n *\n * @param iterable The iterable object to return the iterator for\n */\nexport function get<T>(iterable: Iterable<T> | ArrayLike<T>): Iterator<T> | undefined {\n\tif (isIterable(iterable)) {\n\t\treturn iterable[Symbol.iterator]();\n\t}\n\telse if (isArrayLike(iterable)) {\n\t\treturn new ShimIterator(iterable);\n\t}\n};\n\nexport interface ForOfCallback<T> {\n\t/**\n\t * A callback function for a forOf() iteration\n\t *\n\t * @param value The current value\n\t * @param object The object being iterated over\n\t * @param doBreak A function, if called, will stop the iteration\n\t */\n\t(value: T, object: Iterable<T> | ArrayLike<T> | string, doBreak: () => void): void;\n}\n\n/**\n * Shims the functionality of `for ... of` blocks\n *\n * @param iterable The object the provides an interator interface\n * @param callback The callback which will be called for each item of the iterable\n * @param thisArg Optional scope to pass the callback\n */\nexport function forOf<T>(iterable: Iterable<T> | ArrayLike<T> | string, callback: ForOfCallback<T>, thisArg?: any): void {\n\tlet broken = false;\n\n\tfunction doBreak() {\n\t\tbroken = true;\n\t}\n\n\t/* We need to handle iteration of double byte strings properly */\n\tif (!isIterable(iterable) && typeof iterable === 'string') {\n\t\tconst l = iterable.length;\n\t\tfor (let i = 0; i < l; ++i) {\n\t\t\tlet char = iterable[i];\n\t\t\tif ((i + 1) < l) {\n\t\t\t\tconst code = char.charCodeAt(0);\n\t\t\t\tif ((code >= HIGH_SURROGATE_MIN) && (code <= HIGH_SURROGATE_MAX)) {\n\t\t\t\t\tchar += iterable[++i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback.call(thisArg, char, iterable, doBreak);\n\t\t\tif (broken) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\tconst iterator = get(iterable);\n\t\tif (iterator) {\n\t\t\tlet result = iterator.next();\n\n\t\t\twhile (!result.done) {\n\t\t\t\tcallback.call(thisArg, result.value, iterable, doBreak);\n\t\t\t\tif (broken) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresult = iterator.next();\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/iterator.ts","import has from './support/has';\nimport { wrapNative } from './support/util';\n\n/**\n * The minimum location of high surrogates\n */\nexport const HIGH_SURROGATE_MIN = 0xD800;\n\n/**\n * The maximum location of high surrogates\n */\nexport const HIGH_SURROGATE_MAX = 0xDBFF;\n\n/**\n * The minimum location of low surrogates\n */\nexport const LOW_SURROGATE_MIN = 0xDC00;\n\n/**\n * The maximum location of low surrogates\n */\nexport const LOW_SURROGATE_MAX = 0xDFFF;\n\nexport namespace Shim {\n\t/**\n\t * Validates that text is defined, and normalizes position (based on the given default if the input is NaN).\n\t * Used by startsWith, includes, and endsWith.\n\t *\n\t * @return Normalized position.\n\t */\n\tfunction normalizeSubstringArgs(name: string, text: string, search: string, position: number,\n\t\t\tisEnd: boolean = false): [ string, string, number ] {\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.' + name + ' requires a valid string to search against.');\n\t\t}\n\n\t\tconst length = text.length;\n\t\tposition = position !== position ? (isEnd ? length : 0) : position;\n\t\treturn [ text, String(search), Math.min(Math.max(position, 0), length) ];\n\t}\n\n\texport function raw(callSite: TemplateStringsArray, ...substitutions: any[]): string {\n\t\tlet rawStrings = callSite.raw;\n\t\tlet result = '';\n\t\tlet numSubstitutions = substitutions.length;\n\n\t\tif (callSite == null || callSite.raw == null) {\n\t\t\tthrow new TypeError('string.raw requires a valid callSite object with a raw value');\n\t\t}\n\n\t\tfor (let i = 0, length = rawStrings.length; i < length; i++) {\n\t\t\tresult += rawStrings[i] + (i < numSubstitutions && i < length - 1 ? substitutions[i] : '');\n\t\t}\n\n\t\treturn result;\n\t}\n\n\texport function fromCodePoint(...codePoints: number[]): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.fromCodePoint\n\t\tconst length = arguments.length;\n\t\tif (!length) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst fromCharCode = String.fromCharCode;\n\t\tconst MAX_SIZE = 0x4000;\n\t\tlet codeUnits: number[] = [];\n\t\tlet index = -1;\n\t\tlet result = '';\n\n\t\twhile (++index < length) {\n\t\t\tlet codePoint = Number(arguments[index]);\n\n\t\t\t// Code points must be finite integers within the valid range\n\t\t\tlet isValid = isFinite(codePoint) && Math.floor(codePoint) === codePoint &&\n\t\t\t\tcodePoint >= 0 && codePoint <= 0x10FFFF;\n\t\t\tif (!isValid) {\n\t\t\t\tthrow RangeError('string.fromCodePoint: Invalid code point ' + codePoint);\n\t\t\t}\n\n\t\t\tif (codePoint <= 0xFFFF) {\n\t\t\t\t// BMP code point\n\t\t\t\tcodeUnits.push(codePoint);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Astral code point; split in surrogate halves\n\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\tlet highSurrogate = (codePoint >> 10) + HIGH_SURROGATE_MIN;\n\t\t\t\tlet lowSurrogate = (codePoint % 0x400) + LOW_SURROGATE_MIN;\n\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t}\n\n\t\t\tif (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t\t\t\tresult += fromCharCode.apply(null, codeUnits);\n\t\t\t\tcodeUnits.length = 0;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function codePointAt(text: string, position: number = 0): number | undefined {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.codePointAt\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.codePointAt requries a valid string.');\n\t\t}\n\t\tconst length = text.length;\n\n\t\tif (position !== position) {\n\t\t\tposition = 0;\n\t\t}\n\t\tif (position < 0 || position >= length) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Get the first code unit\n\t\tconst first = text.charCodeAt(position);\n\t\tif (first >= HIGH_SURROGATE_MIN && first <= HIGH_SURROGATE_MAX && length > position + 1) {\n\t\t\t// Start of a surrogate pair (high surrogate and there is a next code unit); check for low surrogate\n\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\tconst second = text.charCodeAt(position + 1);\n\t\t\tif (second >= LOW_SURROGATE_MIN && second <= LOW_SURROGATE_MAX) {\n\t\t\t\treturn (first - HIGH_SURROGATE_MIN) * 0x400 + second - LOW_SURROGATE_MIN + 0x10000;\n\t\t\t}\n\t\t}\n\t\treturn first;\n\t}\n\n\t/* TODO: Missing normalize */\n\n\texport function repeat(text: string, count: number = 0): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.repeat\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\t\tif (count !== count) {\n\t\t\tcount = 0;\n\t\t}\n\t\tif (count < 0 || count === Infinity) {\n\t\t\tthrow new RangeError('string.repeat requires a non-negative finite count.');\n\t\t}\n\n\t\tlet result = '';\n\t\twhile (count) {\n\t\t\tif (count % 2) {\n\t\t\t\tresult += text;\n\t\t\t}\n\t\t\tif (count > 1) {\n\t\t\t\ttext += text;\n\t\t\t}\n\t\t\tcount >>= 1;\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function startsWith(text: string, search: string, position: number = 0): boolean {\n\t\tsearch = String(search);\n\t\t[ text, search, position ] = normalizeSubstringArgs('startsWith', text, search, position);\n\n\t\tconst end = position + search.length;\n\t\tif (end > text.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(position, end) === search;\n\t}\n\n\texport function endsWith(text: string, search: string, endPosition?: number): boolean {\n\t\tif (endPosition == null) {\n\t\t\tendPosition = text.length;\n\t\t}\n\n\t\t[ text, search, endPosition ] = normalizeSubstringArgs('endsWith', text, search, endPosition, true);\n\n\t\tconst start = endPosition - search.length;\n\t\tif (start < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(start, endPosition) === search;\n\t}\n\n\texport function includes(text: string, search: string, position: number = 0): boolean {\n\t\t[ text, search, position ] = normalizeSubstringArgs('includes', text, search, position);\n\t\treturn text.indexOf(search, position) !== -1;\n\t}\n\n\t/* TODO: Provide an iterator for a string to mimic [Symbol.iterator]? */\n}\n\n/**\n * A tag function for template strings to get the template string's raw string form.\n *\n * @param callSite Call site object (or a template string in TypeScript, which will transpile to one)\n * @param substitutions Values to substitute within the template string (TypeScript will generate these automatically)\n * @return String containing the raw template string with variables substituted\n *\n * @example\n * // Within TypeScript; logs 'The answer is:\\\\n42'\n * let answer = 42;\n * console.log(string.raw`The answer is:\\n${answer}`);\n *\n * @example\n * // The same example as above, but directly specifying a JavaScript object and substitution\n * console.log(string.raw({ raw: [ 'The answer is:\\\\n', '' ] }, 42));\n */\nexport const raw: (callSite: TemplateStringsArray, ...substitutions: any[]) => string = has('es6-string-raw')\n\t? (<any> String).raw\n\t: Shim.raw;\n\n/**\n * Returns the UTF-16 encoded code point value of a given position in a string.\n *\n * @param text The string containing the element whose code point is to be determined\n * @param position Position of an element within the string to retrieve the code point value from\n * @return A non-negative integer representing the UTF-16 encoded code point value\n */\nexport const fromCodePoint: (...codePoints: number[]) => string = has('es6-string-fromcodepoint')\n\t? (<any> String).fromCodePoint\n\t: Shim.fromCodePoint;\n\n/**\n * Returns the UTF-16 encoded code point value of a given position in a string.\n *\n * @param text The string containing the element whose code point is to be determined\n * @param position Position of an element within the string to retrieve the code point value from\n * @return A non-negative integer representing the UTF-16 encoded code point value\n */\nexport const codePointAt: (text: string, position?: number) => number = has('es6-string-codepointat')\n\t? wrapNative((<any> String.prototype).codePointAt)\n\t: Shim.codePointAt;\n\n/**\n * Returns a string containing the given string repeated the specified number of times.\n *\n * @param text The string to repeat\n * @param count The number of times to repeat the string\n * @return A string containing the input string repeated count times\n */\nexport const repeat: (text: string, count?: number) => string = has('es6-string-repeat')\n\t? wrapNative((<any> String.prototype).repeat)\n\t: Shim.repeat;\n\n/**\n * Determines whether a string begins with the given substring (optionally starting from a given index).\n *\n * @param text The string to look for the search string within\n * @param search The string to search for\n * @param position The index to begin searching at\n * @return Boolean indicating if the search string was found at the beginning of the given string\n */\nexport const startsWith: (text: string, search: string, position?: number) => boolean = has('es6-string-startswith')\n\t? wrapNative((<any> String.prototype).startsWith)\n\t: Shim.startsWith;\n\n/**\n * Determines whether a string ends with the given substring.\n *\n * @param text The string to look for the search string within\n * @param search The string to search for\n * @param endPosition The index searching should stop before (defaults to text.length)\n * @return Boolean indicating if the search string was found at the end of the given string\n */\nexport const endsWith: (text: string, search: string, endPosition?: number) => boolean = has('es6-string-endswith')\n\t? wrapNative((<any> String.prototype).endsWith)\n\t: Shim.endsWith;\n\n/**\n * Determines whether a string includes the given substring (optionally starting from a given index).\n *\n * @param text The string to look for the search string within\n * @param search The string to search for\n * @param position The index to begin searching at\n * @return Boolean indicating if the search string was found within the given string\n */\nexport const includes: (text: string, search: string, position?: number) => boolean = has('es6-string-includes')\n\t? wrapNative((<any> String.prototype).includes)\n\t: Shim.includes;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/string.ts","import has from './has';\n\n/**\n * A class decorator that provides either a native class or a shimmed class based on a feature\n * test\n * @param feature The has feature to check\n * @param trueClass The class to use if feature test returns `true`\n * @param falseClass The class to use if the feature test returns `false` or is not defined\n */\nexport function hasClass(feature: string, trueClass: Function, falseClass: Function): ClassDecorator {\n\treturn function (target: Function): Function {\n\t\treturn has(feature) ? trueClass : falseClass;\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/support/decorators.ts","import { ArrayLike } from 'dojo-interfaces/shim';\nimport has from './support/has';\nimport { wrapNative } from './support/util';\nimport { forOf, isArrayLike, isIterable, Iterable } from './iterator';\nimport { MAX_SAFE_INTEGER as maxSafeInteger } from './number';\n\nexport interface MapCallback<T, U> {\n\t/**\n\t * A callback function when mapping\n\t *\n\t * @param element The element that is currently being mapped\n\t * @param index The current index of the element\n\t */\n\t(element: T, index: number): U;\n}\n\nexport interface FindCallback<T> {\n\t/**\n\t * A callback function when using find\n\t *\n\t * @param element The element that is currenty being analysed\n\t * @param index The current index of the element that is being analysed\n\t * @param array The source array\n\t */\n\t(element: T, index: number, array: ArrayLike<T>): boolean;\n}\n\n/**\n * Ensures a non-negative, non-infinite, safe integer.\n *\n * @param length The number to validate\n * @return A proper length\n */\nfunction toLength(length: number): number {\n\tlength = Number(length);\n\tif (isNaN(length)) {\n\t\treturn 0;\n\t}\n\tif (isFinite(length)) {\n\t\tlength = Math.floor(length);\n\t}\n\t// Ensure a non-negative, real, safe integer\n\treturn Math.min(Math.max(length, 0), maxSafeInteger);\n}\n\n/**\n * From ES6 7.1.4 ToInteger()\n *\n * @param value A value to convert\n * @return An integer\n */\nfunction toInteger(value: any): number {\n\tvalue = Number(value);\n\tif (isNaN(value)) {\n\t\treturn 0;\n\t}\n\tif (value === 0 || !isFinite(value)) {\n\t\treturn value;\n\t}\n\n\treturn (value > 0 ? 1 : -1) * Math.floor(Math.abs(value));\n}\n\n/**\n * Normalizes an offset against a given length, wrapping it if negative.\n *\n * @param value The original offset\n * @param length The total length to normalize against\n * @return If negative, provide a distance from the end (length); otherwise provide a distance from 0\n */\nfunction normalizeOffset(value: number, length: number): number {\n\treturn value < 0 ? Math.max(length + value, 0) : Math.min(value, length);\n}\n\n/**\n * A namespace that contains the polyfilled functionality that is then exported below, depending on if\n * the functionality is required or not.\n */\nexport namespace Shim {\n\texport function from(this: ArrayConstructor, arrayLike: Iterable<any> | ArrayLike<any>, mapFunction?: MapCallback<any, any>, thisArg?: any): Array<any> {\n\t\tif (arrayLike == null) {\n\t\t\tthrow new TypeError('from: requires an array-like object');\n\t\t}\n\n\t\tif (mapFunction && thisArg) {\n\t\t\tmapFunction = mapFunction.bind(thisArg);\n\t\t}\n\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst Constructor = this;\n\t\tconst length: number = toLength((<any> arrayLike).length);\n\t\t// Support extension\n\t\tconst array: any[] = (typeof Constructor === 'function') ? <any[]> Object(new Constructor(length)) : new Array(length);\n\n\t\tif (!isArrayLike(arrayLike) && !isIterable(arrayLike)) {\n\t\t\treturn array;\n\t\t}\n\n\t\tlet i = 0;\n\t\tforOf(arrayLike, function (value): void {\n\t\t\tarray[i] = mapFunction ? mapFunction(value, i) : value;\n\t\t\ti++;\n\t\t});\n\n\t\tif ((<any> arrayLike).length !== undefined) {\n\t\t\tarray.length = length;\n\t\t}\n\n\t\treturn array;\n\t}\n\n\texport function of<T>(...items: T[]): Array<T> {\n\t\treturn Array.prototype.slice.call(items);\n\t}\n\n\texport function copyWithin<T>(target: ArrayLike<T>, offset: number, start: number, end?: number): ArrayLike<T> {\n\t\tif (target == null) {\n\t\t\tthrow new TypeError('copyWithin: target must be an array-like object');\n\t\t}\n\n\t\tconst length = toLength(target.length);\n\t\toffset = normalizeOffset(toInteger(offset), length);\n\t\tstart = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t\tlet count = Math.min(end - start, length - offset);\n\n\t\tlet direction = 1;\n\t\tif (offset > start && offset < (start + count)) {\n\t\t\tdirection = -1;\n\t\t\tstart += count - 1;\n\t\t\toffset += count - 1;\n\t\t}\n\n\t\twhile (count > 0) {\n\t\t\tif (start in target) {\n\t\t\t\ttarget[offset] = target[start];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdelete target[offset];\n\t\t\t}\n\n\t\t\toffset += direction;\n\t\t\tstart += direction;\n\t\t\tcount--;\n\t\t}\n\n\t\treturn target;\n\t}\n\n\texport function fill<T>(target: ArrayLike<T>, value: any, start?: number, end?: number): ArrayLike<T> {\n\t\tconst length = toLength(target.length);\n\t\tlet i = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\n\t\twhile (i < end) {\n\t\t\ttarget[i++] = value;\n\t\t}\n\n\t\treturn target;\n\t}\n\n\texport function find<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): T | undefined {\n\t\tconst index = findIndex<T>(target, callback, thisArg);\n\t\treturn index !== -1 ? target[index] : undefined;\n\t}\n\n\texport function findIndex<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): number {\n\t\tconst length = toLength(target.length);\n\n\t\tif (!callback) {\n\t\t\tthrow new TypeError('find: second argument must be a function');\n\t\t}\n\n\t\tif (thisArg) {\n\t\t\tcallback = callback.bind(thisArg);\n\t\t}\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tif (callback(target[i], i, target)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\texport function includes<T>(target: ArrayLike<T>, searchElement: T, fromIndex: number = 0): boolean {\n\t\tlet len = toLength(target.length);\n\n\t\tfor (let i = fromIndex; i < len; ++i) {\n\t\t\tconst currentElement = target[i];\n\t\t\tif (searchElement === currentElement ||\n\t\t\t\t(searchElement !== searchElement && currentElement !== currentElement)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n/* ES6 Array static methods */\n\nexport interface From {\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @param mapFunction A map function to call on each element in the array\n\t * @param thisArg The execution context for the map function\n\t * @return The new Array\n\t */\n\t<T, U>(source: ArrayLike<T> | Iterable<T>, mapFunction: MapCallback<T, U>, thisArg?: any): Array<U>;\n\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @return The new Array\n\t */\n\t<T>(source: ArrayLike<T> | Iterable<T>): Array<T>;\n}\n\nexport const from: From = has('es6-array-from')\n\t? (<any> Array).from\n\t: Shim.from;\n\n/**\n * Creates a new array from the function parameters.\n *\n * @param arguments Any number of arguments for the array\n * @return An array from the given arguments\n */\nexport const of: <T>(...items: T[]) => Array<T> = has('es6-array-of')\n\t? (<any> Array).of\n\t: Shim.of;\n\n/* ES6 Array instance methods */\n\n/**\n * Copies data internally within an array or array-like object.\n *\n * @param target The target array-like object\n * @param offset The index to start copying values to; if negative, it counts backwards from length\n * @param start The first (inclusive) index to copy; if negative, it counts backwards from length\n * @param end The last (exclusive) index to copy; if negative, it counts backwards from length\n * @return The target\n */\nexport const copyWithin: <T>(target: ArrayLike<T>, offset: number, start: number, end?: number) => ArrayLike<T> = has('es6-array-copywithin')\n\t? wrapNative((<any> Array.prototype).copyWithin)\n\t: Shim.copyWithin;\n\n/**\n * Fills elements of an array-like object with the specified value.\n *\n * @param target The target to fill\n * @param value The value to fill each element of the target with\n * @param start The first index to fill\n * @param end The (exclusive) index at which to stop filling\n * @return The filled target\n */\nexport const fill: <T>(target: ArrayLike<T>, value: T, start?: number, end?: number) => ArrayLike<T> = has('es6-array-fill')\n\t? wrapNative((<any> Array.prototype).fill)\n\t: Shim.fill;\n\n/**\n * Finds and returns the first instance matching the callback or undefined if one is not found.\n *\n * @param target An array-like object\n * @param callback A function returning if the current value matches a criteria\n * @param [thisArg] The execution context for the find function\n * @return The first element matching the callback, or undefined if one does not exist\n */\nexport const find: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => T = has('es6-array-find')\n\t? wrapNative((<any> Array.prototype).find)\n\t: Shim.find;\n\n/**\n * Performs a linear search and returns the first index whose value satisfies the passed callback,\n * or -1 if no values satisfy it.\n *\n * @param target An array-like object\n * @param callback A function returning true if the current value satisfies its criteria\n * @param [thisArg] The execution context for the find function\n * @return The first index whose value satisfies the passed callback, or -1 if no values satisfy it\n */\nexport const findIndex: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => number = has('es6-array-findindex')\n\t? wrapNative((<any> Array.prototype).findIndex)\n\t: Shim.findIndex;\n\n/* ES7 Array instance methods */\n\n/**\n * Determines whether an array includes a given value\n *\n * @param target the target array-like object\n * @param searchElement the item to search for\n * @param fromIndex the starting index to search from\n * @return `true` if the array includes the element, otherwise `false`\n */\nexport const includes: <T>(target: ArrayLike<T>, searchElement: T, fromIndex?: number) => boolean = has('es7-array-includes')\n\t? wrapNative((<any> Array.prototype).includes)\n\t: Shim.includes;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/array.ts","import global from './support/global';\n\n/**\n * The smallest interval between two representable numbers.\n */\nexport const EPSILON = 1;\n\n/**\n * The maximum safe integer in JavaScript\n */\nexport const MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * The minimum safe integer in JavaScript\n */\nexport const MIN_SAFE_INTEGER = -MAX_SAFE_INTEGER;\n\n/**\n * Determines whether the passed value is NaN without coersion.\n *\n * @param value The value to test\n * @return true if the value is NaN, false if it is not\n */\nexport function isNaN(value: any): boolean {\n\treturn typeof value === 'number' && global.isNaN(value);\n}\n\n/**\n * Determines whether the passed value is a finite number without coersion.\n *\n * @param value The value to test\n * @return true if the value is finite, false if it is not\n */\nexport function isFinite(value: any): boolean {\n\treturn typeof value === 'number' && global.isFinite(value);\n}\n\n/**\n * Determines whether the passed value is an integer.\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isInteger(value: any): boolean {\n\treturn isFinite(value) && Math.floor(value) === value;\n}\n\n/**\n * Determines whether the passed value is an integer that is 'safe,' meaning:\n *   1. it can be expressed as an IEEE-754 double precision number\n *   2. it has a one-to-one mapping to a mathematical integer, meaning its\n *      IEEE-754 representation cannot be the result of rounding any other\n *      integer to fit the IEEE-754 representation\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isSafeInteger(value: any): boolean {\n\treturn isInteger(value) && Math.abs(value) <= MAX_SAFE_INTEGER;\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/number.ts","import has from './has';\nimport { Handle } from 'dojo-interfaces/core';\n\nconst slice = Array.prototype.slice;\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Type guard that ensures that the value can be coerced to Object\n * to weed out host objects that do not derive from Object.\n * This function is used to check if we want to deep copy an object or not.\n * Note: In ES6 it is possible to modify an object's Symbol.toStringTag property, which will\n * change the value returned by `toString`. This is a rare edge case that is difficult to handle,\n * so it is not handled here.\n * @param  value The value to check\n * @return       If the value is coercible into an Object\n */\nfunction shouldDeepCopyObject(value: any): value is Object {\n\treturn Object.prototype.toString.call(value) === '[object Object]';\n}\n\nfunction copyArray<T>(array: T[], inherited: boolean): T[] {\n\treturn array.map(function (item: T): T {\n\t\tif (Array.isArray(item)) {\n\t\t\treturn  <any> copyArray(<any> item, inherited);\n\t\t}\n\n\t\treturn !shouldDeepCopyObject(item) ?\n\t\t\titem :\n\t\t\t_mixin({\n\t\t\t\tdeep: true,\n\t\t\t\tinherited: inherited,\n\t\t\t\tsources: <Array<T>> [ item ],\n\t\t\t\ttarget: <T> {}\n\t\t\t});\n\t});\n}\n\ninterface MixinArgs<T extends {}, U extends {}> {\n\tdeep: boolean;\n\tinherited: boolean;\n\tsources: (U | null | undefined)[];\n\ttarget: T;\n}\n\nfunction _mixin<T extends {}, U extends {}>(kwArgs: MixinArgs<T, U>): T&U {\n\tconst deep = kwArgs.deep;\n\tconst inherited = kwArgs.inherited;\n\tconst target = kwArgs.target;\n\n\tfor (let source of kwArgs.sources) {\n\t\tif (source === null || source === undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tfor (let key in source) {\n\t\t\tif (inherited || hasOwnProperty.call(source, key)) {\n\t\t\t\tlet value: any = (<any> source)[key];\n\n\t\t\t\tif (deep) {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\tvalue = copyArray(value, inherited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (shouldDeepCopyObject(value)) {\n\t\t\t\t\t\tvalue = _mixin({\n\t\t\t\t\t\t\tdeep: true,\n\t\t\t\t\t\t\tinherited: inherited,\n\t\t\t\t\t\t\tsources: <U[]> [ value ],\n\t\t\t\t\t\t\ttarget: {}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t(<any> target)[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn <T&U> target;\n}\n\ninterface ObjectAssignConstructor extends ObjectConstructor {\n\tassign<T extends {}, U extends {}>(target: T, ...sources: (U | null | undefined)[]): T&U;\n}\n\n/**\n * Copies the values of all enumerable own properties of one or more source objects to the target object.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable own properties will be copied to the target object\n * @return The modified target object\n */\nexport const assign = has('object-assign') ?\n\t(<ObjectAssignConstructor> Object).assign :\n\tfunction<T extends {}, U extends {}> (target: T, ...sources: (U | null | undefined)[]): T&U {\n\t\treturn _mixin({\n\t\t\tdeep: false,\n\t\t\tinherited: false,\n\t\t\tsources: sources,\n\t\t\ttarget: target\n\t\t});\n\t};\n\n/**\n * Creates a new object from the given prototype, and copies all enumerable own properties of one or more\n * source objects to the newly created target object.\n *\n * @param prototype The prototype to create a new object from\n * @param mixins Any number of objects whose enumerable own properties will be copied to the created object\n * @return The new object\n */\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(prototype: T, mixin1: U, mixin2: V, mixin3: W, mixin4: X, mixin5: Y, mixin6: Z): T & U & V & W & X & Y & Z;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(prototype: T, mixin1: U, mixin2: V, mixin3: W, mixin4: X, mixin5: Y): T & U & V & W & X & Y;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(prototype: T, mixin1: U, mixin2: V, mixin3: W, mixin4: X): T & U & V & W & X;\nexport function create<T extends {}, U extends {}, V extends {}, W extends {}>(prototype: T, mixin1: U, mixin2: V, mixin3: W): T & U & V & W;\nexport function create<T extends {}, U extends {}, V extends {}>(prototype: T, mixin1: U, mixin2: V): T & U & V;\nexport function create<T extends {}, U extends {}>(prototype: T, mixin: U): T & U;\nexport function create<T extends {}>(prototype: T): T;\nexport function create(prototype: any, ...mixins: any[]): any {\n\tif (!mixins.length) {\n\t\tthrow new RangeError('lang.create requires at least one mixin object.');\n\t}\n\n\tconst args = mixins.slice();\n\targs.unshift(Object.create(prototype));\n\n\treturn assign.apply(null, args);\n}\n\n/**\n * Copies the values of all enumerable own properties of one or more source objects to the target object,\n * recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable own properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y): T & U & V & W & X & Y;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(target: T, source1: U, source2: V, source3: W, source4: X): T & U & V & W & X;\nexport function deepAssign<T extends {}, U extends {}, V extends {}, W extends {}>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\nexport function deepAssign<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepAssign<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepAssign(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: false,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object, recursively copying all nested objects and arrays as well.\n *\n * @param target The target object to receive values from source objects\n * @param sources Any number of objects whose enumerable properties will be copied to the target object\n * @return The modified target object\n */\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y): T & U & V & W & X & Y;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(target: T, source1: U, source2: V, source3: W, source4: X): T & U & V & W & X;\nexport function deepMixin<T extends {}, U extends {}, V extends {}, W extends {}>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\nexport function deepMixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function deepMixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function deepMixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: true,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Creates a new object using the provided source's prototype as the prototype for the new object, and then\n * deep copies the provided source's values into the new target.\n *\n * @param source The object to duplicate\n * @return The new object\n */\nexport function duplicate<T extends {}>(source: T): T {\n\tconst target = Object.create(Object.getPrototypeOf(source));\n\n\treturn deepMixin(target, source);\n}\n\n/**\n * Determines whether two values are the same value.\n *\n * @param a First value to compare\n * @param b Second value to compare\n * @return true if the values are the same; false otherwise\n */\nexport function isIdentical(a: any, b: any): boolean {\n\treturn a === b ||\n\t\t/* both values are NaN */\n\t\t(a !== a && b !== b);\n}\n\n/**\n * Returns a function that binds a method to the specified object at runtime. This is similar to\n * `Function.prototype.bind`, but instead of a function it takes the name of a method on an object.\n * As a result, the function returned by `lateBind` will always call the function currently assigned to\n * the specified property on the object as of the moment the function it returns is called.\n *\n * @param instance The context object\n * @param method The name of the method on the context object to bind to itself\n * @param suppliedArgs An optional array of values to prepend to the `instance[method]` arguments list\n * @return The bound function\n */\nexport function lateBind(instance: {}, method: string, ...suppliedArgs: any[]): (...args: any[]) => any {\n\treturn suppliedArgs.length ?\n\t\tfunction () {\n\t\t\tconst args: any[] = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\n\t\t\t// TS7017\n\t\t\treturn (<any> instance)[method].apply(instance, args);\n\t\t} :\n\t\tfunction () {\n\t\t\t// TS7017\n\t\t\treturn (<any> instance)[method].apply(instance, arguments);\n\t\t};\n}\n\n/**\n * Copies the values of all enumerable (own or inherited) properties of one or more source objects to the\n * target object.\n *\n * @return The modified target object\n */\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}, Z extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y, source6: Z): T & U & V & W & X & Y & Z;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}, Y extends {}>(target: T, source1: U, source2: V, source3: W, source4: X, source5: Y): T & U & V & W & X & Y;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}, X extends {}>(target: T, source1: U, source2: V, source3: W, source4: X): T & U & V & W & X;\nexport function mixin<T extends {}, U extends {}, V extends {}, W extends {}>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\nexport function mixin<T extends {}, U extends {}, V extends {}>(target: T, source1: U, source2: V): T & U & V;\nexport function mixin<T extends {}, U extends {}>(target: T, source: U): T & U;\nexport function mixin(target: any, ...sources: any[]): any {\n\treturn _mixin({\n\t\tdeep: false,\n\t\tinherited: true,\n\t\tsources: sources,\n\t\ttarget: target\n\t});\n}\n\n/**\n * Returns a function which invokes the given function with the given arguments prepended to its argument list.\n * Like `Function.prototype.bind`, but does not alter execution context.\n *\n * @param targetFunction The function that needs to be bound\n * @param suppliedArgs An optional array of arguments to prepend to the `targetFunction` arguments list\n * @return The bound function\n */\nexport function partial(targetFunction: (...args: any[]) => any, ...suppliedArgs: any[]): (...args: any[]) => any {\n\treturn function (this: any) {\n\t\tconst args: any[] = arguments.length ? suppliedArgs.concat(slice.call(arguments)) : suppliedArgs;\n\n\t\treturn targetFunction.apply(this, args);\n\t};\n}\n\n/**\n * Returns an object with a destroy method that, when called, calls the passed-in destructor.\n * This is intended to provide a unified interface for creating \"remove\" / \"destroy\" handlers for\n * event listeners, timers, etc.\n *\n * @param destructor A function that will be called when the handle's `destroy` method is invoked\n * @return The handle object\n */\nexport function createHandle(destructor: () => void): Handle {\n\treturn {\n\t\tdestroy: function (this: Handle) {\n\t\t\tthis.destroy = function () {};\n\t\t\tdestructor.call(this);\n\t\t}\n\t};\n}\n\n/**\n * Returns a single handle that can be used to destroy multiple handles simultaneously.\n *\n * @param handles An array of handles with `destroy` methods\n * @return The handle object\n */\nexport function createCompositeHandle(...handles: Handle[]): Handle {\n\treturn createHandle(function () {\n\t\tfor (let handle of handles) {\n\t\t\thandle.destroy();\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/lang.ts","import global from './global';\nimport has, { add } from 'dojo-shim/support/has';\n\nexport * from 'dojo-shim/support/has';\nexport default has;\n\nadd('object-assign', typeof global.Object.assign === 'function');\n\nadd('raf', typeof requestAnimationFrame === 'function');\n\nadd('arraybuffer', typeof global.ArrayBuffer !== 'undefined');\nadd('formdata', typeof global.FormData !== 'undefined');\nadd('xhr', typeof global.XMLHttpRequest !== 'undefined');\nadd('xhr2', has('xhr') && 'responseType' in global.XMLHttpRequest.prototype);\nadd('xhr2-blob', function () {\n\tif (!has('xhr2')) {\n\t\treturn false;\n\t}\n\n\tconst request = new XMLHttpRequest();\n\trequest.open('GET', '/', true);\n\trequest.responseType = 'blob';\n\trequest.abort();\n\treturn request.responseType === 'blob';\n});\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/has.ts","const globalObject: any = (function (): any {\n\tif (typeof window !== 'undefined') {\n\t\t// Browsers\n\t\treturn window;\n\t}\n\telse if (typeof global !== 'undefined') {\n\t\t// Node\n\t\treturn global;\n\t}\n\telse if (typeof self !== 'undefined') {\n\t\t// Web workers\n\t\treturn self;\n\t}\n\treturn {};\n})();\n\nexport default globalObject;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/global.ts","import has from './has';\n\n/**\n * The default message to warn when no other is provided\n */\nconst DEFAULT_DEPRECATED_MESSAGE = 'This function will be removed in future versions.';\n\n/**\n * When set, globalWarn will be used instead of `console.warn`\n */\nlet globalWarn: ((message?: any, ...optionalParams: any[]) => void) | undefined;\n\nexport interface DeprecatedOptions {\n\t/**\n\t * The message to use when warning\n\t */\n\tmessage?: string;\n\n\t/**\n\t * The name of the method or function to use\n\t */\n\tname?: string;\n\n\t/**\n\t * An alternative function to log the warning to\n\t */\n\twarn?: (...args: any[]) => void;\n\n\t/**\n\t * Reference an URL for more information when warning\n\t */\n\turl?: string;\n}\n\n/**\n * A function that will console warn that a function has been deprecated\n *\n * @param options Provide options which change the display of the message\n */\nexport function deprecated({ message, name, warn, url }: DeprecatedOptions = {}): void {\n\t/* istanbul ignore else: testing with debug off is difficult */\n\tif (has('debug')) {\n\t\tmessage = message || DEFAULT_DEPRECATED_MESSAGE;\n\t\tlet warning = `DEPRECATED: ${name ? name + ': ' : ''}${message}`;\n\t\tif (url) {\n\t\t\twarning += `\\n\\n    See ${url} for more details.\\n\\n`;\n\t\t}\n\t\tif (warn) {\n\t\t\twarn(warning);\n\t\t}\n\t\telse if (globalWarn) {\n\t\t\tglobalWarn(warning);\n\t\t}\n\t\telse {\n\t\t\tconsole.warn(warning);\n\t\t}\n\t}\n}\n\n/**\n * A function that generates before advice that can be used to warn when an API has been deprecated\n *\n * @param options Provide options which change the display of the message\n */\nexport function deprecatedAdvice(options?: DeprecatedOptions): (...args: any[]) => any[] {\n\treturn function(...args: any[]): any[] {\n\t\tdeprecated(options);\n\t\treturn args;\n\t};\n}\n\n/**\n * A method decorator that will console warn when a method if invoked that is deprecated\n *\n * @param options Provide options which change the display of the message\n */\nexport function deprecatedDecorator(options?: DeprecatedOptions): MethodDecorator {\n\treturn function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n\t\tif (has('debug')) {\n\t\t\tconst { value: originalFn } = descriptor;\n\t\t\toptions = options || {};\n\t\t\t/* IE 10/11 don't have the name property on functions */\n\t\t\toptions.name = target.constructor.name ? `${target.constructor.name}#${propertyKey}` : propertyKey;\n\t\t\tdescriptor.value = function(...args: any[]) {\n\t\t\t\tdeprecated(options);\n\t\t\t\treturn originalFn.apply(target, args);\n\t\t\t};\n\t\t}\n\t\treturn descriptor;\n\t};\n}\n\n/**\n * A function that will set the warn function that will be used instead of `console.warn` when\n * logging warning messages\n *\n * @param warn The function (or `undefined`) to use instead of `console.warn`\n */\nexport function setWarn(warn?: ((message?: any, ...optionalParams: any[]) => void)): void {\n\tglobalWarn = warn;\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/instrument.ts","import { Thenable } from 'dojo-interfaces/shim';\nimport global from './support/global';\nimport { queueMicroTask } from './support/queue';\nimport { forOf, Iterable } from './iterator';\nimport './Symbol';\nimport { hasClass } from './support/decorators';\n\n/**\n * Executor is the interface for functions used to initialize a Promise.\n */\nexport interface Executor<T> {\n\t/**\n\t * The executor for the promise\n\t *\n\t * @param resolve The resolver callback of the promise\n\t * @param reject The rejector callback of the promise\n\t */\n\t(resolve: (value?: T | Thenable<T>) => void, reject: (reason?: any) => void): void;\n}\n\nmodule Shim {\n\n\t/**\n\t * The State enum represents the possible states of a promise.\n\t */\n\texport const enum State {\n\t\tFulfilled,\n\t\tPending,\n\t\tRejected\n\t}\n\n\t/**\n\t * Returns true if a given value has a `then` method.\n\t * @param {any} value The value to check if is Thenable\n\t * @returns {is Thenable<T>} A type guard if the value is thenable\n\t */\n\texport function isThenable<T>(value: any): value is Thenable<T> {\n\t\treturn value && typeof value.then === 'function';\n\t}\n\n\t/**\n\t * Promise is a partial implementation of the ES2015 Promise specification. It relies on Promise to do some safety\n\t * checks such as verifying that a Promise isn't resolved with itself. This class is exported for testability, and is\n\t * not intended to be used directly.\n\t *\n\t * @borrows Promise.all as Promise.all\n\t * @borrows Promise.race as Promise.race\n\t * @borrows Promise.reject as Promise.reject\n\t * @borrows Promise.resolve as Promise.resolve\n\t * @borrows Promise#catch as Promise#catch\n\t * @borrows Promise#then as Promise#then\n\t */\n\texport class Promise<T> implements Thenable<T> {\n\t\tstatic all<T>(iterable: Iterable<(T | Thenable<T>)> | (T | Thenable<T>)[]): Promise<T[]> {\n\t\t\treturn new this(function (resolve, reject) {\n\t\t\t\tconst values: T[] = [];\n\t\t\t\tlet complete = 0;\n\t\t\t\tlet total = 0;\n\t\t\t\tlet populating = true;\n\n\t\t\t\tfunction fulfill(index: number, value: any): void {\n\t\t\t\t\tvalues[ index ] = value;\n\t\t\t\t\t++complete;\n\t\t\t\t\tfinish();\n\t\t\t\t}\n\n\t\t\t\tfunction finish(): void {\n\t\t\t\t\tif (populating || complete < total) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(values);\n\t\t\t\t}\n\n\t\t\t\tfunction processItem(index: number, item: (T | Thenable<T>)): void {\n\t\t\t\t\t++total;\n\t\t\t\t\tif (item instanceof Promise) {\n\t\t\t\t\t\t// If an item Promise rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(fulfill.bind(null, index), reject);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tPromise.resolve(item).then(fulfill.bind(null, index));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet i = 0;\n\t\t\t\tforOf(iterable, function (value: T | Thenable<T>) {\n\t\t\t\t\tprocessItem(i, value);\n\t\t\t\t\ti++;\n\t\t\t\t});\n\t\t\t\tpopulating = false;\n\n\t\t\t\tfinish();\n\t\t\t});\n\t\t}\n\n\t\tstatic race<T>(iterable: Iterable<(T | Thenable<T>)> | (T | Thenable<T>)[]): Promise<T[]> {\n\t\t\treturn new this(function (resolve, reject) {\n\t\t\t\tforOf(iterable, function (item: T | Thenable<T>) {\n\t\t\t\t\tif (item instanceof Promise) {\n\t\t\t\t\t\t// If a Promise item rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(resolve, reject);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tPromise.resolve(item).then(resolve);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tstatic reject<T>(reason?: Error): Promise<T> {\n\t\t\treturn new this(function (resolve, reject) {\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t}\n\n\t\tstatic resolve(): Promise<void>;\n\t\tstatic resolve<T>(value: (T | Thenable<T>)): Promise<T>;\n\t\tstatic resolve<T>(value?: any): Promise<T> {\n\t\t\treturn new this(function (resolve) {\n\t\t\t\tresolve(<T> value);\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Creates a new Promise.\n\t\t *\n\t\t * @constructor\n\t\t *\n\t\t * @param executor\n\t\t * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t\t * starting the asynchronous operation when it is invoked.\n\t\t *\n\t\t * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t\t * successfully, or the `reject` function when the operation fails.\n\t\t */\n\t\tconstructor(executor: Executor<T>) {\n\t\t\t/**\n\t\t\t * If true, the resolution of this promise is chained (\"locked in\") to another promise.\n\t\t\t */\n\t\t\tlet isChained = false;\n\n\t\t\t/**\n\t\t\t * Whether or not this promise is in a resolved state.\n\t\t\t */\n\t\t\tconst isResolved = (): boolean => {\n\t\t\t\treturn this.state !== State.Pending || isChained;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Callbacks that should be invoked once the asynchronous operation has completed.\n\t\t\t */\n\t\t\tlet callbacks: null | (Array<() => void>) = [];\n\n\t\t\t/**\n\t\t\t * Initially pushes callbacks onto a queue for execution once this promise settles. After the promise settles,\n\t\t\t * enqueues callbacks for execution on the next event loop turn.\n\t\t\t */\n\t\t\tlet whenFinished = function (callback: () => void): void {\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.push(callback);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Settles this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|Error} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst settle = (newState: State, value: any): void => {\n\t\t\t\t// A promise can only be settled once.\n\t\t\t\tif (this.state !== State.Pending) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.state = newState;\n\t\t\t\tthis.resolvedValue = value;\n\t\t\t\twhenFinished = queueMicroTask;\n\n\t\t\t\t// Only enqueue a callback runner if there are callbacks so that initially fulfilled Promises don't have to\n\t\t\t\t// wait an extra turn.\n\t\t\t\tif (callbacks && callbacks.length > 0) {\n\t\t\t\t\tqueueMicroTask(function (): void {\n\t\t\t\t\t\tif (callbacks) {\n\t\t\t\t\t\t\tlet count = callbacks.length;\n\t\t\t\t\t\t\tfor (let i = 0; i < count; ++i) {\n\t\t\t\t\t\t\t\tcallbacks[ i ].call(null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallbacks = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Resolves this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|Error} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst resolve = (newState: State, value: any): void => {\n\t\t\t\tif (isResolved()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isThenable(value)) {\n\t\t\t\t\tvalue.then(\n\t\t\t\t\t\tsettle.bind(null, State.Fulfilled),\n\t\t\t\t\t\tsettle.bind(null, State.Rejected)\n\t\t\t\t\t);\n\t\t\t\t\tisChained = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsettle(newState, value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.then = <U>(onFulfilled?: (value?: T) => (U | Promise<U>),\n\t\t\t\t\t\t\tonRejected?: (reason?: Error) => (U | Promise<U>)): Promise<U> => {\n\t\t\t\treturn new Promise<U>((resolve, reject) => {\n\t\t\t\t\t// whenFinished initially queues up callbacks for execution after the promise has settled. Once the\n\t\t\t\t\t// promise has settled, whenFinished will schedule callbacks for execution on the next turn through the\n\t\t\t\t\t// event loop.\n\t\t\t\t\twhenFinished(() => {\n\t\t\t\t\t\tconst callback: ((value?: any) => any) | undefined = this.state === State.Rejected ? onRejected : onFulfilled;\n\n\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresolve(callback(this.resolvedValue));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (this.state === State.Rejected) {\n\t\t\t\t\t\t\treject(this.resolvedValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresolve(this.resolvedValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\t(<Executor<T>> executor)(\n\t\t\t\t\tresolve.bind(null, State.Fulfilled),\n\t\t\t\t\tresolve.bind(null, State.Rejected)\n\t\t\t\t);\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tsettle(State.Rejected, error);\n\t\t\t}\n\t\t}\n\n\t\tcatch<U>(onRejected: (reason: Error) => (U | Thenable<U>)): Promise<U> {\n\t\t\treturn this.then<U>(undefined, onRejected);\n\t\t}\n\n\t\t/**\n\t\t * The current state of this promise.\n\t\t */\n\t\tprivate state = State.Pending;\n\n\t\t/**\n\t\t * The resolved value for this promise.\n\t\t *\n\t\t * @type {T|Error}\n\t\t */\n\t\tprivate resolvedValue: any;\n\n\t\tthen: <U>(onFulfilled?: (value: T) => (U | Thenable<U>), onRejected?: (reason: Error) => (U | Thenable<U>)) => Promise<U>;\n\n\t\t[Symbol.toStringTag]: string = 'Promise';\n\t}\n}\n\n@hasClass('es6-promise', global.Promise, Shim.Promise)\nexport default class Promise<T> implements Thenable<T> {\n\t/**\n\t * Creates a new Promise.\n\t *\n\t * @constructor\n\t *\n\t * @param executor\n\t * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t * starting the asynchronous operation when it is invoked.\n\t *\n\t * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t * successfully, or the `reject` function when the operation fails.\n\t */\n\t/* istanbul ignore next */\n\tconstructor(executor: Executor<T>) {\n\t}\n\n\t/**\n\t * Converts an iterable object containing promises into a single promise that resolves to a new iterable object\n\t * containing the fulfilled values of all the promises in the iterable, in the same order as the Promises in the\n\t * iterable. Iterable values that are not promises are converted to promises using Promise.resolve.\n\t *\n\t * @example\n\t * Promise.all([ Promise.resolve('foo'), 'bar' ]).then(function (value) {\n\t *     value[0] === 'foo'; // true\n\t *     value[1] === 'bar'; // true\n\t * });\n\t *\n\t * @example\n\t * Promise.all({\n\t *     foo: Promise.resolve('foo'),\n\t *     bar: 'bar'\n\t * }).then((value) => {\n\t *     value.foo === 'foo'; // true\n\t *     value.bar === 'bar'; // true\n\t * });\n\t */\n\t/* istanbul ignore next */\n\tstatic all<T>(iterable: Iterable<(T | Thenable<T>)> | (T | Thenable<T>)[]): Promise<T[]> {\n\t\tthrow new Error();\n\t};\n\n\t/**\n\t * Converts an iterable object containing promises into a single promise that resolves or rejects as soon as one of\n\t * the promises in the iterable resolves or rejects, with the value of the resolved or rejected promise. Values in\n\t * the iterable that are not Promises are converted to Promises with Promise.resolve.\n\t *\n\t * @example\n\t * Promise.race([ Promise.resolve('foo'), Promise.resolve('bar') ]).then((value) => {\n\t *     value === 'foo'; // true\n\t * });\n\t *\n\t * @example\n\t * Promise.race({\n\t *     foo: Promise.resolve('foo'),\n\t *     bar: Promise.resolve('bar')\n\t * }).then((value) => {\n\t *     value === 'foo'; // true\n\t * });\n\t */\n\t/* istanbul ignore next */\n\tstatic race<T>(iterable: Iterable<(T | Thenable<T>)> |  (T | Thenable<T>)[]): Promise<T> {\n\t\tthrow new Error();\n\t}\n\n\t/**\n\t * Creates a new promise that is rejected with the given error.\n\t */\n\t/* istanbul ignore next */\n\tstatic reject<T>(reason?: Error): Promise<any> {\n\t\tthrow new Error();\n\t}\n\n\t/**\n\t * Creates a new promise that is resolved with the given value.\n\t */\n\tstatic resolve(): Promise<void>;\n\tstatic resolve<T>(value: (T | Thenable<T>)): Promise<T>;\n\t/* istanbul ignore next */\n\tstatic resolve<T>(value?: any): Promise<T> {\n\t\tthrow new Error();\n\t}\n\n\t/**\n\t * Adds a callback to the promise to be invoked when the asynchronous operation throws an error.\n\t */\n\tcatch<U>(onRejected: (reason: Error) => (U | Thenable<U>)): Promise<U>;\n\t/* istanbul ignore next */\n\tcatch<U>(onRejected: (reason: Error) => void): Promise<U> {\n\t\tthrow new Error();\n\t}\n\n\tthen<U>(onFulfilled?: ((value: T) => (U | Thenable<U> | null | undefined)) | null | undefined, onRejected?: (reason: Error) => void): Promise<U>;\n\t/* istanbul ignore next */\n\tthen<U>(onFulfilled?: ((value: T) => (U | Thenable<U> | null | undefined)) | null | undefined, onRejected?: (reason: Error) => (U | Thenable<U>)): Promise<U> {\n\t\tthrow new Error();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/Promise.ts","import { Handle } from 'dojo-interfaces/core';\nimport global from './global';\nimport has from './has';\n\nexport interface QueueItem {\n\tisActive: boolean;\n\tcallback: (...args: any[]) => any;\n}\n\ninterface PostMessageEvent extends Event {\n\tsource: any;\n\tdata: string;\n}\n\n/**\n * Executes a task\n * @param item The task to execute\n */\nfunction executeTask(item: QueueItem | undefined): void {\n\tif (item && item.isActive) {\n\t\titem.callback();\n\t}\n}\n\n/**\n * Get a handle to be able to remove an item from the queue\n */\nfunction getQueueHandle(item: QueueItem | undefined, destructor?: (...args: any[]) => any): Handle {\n\treturn {\n\t\tdestroy: function (this: any) {\n\t\t\tthis.destroy = function () {};\n\t\t\tif (item) {\n\t\t\t\titem.isActive = false;\n\t\t\t}\n\t\t\tif (destructor) {\n\t\t\t\tdestructor();\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst microTasks: QueueItem[] = [];\nlet microTaskQueued = false;\nlet checkMicroTaskQueue: () => void = function () {};\n\n/**\n * Schedules a callback to the macrotask queue.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueTask = (function() {\n\tlet destructor: (...args: any[]) => any;\n\tlet enqueue: (item: QueueItem) => void;\n\n\t/* IE and Edge's setImmediate does not always resolve as a macro task, sometimes as a microtask */\n\tif (has('postmessage')) {\n\t\tconst queue: QueueItem[] = [];\n\n\t\taddEventListener('message', function (event: PostMessageEvent): void {\n\t\t\t// Confirm that the event was triggered by the current window and by this particular implementation.\n\t\t\tif (event.source === global && event.data === 'dojo-queue-message') {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (queue.length) {\n\t\t\t\t\texecuteTask(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tpostMessage('dojo-queue-message', '*');\n\t\t};\n\t}\n\telse if (has('setimmediate')) {\n\t\tdestructor = clearImmediate;\n\t\tenqueue = function (item: QueueItem): any {\n\t\t\treturn setImmediate(executeTask.bind(null, item));\n\t\t};\n\t}\n\telse {\n\t\tdestructor = clearTimeout;\n\t\tenqueue = function (item: QueueItem): any {\n\t\t\treturn setTimeout(executeTask.bind(null, item), 0);\n\t\t};\n\t}\n\n\tfunction queueTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst id: any = enqueue(item);\n\n\t\treturn getQueueHandle(item, destructor && function () {\n\t\t\tdestructor(id);\n\t\t});\n\t};\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks') ? queueTask : function (callback: (...args: any[]) => any): Handle {\n\t\tcheckMicroTaskQueue();\n\t\treturn queueTask(callback);\n\t};\n})();\n\ncheckMicroTaskQueue = !has('microtasks')\n\t? function () {\n\t\tif (!microTaskQueued) {\n\t\t\tmicroTaskQueued = true;\n\t\t\tqueueTask(function () {\n\t\t\t\tmicroTaskQueued = false;\n\n\t\t\t\tif (microTasks.length) {\n\t\t\t\t\tlet item: QueueItem | undefined;\n\t\t\t\t\twhile (item = microTasks.shift()) {\n\t\t\t\t\t\texecuteTask(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} : checkMicroTaskQueue;\n\n/**\n * Schedules a callback to the microtask queue.\n *\n * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n * registered with `queueTask` or `queueAnimationTask`.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueMicroTask = (function () {\n\tlet enqueue: (item: QueueItem) => void;\n\n\tif (has('host-node')) {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tprocess.nextTick(executeTask.bind(null, item));\n\t\t};\n\t}\n\t/* Edge's Promise does not consitently resolve as a microtask, therefore not using Promise */\n\telse if (has('es6-promise') && !has('setimmediate') && !has('host-node')) {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tglobal.Promise.resolve(item).then(executeTask);\n\t\t};\n\t}\n\telse if (has('dom-mutationobserver')) {\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\tconst node = document.createElement('div');\n\t\tconst queue: QueueItem[] = [];\n\t\tconst observer = new HostMutationObserver(function (): void {\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tconst item = queue.shift();\n\t\t\t\tif (item && item.isActive) {\n\t\t\t\t\titem.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(node, { attributes: true });\n\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tnode.setAttribute('queueStatus', '1');\n\t\t};\n\t}\n\telse {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tcheckMicroTaskQueue();\n\t\t\tmicroTasks.push(item);\n\t\t};\n\t}\n\n\treturn function (callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\n\t\tenqueue(item);\n\n\t\treturn getQueueHandle(item);\n\t};\n})();\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/support/queue.ts","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 36\n// module chunks = 0","import { Handle } from 'dojo-core/interfaces';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport compose, { ComposeFactory } from '../compose';\n\nexport interface DestroyableOptions { }\n\nexport interface Destroyable {\n\t/**\n\t * Take a handle and *own* it, which ensures that the handle's `destroy()` method is called when the\n\t * *owner* is destroyed.\n\t *\n\t * @param handle The handle to own\n\t * @returns A handle to *unown* the passed handle\n\t */\n\town(handle: Handle): Handle;\n\n\t/**\n\t * Invoke `destroy()` on any owned handles.\n\t *\n\t * @returns A promise that resolves to `true` if successful, otherwise `false`\n\t */\n\tdestroy(): Promise<boolean>;\n}\n\nexport interface DestroyableFactory extends ComposeFactory<Destroyable, DestroyableOptions> { }\n\n/**\n * A reference to a function that always returns a promise which resolves to false\n */\nfunction noop(): Promise<boolean> {\n\treturn Promise.resolve(false);\n};\n\n/**\n * A reference to a function that throws, used to replace the `own()` method after\n * destruction\n */\nfunction destroyed(): never {\n\tthrow new Error('Call made to destroyed method');\n};\n\n/**\n * A weak map for *owning* handles on instances\n */\nconst handlesWeakMap = new WeakMap<Destroyable, Handle[]>();\n\n/**\n * A type guard that determines if the value is a Destroyable\n *\n * @param value The value to guard for\n */\nexport function isDestroyable(value: any): value is Destroyable {\n\treturn Boolean(value && 'destroy' in value && typeof value.destroy === 'function');\n}\n\n/**\n * A mixin which adds the concepts of being able to *destroy* handles which the instance\n * *owns*\n */\nconst createDestroyable: DestroyableFactory = compose('Destroyable', {\n\town(this: Destroyable, handle: Handle): Handle {\n\t\tconst handles = handlesWeakMap.get(this);\n\t\thandles.push(handle);\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\thandles.splice(handles.indexOf(handle));\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t};\n\t},\n\n\tdestroy(this: Destroyable) {\n\t\treturn new Promise((resolve) => {\n\t\t\thandlesWeakMap.get(this).forEach((handle) => {\n\t\t\t\thandle && handle.destroy && handle.destroy();\n\t\t\t});\n\t\t\tthis.destroy = noop;\n\t\t\tthis.own = destroyed;\n\t\t\tresolve(true);\n\t\t});\n\t}\n}, (instance) => {\n\thandlesWeakMap.set(instance, []);\n});\n\nexport default createDestroyable;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/mixins/createDestroyable.ts","define([\"require\", \"exports\", './util/root', './symbol/observable', './util/toSubscriber'], function (require, exports, root_1, observable_1, toSubscriber_1) {\n    \"use strict\";\n    /**\n     * A representation of any set of values over any amount of time. This the most basic building block\n     * of RxJS.\n     *\n     * @class Observable<T>\n     */\n    var Observable = (function () {\n        /**\n         * @constructor\n         * @param {Function} subscribe the function that is  called when the Observable is\n         * initially subscribed to. This function is given a Subscriber, to which new values\n         * can be `next`ed, or an `error` method can be called to raise an error, or\n         * `complete` can be called to notify of a successful completion.\n         */\n        function Observable(subscribe) {\n            this._isScalar = false;\n            if (subscribe) {\n                this._subscribe = subscribe;\n            }\n        }\n        /**\n         * Creates a new Observable, with this Observable as the source, and the passed\n         * operator defined as the new observable's operator.\n         * @method lift\n         * @param {Operator} operator the operator defining the operation to take on the observable\n         * @return {Observable} a new observable with the Operator applied\n         */\n        Observable.prototype.lift = function (operator) {\n            var observable = new Observable();\n            observable.source = this;\n            observable.operator = operator;\n            return observable;\n        };\n        /**\n         * Registers handlers for handling emitted values, error and completions from the observable, and\n         *  executes the observable's subscriber function, which will take action to set up the underlying data stream\n         * @method subscribe\n         * @param {PartialObserver|Function} observerOrNext (optional) either an observer defining all functions to be called,\n         *  or the first of three possible handlers, which is the handler for each value emitted from the observable.\n         * @param {Function} error (optional) a handler for a terminal event resulting from an error. If no error handler is provided,\n         *  the error will be thrown as unhandled\n         * @param {Function} complete (optional) a handler for a terminal event resulting from successful completion.\n         * @return {ISubscription} a subscription reference to the registered handlers\n         */\n        Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n            var operator = this.operator;\n            var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n            sink.add(operator ? operator.call(sink, this) : this._subscribe(sink));\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n            return sink;\n        };\n        /**\n         * @method forEach\n         * @param {Function} next a handler for each value emitted by the observable\n         * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n         * @return {Promise} a promise that either resolves on observable completion or\n         *  rejects with the handled error\n         */\n        Observable.prototype.forEach = function (next, PromiseCtor) {\n            var _this = this;\n            if (!PromiseCtor) {\n                if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                    PromiseCtor = root_1.root.Rx.config.Promise;\n                }\n                else if (root_1.root.Promise) {\n                    PromiseCtor = root_1.root.Promise;\n                }\n            }\n            if (!PromiseCtor) {\n                throw new Error('no Promise impl found');\n            }\n            return new PromiseCtor(function (resolve, reject) {\n                var subscription = _this.subscribe(function (value) {\n                    if (subscription) {\n                        // if there is a subscription, then we can surmise\n                        // the next handling is asynchronous. Any errors thrown\n                        // need to be rejected explicitly and unsubscribe must be\n                        // called manually\n                        try {\n                            next(value);\n                        }\n                        catch (err) {\n                            reject(err);\n                            subscription.unsubscribe();\n                        }\n                    }\n                    else {\n                        // if there is NO subscription, then we're getting a nexted\n                        // value synchronously during subscription. We can just call it.\n                        // If it errors, Observable's `subscribe` imple will ensure the\n                        // unsubscription logic is called, then synchronously rethrow the error.\n                        // After that, Promise will trap the error and send it\n                        // down the rejection path.\n                        next(value);\n                    }\n                }, reject, resolve);\n            });\n        };\n        Observable.prototype._subscribe = function (subscriber) {\n            return this.source.subscribe(subscriber);\n        };\n        /**\n         * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n         * @method Symbol.observable\n         * @return {Observable} this instance of the observable\n         */\n        Observable.prototype[observable_1.$$observable] = function () {\n            return this;\n        };\n        // HACK: Since TypeScript inherits static properties too, we have to\n        // fight against TypeScript here so Subject can have a different static create signature\n        /**\n         * Creates a new cold Observable by calling the Observable constructor\n         * @static true\n         * @owner Observable\n         * @method create\n         * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n         * @return {Observable} a new cold observable\n         */\n        Observable.create = function (subscribe) {\n            return new Observable(subscribe);\n        };\n        return Observable;\n    }());\n    exports.Observable = Observable;\n});\n//# sourceMappingURL=Observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/Observable.js\n// module id = 38\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    var objectTypes = {\n        'boolean': false,\n        'function': true,\n        'object': true,\n        'number': false,\n        'string': false,\n        'undefined': false\n    };\n    exports.root = (objectTypes[typeof self] && self) || (objectTypes[typeof window] && window);\n    /* tslint:disable:no-unused-variable */\n    var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n    var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n    var freeGlobal = objectTypes[typeof global] && global;\n    if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n        exports.root = freeGlobal;\n    }\n});\n//# sourceMappingURL=root.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/root.js\n// module id = 39\n// module chunks = 0","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tmodule.children = [];\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 40\n// module chunks = 0","define([\"require\", \"exports\", '../util/root'], function (require, exports, root_1) {\n    \"use strict\";\n    var Symbol = root_1.root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            exports.$$observable = Symbol.observable;\n        }\n        else {\n            if (typeof Symbol.for === 'function') {\n                exports.$$observable = Symbol.for('observable');\n            }\n            else {\n                exports.$$observable = Symbol('observable');\n            }\n            Symbol.observable = exports.$$observable;\n        }\n    }\n    else {\n        exports.$$observable = '@@observable';\n    }\n});\n//# sourceMappingURL=observable.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/symbol/observable.js\n// module id = 41\n// module chunks = 0","define([\"require\", \"exports\", '../Subscriber', '../symbol/rxSubscriber'], function (require, exports, Subscriber_1, rxSubscriber_1) {\n    \"use strict\";\n    function toSubscriber(nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver === 'object') {\n            if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n                return nextOrObserver;\n            }\n            else if (typeof nextOrObserver[rxSubscriber_1.$$rxSubscriber] === 'function') {\n                return nextOrObserver[rxSubscriber_1.$$rxSubscriber]();\n            }\n        }\n        return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n    }\n    exports.toSubscriber = toSubscriber;\n});\n//# sourceMappingURL=toSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/toSubscriber.js\n// module id = 42\n// module chunks = 0","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\ndefine([\"require\", \"exports\", './util/isFunction', './Subscription', './symbol/rxSubscriber', './Observer'], function (require, exports, isFunction_1, Subscription_1, rxSubscriber_1, Observer_1) {\n    \"use strict\";\n    /**\n     * Implements the {@link Observer} interface and extends the\n     * {@link Subscription} class. While the {@link Observer} is the public API for\n     * consuming the values of an {@link Observable}, all Observers get converted to\n     * a Subscriber, in order to provide Subscription-like capabilities such as\n     * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n     * implementing operators, but it is rarely used as a public API.\n     *\n     * @class Subscriber<T>\n     */\n    var Subscriber = (function (_super) {\n        __extends(Subscriber, _super);\n        /**\n         * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n         * defined Observer or a `next` callback function.\n         * @param {function(e: ?any): void} [error] The `error` callback of an\n         * Observer.\n         * @param {function(): void} [complete] The `complete` callback of an\n         * Observer.\n         */\n        function Subscriber(destinationOrNext, error, complete) {\n            _super.call(this);\n            this.syncErrorValue = null;\n            this.syncErrorThrown = false;\n            this.syncErrorThrowable = false;\n            this.isStopped = false;\n            switch (arguments.length) {\n                case 0:\n                    this.destination = Observer_1.empty;\n                    break;\n                case 1:\n                    if (!destinationOrNext) {\n                        this.destination = Observer_1.empty;\n                        break;\n                    }\n                    if (typeof destinationOrNext === 'object') {\n                        if (destinationOrNext instanceof Subscriber) {\n                            this.destination = destinationOrNext;\n                            this.destination.add(this);\n                        }\n                        else {\n                            this.syncErrorThrowable = true;\n                            this.destination = new SafeSubscriber(this, destinationOrNext);\n                        }\n                        break;\n                    }\n                default:\n                    this.syncErrorThrowable = true;\n                    this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                    break;\n            }\n        }\n        /**\n         * A static factory for a Subscriber, given a (potentially partial) definition\n         * of an Observer.\n         * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n         * @param {function(e: ?any): void} [error] The `error` callback of an\n         * Observer.\n         * @param {function(): void} [complete] The `complete` callback of an\n         * Observer.\n         * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n         * Observer represented by the given arguments.\n         */\n        Subscriber.create = function (next, error, complete) {\n            var subscriber = new Subscriber(next, error, complete);\n            subscriber.syncErrorThrowable = false;\n            return subscriber;\n        };\n        /**\n         * The {@link Observer} callback to receive notifications of type `next` from\n         * the Observable, with a value. The Observable may call this method 0 or more\n         * times.\n         * @param {T} [value] The `next` value.\n         * @return {void}\n         */\n        Subscriber.prototype.next = function (value) {\n            if (!this.isStopped) {\n                this._next(value);\n            }\n        };\n        /**\n         * The {@link Observer} callback to receive notifications of type `error` from\n         * the Observable, with an attached {@link Error}. Notifies the Observer that\n         * the Observable has experienced an error condition.\n         * @param {any} [err] The `error` exception.\n         * @return {void}\n         */\n        Subscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._error(err);\n            }\n        };\n        /**\n         * The {@link Observer} callback to receive a valueless notification of type\n         * `complete` from the Observable. Notifies the Observer that the Observable\n         * has finished sending push-based notifications.\n         * @return {void}\n         */\n        Subscriber.prototype.complete = function () {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._complete();\n            }\n        };\n        Subscriber.prototype.unsubscribe = function () {\n            if (this.isUnsubscribed) {\n                return;\n            }\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n        };\n        Subscriber.prototype._next = function (value) {\n            this.destination.next(value);\n        };\n        Subscriber.prototype._error = function (err) {\n            this.destination.error(err);\n            this.unsubscribe();\n        };\n        Subscriber.prototype._complete = function () {\n            this.destination.complete();\n            this.unsubscribe();\n        };\n        Subscriber.prototype[rxSubscriber_1.$$rxSubscriber] = function () {\n            return this;\n        };\n        return Subscriber;\n    }(Subscription_1.Subscription));\n    exports.Subscriber = Subscriber;\n    /**\n     * We need this JSDoc comment for affecting ESDoc.\n     * @ignore\n     * @extends {Ignored}\n     */\n    var SafeSubscriber = (function (_super) {\n        __extends(SafeSubscriber, _super);\n        function SafeSubscriber(_parent, observerOrNext, error, complete) {\n            _super.call(this);\n            this._parent = _parent;\n            var next;\n            var context = this;\n            if (isFunction_1.isFunction(observerOrNext)) {\n                next = observerOrNext;\n            }\n            else if (observerOrNext) {\n                context = observerOrNext;\n                next = observerOrNext.next;\n                error = observerOrNext.error;\n                complete = observerOrNext.complete;\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n            this._context = context;\n            this._next = next;\n            this._error = error;\n            this._complete = complete;\n        }\n        SafeSubscriber.prototype.next = function (value) {\n            if (!this.isStopped && this._next) {\n                var _parent = this._parent;\n                if (!_parent.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._next, value);\n                }\n                else if (this.__tryOrSetError(_parent, this._next, value)) {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                var _parent = this._parent;\n                if (this._error) {\n                    if (!_parent.syncErrorThrowable) {\n                        this.__tryOrUnsub(this._error, err);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parent, this._error, err);\n                        this.unsubscribe();\n                    }\n                }\n                else if (!_parent.syncErrorThrowable) {\n                    this.unsubscribe();\n                    throw err;\n                }\n                else {\n                    _parent.syncErrorValue = err;\n                    _parent.syncErrorThrown = true;\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.complete = function () {\n            if (!this.isStopped) {\n                var _parent = this._parent;\n                if (this._complete) {\n                    if (!_parent.syncErrorThrowable) {\n                        this.__tryOrUnsub(this._complete);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parent, this._complete);\n                        this.unsubscribe();\n                    }\n                }\n                else {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                this.unsubscribe();\n                throw err;\n            }\n        };\n        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            return false;\n        };\n        SafeSubscriber.prototype._unsubscribe = function () {\n            var _parent = this._parent;\n            this._context = null;\n            this._parent = null;\n            _parent.unsubscribe();\n        };\n        return SafeSubscriber;\n    }(Subscriber));\n});\n//# sourceMappingURL=Subscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/Subscriber.js\n// module id = 43\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    function isFunction(x) {\n        return typeof x === 'function';\n    }\n    exports.isFunction = isFunction;\n});\n//# sourceMappingURL=isFunction.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/isFunction.js\n// module id = 44\n// module chunks = 0","define([\"require\", \"exports\", './util/isArray', './util/isObject', './util/isFunction', './util/tryCatch', './util/errorObject', './util/UnsubscriptionError'], function (require, exports, isArray_1, isObject_1, isFunction_1, tryCatch_1, errorObject_1, UnsubscriptionError_1) {\n    \"use strict\";\n    /**\n     * Represents a disposable resource, such as the execution of an Observable. A\n     * Subscription has one important method, `unsubscribe`, that takes no argument\n     * and just disposes the resource held by the subscription.\n     *\n     * Additionally, subscriptions may be grouped together through the `add()`\n     * method, which will attach a child Subscription to the current Subscription.\n     * When a Subscription is unsubscribed, all its children (and its grandchildren)\n     * will be unsubscribed as well.\n     *\n     * @class Subscription\n     */\n    var Subscription = (function () {\n        /**\n         * @param {function(): void} [unsubscribe] A function describing how to\n         * perform the disposal of resources when the `unsubscribe` method is called.\n         */\n        function Subscription(unsubscribe) {\n            /**\n             * A flag to indicate whether this Subscription has already been unsubscribed.\n             * @type {boolean}\n             */\n            this.isUnsubscribed = false;\n            if (unsubscribe) {\n                this._unsubscribe = unsubscribe;\n            }\n        }\n        /**\n         * Disposes the resources held by the subscription. May, for instance, cancel\n         * an ongoing Observable execution or cancel any other type of work that\n         * started when the Subscription was created.\n         * @return {void}\n         */\n        Subscription.prototype.unsubscribe = function () {\n            var hasErrors = false;\n            var errors;\n            if (this.isUnsubscribed) {\n                return;\n            }\n            this.isUnsubscribed = true;\n            var _a = this, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n            this._subscriptions = null;\n            if (isFunction_1.isFunction(_unsubscribe)) {\n                var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n                if (trial === errorObject_1.errorObject) {\n                    hasErrors = true;\n                    (errors = errors || []).push(errorObject_1.errorObject.e);\n                }\n            }\n            if (isArray_1.isArray(_subscriptions)) {\n                var index = -1;\n                var len = _subscriptions.length;\n                while (++index < len) {\n                    var sub = _subscriptions[index];\n                    if (isObject_1.isObject(sub)) {\n                        var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                        if (trial === errorObject_1.errorObject) {\n                            hasErrors = true;\n                            errors = errors || [];\n                            var err = errorObject_1.errorObject.e;\n                            if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                                errors = errors.concat(err.errors);\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n            }\n            if (hasErrors) {\n                throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n            }\n        };\n        /**\n         * Adds a tear down to be called during the unsubscribe() of this\n         * Subscription.\n         *\n         * If the tear down being added is a subscription that is already\n         * unsubscribed, is the same reference `add` is being called on, or is\n         * `Subscription.EMPTY`, it will not be added.\n         *\n         * If this subscription is already in an `isUnsubscribed` state, the passed\n         * tear down logic will be executed immediately.\n         *\n         * @param {TeardownLogic} teardown The additional logic to execute on\n         * teardown.\n         * @return {Subscription} Returns the Subscription used or created to be\n         * added to the inner subscriptions list. This Subscription can be used with\n         * `remove()` to remove the passed teardown logic from the inner subscriptions\n         * list.\n         */\n        Subscription.prototype.add = function (teardown) {\n            if (!teardown || (teardown === this) || (teardown === Subscription.EMPTY)) {\n                return;\n            }\n            var sub = teardown;\n            switch (typeof teardown) {\n                case 'function':\n                    sub = new Subscription(teardown);\n                case 'object':\n                    if (sub.isUnsubscribed || typeof sub.unsubscribe !== 'function') {\n                        break;\n                    }\n                    else if (this.isUnsubscribed) {\n                        sub.unsubscribe();\n                    }\n                    else {\n                        (this._subscriptions || (this._subscriptions = [])).push(sub);\n                    }\n                    break;\n                default:\n                    throw new Error('Unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n            return sub;\n        };\n        /**\n         * Removes a Subscription from the internal list of subscriptions that will\n         * unsubscribe during the unsubscribe process of this Subscription.\n         * @param {Subscription} subscription The subscription to remove.\n         * @return {void}\n         */\n        Subscription.prototype.remove = function (subscription) {\n            // HACK: This might be redundant because of the logic in `add()`\n            if (subscription == null || (subscription === this) || (subscription === Subscription.EMPTY)) {\n                return;\n            }\n            var subscriptions = this._subscriptions;\n            if (subscriptions) {\n                var subscriptionIndex = subscriptions.indexOf(subscription);\n                if (subscriptionIndex !== -1) {\n                    subscriptions.splice(subscriptionIndex, 1);\n                }\n            }\n        };\n        Subscription.EMPTY = (function (empty) {\n            empty.isUnsubscribed = true;\n            return empty;\n        }(new Subscription()));\n        return Subscription;\n    }());\n    exports.Subscription = Subscription;\n});\n//# sourceMappingURL=Subscription.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/Subscription.js\n// module id = 45\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    exports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n});\n//# sourceMappingURL=isArray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/isArray.js\n// module id = 46\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    function isObject(x) {\n        return x != null && typeof x === 'object';\n    }\n    exports.isObject = isObject;\n});\n//# sourceMappingURL=isObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/isObject.js\n// module id = 47\n// module chunks = 0","define([\"require\", \"exports\", './errorObject'], function (require, exports, errorObject_1) {\n    \"use strict\";\n    var tryCatchTarget;\n    function tryCatcher() {\n        try {\n            return tryCatchTarget.apply(this, arguments);\n        }\n        catch (e) {\n            errorObject_1.errorObject.e = e;\n            return errorObject_1.errorObject;\n        }\n    }\n    function tryCatch(fn) {\n        tryCatchTarget = fn;\n        return tryCatcher;\n    }\n    exports.tryCatch = tryCatch;\n    ;\n});\n//# sourceMappingURL=tryCatch.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/tryCatch.js\n// module id = 48\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    // typeof any so that it we don't have to cast when comparing a result to the error object\n    exports.errorObject = { e: {} };\n});\n//# sourceMappingURL=errorObject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/errorObject.js\n// module id = 49\n// module chunks = 0","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\ndefine([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    /**\n     * An error thrown when one or more errors have occurred during the\n     * `unsubscribe` of a {@link Subscription}.\n     */\n    var UnsubscriptionError = (function (_super) {\n        __extends(UnsubscriptionError, _super);\n        function UnsubscriptionError(errors) {\n            _super.call(this);\n            this.errors = errors;\n            this.name = 'UnsubscriptionError';\n            this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n') : '';\n        }\n        return UnsubscriptionError;\n    }(Error));\n    exports.UnsubscriptionError = UnsubscriptionError;\n});\n//# sourceMappingURL=UnsubscriptionError.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/util/UnsubscriptionError.js\n// module id = 50\n// module chunks = 0","define([\"require\", \"exports\", '../util/root'], function (require, exports, root_1) {\n    \"use strict\";\n    var Symbol = root_1.root.Symbol;\n    exports.$$rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n        Symbol.for('rxSubscriber') : '@@rxSubscriber';\n});\n//# sourceMappingURL=rxSubscriber.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/symbol/rxSubscriber.js\n// module id = 51\n// module chunks = 0","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    exports.empty = {\n        isUnsubscribed: true,\n        next: function (value) { },\n        error: function (err) { throw err; },\n        complete: function () { }\n    };\n});\n//# sourceMappingURL=Observer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@reactivex/rxjs/dist/amd/Observer.js\n// module id = 52\n// module chunks = 0","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/immutable/dist/immutable.js\n// module id = 53\n// module chunks = 0","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport { CardState } from '../card/createCard';\nimport createCardDescription, { CardDescriptionState } from './createCardDescription';\nimport createCardNavBar from './createCardNavBar';\nimport createSeenWith from './createSeenWith';\nimport d from 'dojo-widgets/util/d';\nimport { assign } from 'dojo-core/lang';\n\nexport type CardDetailsPageState = WidgetState & {\n\tcards: CardState[];\n\tcardDescription: CardDescriptionState;\n\tseenWith: CardState[];\n}\nexport type CardDetailsPage = Widget<CardDetailsPageState>\n\nconst createCardDetailsPage = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'pageHolder', 'cardDetails' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: CardDetailsPage): DNode[] {\n\t\t\t\t\tconst { cards, cardDescription, seenWith } = this.state;\n\n\t\t\t\t\tconst cardNavBar = d(createCardNavBar, { state: { cards }});\n\n\t\t\t\t\tconst descriptionState = assign({\n\t\t\t\t\t\tenterAnimation: 'slideInRight',\n\t\t\t\t\t\texitAnimation: 'slideOutLeft'\n\t\t\t\t\t}, cardDescription);\n\n\t\t\t\t\tconst cardDescriptionView = d(createCardDescription, {\n\t\t\t\t\t\tid: `card-details-description-${cardDescription.id}`,\n\t\t\t\t\t\tstate: descriptionState\n\t\t\t\t\t});\n\n\t\t\t\t\tconst jumbotron = d('div.jumbotron', {} , [ cardDescriptionView ]);\n\n\t\t\t\t\tconst seenWithView = d(createSeenWith, { state: { cards: seenWith }});\n\n\t\t\t\t\treturn [ cardNavBar, jumbotron, seenWithView ];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createCardDetailsPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card-details/createCardDetailsPage.ts","import { ComposeFactory } from 'dojo-compose/compose';\nimport {\n\tDNode,\n\tHNode,\n\tWNode,\n\tWidget,\n\tWidgetState,\n\tWidgetOptions\n} from 'dojo-interfaces/widgetBases';\nimport { VNode, VNodeProperties } from 'dojo-interfaces/vdom';\nimport { h } from 'maquette';\n\nexport type TagNameOrFactory<S extends WidgetState, W extends Widget<S>, O extends WidgetOptions<S>> = string | ComposeFactory<W, O>;\n\nexport type DOptions<S extends WidgetState, O extends WidgetOptions<S>> = VNodeProperties | O;\n\ntype Children = (DNode | VNode | null)[];\n\nfunction d(tagName: string, options?: VNodeProperties, children?: (DNode | VNode | null)[]): HNode;\nfunction d<S extends WidgetState, W extends Widget<S>, O extends WidgetOptions<S>>(factory: ComposeFactory<W, O>, options: O): WNode;\nfunction d<S extends WidgetState, W extends Widget<S>, O extends WidgetOptions<S>>(\n\ttagNameOrFactory: TagNameOrFactory<S, W, O>,\n\toptions: DOptions<S, O> = {},\n\tchildren: Children = []): DNode {\n\n\tif (typeof tagNameOrFactory === 'string') {\n\t\tchildren = children.filter((child) => child);\n\n\t\treturn {\n\t\t\tchildren: children,\n\t\t\trender(this: { children: VNode[] }) {\n\t\t\t\treturn h(<string> tagNameOrFactory, <VNodeProperties> options, this.children);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (typeof tagNameOrFactory === 'function') {\n\t\treturn {\n\t\t\tfactory: tagNameOrFactory,\n\t\t\toptions: <WidgetOptions<WidgetState>> options\n\t\t};\n\t}\n\n\tthrow new Error('Unsupported tagName or factory type');\n}\n\nexport default d;\n\n\n\n// WEBPACK FOOTER //\n// src/util/d.ts","(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['exports'], factory);\n    } else if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n        // CommonJS\n        factory(exports);\n    } else {\n        // Browser globals\n        factory(root.maquette = {});\n    }\n}(this, function (exports) {\n    'use strict';\n    ;\n    ;\n    ;\n    ;\n    var NAMESPACE_W3 = 'http://www.w3.org/';\n    var NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\n    var NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\n    // Utilities\n    var emptyArray = [];\n    var extend = function (base, overrides) {\n        var result = {};\n        Object.keys(base).forEach(function (key) {\n            result[key] = base[key];\n        });\n        if (overrides) {\n            Object.keys(overrides).forEach(function (key) {\n                result[key] = overrides[key];\n            });\n        }\n        return result;\n    };\n    // Hyperscript helper functions\n    var same = function (vnode1, vnode2) {\n        if (vnode1.vnodeSelector !== vnode2.vnodeSelector) {\n            return false;\n        }\n        if (vnode1.properties && vnode2.properties) {\n            if (vnode1.properties.key !== vnode2.properties.key) {\n                return false;\n            }\n            return vnode1.properties.bind === vnode2.properties.bind;\n        }\n        return !vnode1.properties && !vnode2.properties;\n    };\n    var toTextVNode = function (data) {\n        return {\n            vnodeSelector: '',\n            properties: undefined,\n            children: undefined,\n            text: data.toString(),\n            domNode: null\n        };\n    };\n    var appendChildren = function (parentSelector, insertions, main) {\n        for (var i = 0, length_1 = insertions.length; i < length_1; i++) {\n            var item = insertions[i];\n            if (Array.isArray(item)) {\n                appendChildren(parentSelector, item, main);\n            } else {\n                if (item !== null && item !== undefined) {\n                    if (!item.hasOwnProperty('vnodeSelector')) {\n                        item = toTextVNode(item);\n                    }\n                    main.push(item);\n                }\n            }\n        }\n    };\n    // Render helper functions\n    var missingTransition = function () {\n        throw new Error('Provide a transitions object to the projectionOptions to do animations');\n    };\n    var DEFAULT_PROJECTION_OPTIONS = {\n        namespace: undefined,\n        eventHandlerInterceptor: undefined,\n        styleApplyer: function (domNode, styleName, value) {\n            // Provides a hook to add vendor prefixes for browsers that still need it.\n            domNode.style[styleName] = value;\n        },\n        transitions: {\n            enter: missingTransition,\n            exit: missingTransition\n        }\n    };\n    var applyDefaultProjectionOptions = function (projectorOptions) {\n        return extend(DEFAULT_PROJECTION_OPTIONS, projectorOptions);\n    };\n    var checkStyleValue = function (styleValue) {\n        if (typeof styleValue !== 'string') {\n            throw new Error('Style values must be strings');\n        }\n    };\n    var setProperties = function (domNode, properties, projectionOptions) {\n        if (!properties) {\n            return;\n        }\n        var eventHandlerInterceptor = projectionOptions.eventHandlerInterceptor;\n        var propNames = Object.keys(properties);\n        var propCount = propNames.length;\n        for (var i = 0; i < propCount; i++) {\n            var propName = propNames[i];\n            /* tslint:disable:no-var-keyword: edge case */\n            var propValue = properties[propName];\n            /* tslint:enable:no-var-keyword */\n            if (propName === 'className') {\n                throw new Error('Property \"className\" is not supported, use \"class\".');\n            } else if (propName === 'class') {\n                propValue.split(/\\s+/).forEach(function (token) {\n                    return domNode.classList.add(token);\n                });\n            } else if (propName === 'classes') {\n                // object with string keys and boolean values\n                var classNames = Object.keys(propValue);\n                var classNameCount = classNames.length;\n                for (var j = 0; j < classNameCount; j++) {\n                    var className = classNames[j];\n                    if (propValue[className]) {\n                        domNode.classList.add(className);\n                    }\n                }\n            } else if (propName === 'styles') {\n                // object with string keys and string (!) values\n                var styleNames = Object.keys(propValue);\n                var styleCount = styleNames.length;\n                for (var j = 0; j < styleCount; j++) {\n                    var styleName = styleNames[j];\n                    var styleValue = propValue[styleName];\n                    if (styleValue) {\n                        checkStyleValue(styleValue);\n                        projectionOptions.styleApplyer(domNode, styleName, styleValue);\n                    }\n                }\n            } else if (propName === 'key') {\n                continue;\n            } else if (propValue === null || propValue === undefined) {\n                continue;\n            } else {\n                var type = typeof propValue;\n                if (type === 'function') {\n                    if (propName.lastIndexOf('on', 0) === 0) {\n                        if (eventHandlerInterceptor) {\n                            propValue = eventHandlerInterceptor(propName, propValue, domNode, properties);    // intercept eventhandlers\n                        }\n                        if (propName === 'oninput') {\n                            (function () {\n                                // record the evt.target.value, because IE and Edge sometimes do a requestAnimationFrame between changing value and running oninput\n                                var oldPropValue = propValue;\n                                propValue = function (evt) {\n                                    evt.target['oninput-value'] = evt.target.value;\n                                    // may be HTMLTextAreaElement as well\n                                    oldPropValue.apply(this, [evt]);\n                                };\n                            }());\n                        }\n                        domNode[propName] = propValue;\n                    }\n                } else if (type === 'string' && propName !== 'value' && propName !== 'innerHTML') {\n                    if (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n                        domNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n                    } else {\n                        domNode.setAttribute(propName, propValue);\n                    }\n                } else {\n                    domNode[propName] = propValue;\n                }\n            }\n        }\n    };\n    var updateProperties = function (domNode, previousProperties, properties, projectionOptions) {\n        if (!properties) {\n            return;\n        }\n        var propertiesUpdated = false;\n        var propNames = Object.keys(properties);\n        var propCount = propNames.length;\n        for (var i = 0; i < propCount; i++) {\n            var propName = propNames[i];\n            // assuming that properties will be nullified instead of missing is by design\n            var propValue = properties[propName];\n            var previousValue = previousProperties[propName];\n            if (propName === 'class') {\n                if (previousValue !== propValue) {\n                    throw new Error('\"class\" property may not be updated. Use the \"classes\" property for conditional css classes.');\n                }\n            } else if (propName === 'classes') {\n                var classList = domNode.classList;\n                var classNames = Object.keys(propValue);\n                var classNameCount = classNames.length;\n                for (var j = 0; j < classNameCount; j++) {\n                    var className = classNames[j];\n                    var on = !!propValue[className];\n                    var previousOn = !!previousValue[className];\n                    if (on === previousOn) {\n                        continue;\n                    }\n                    propertiesUpdated = true;\n                    if (on) {\n                        classList.add(className);\n                    } else {\n                        classList.remove(className);\n                    }\n                }\n            } else if (propName === 'styles') {\n                var styleNames = Object.keys(propValue);\n                var styleCount = styleNames.length;\n                for (var j = 0; j < styleCount; j++) {\n                    var styleName = styleNames[j];\n                    var newStyleValue = propValue[styleName];\n                    var oldStyleValue = previousValue[styleName];\n                    if (newStyleValue === oldStyleValue) {\n                        continue;\n                    }\n                    propertiesUpdated = true;\n                    if (newStyleValue) {\n                        checkStyleValue(newStyleValue);\n                        projectionOptions.styleApplyer(domNode, styleName, newStyleValue);\n                    } else {\n                        projectionOptions.styleApplyer(domNode, styleName, '');\n                    }\n                }\n            } else {\n                if (!propValue && typeof previousValue === 'string') {\n                    propValue = '';\n                }\n                if (propName === 'value') {\n                    if (domNode[propName] !== propValue && domNode['oninput-value'] !== propValue) {\n                        domNode[propName] = propValue;\n                        // Reset the value, even if the virtual DOM did not change\n                        domNode['oninput-value'] = undefined;\n                    }\n                    // else do not update the domNode, otherwise the cursor position would be changed\n                    if (propValue !== previousValue) {\n                        propertiesUpdated = true;\n                    }\n                } else if (propValue !== previousValue) {\n                    var type = typeof propValue;\n                    if (type === 'function') {\n                        throw new Error('Functions may not be updated on subsequent renders (property: ' + propName + '). Hint: declare event handler functions outside the render() function.');\n                    }\n                    if (type === 'string' && propName !== 'innerHTML') {\n                        if (projectionOptions.namespace === NAMESPACE_SVG && propName === 'href') {\n                            domNode.setAttributeNS(NAMESPACE_XLINK, propName, propValue);\n                        } else {\n                            domNode.setAttribute(propName, propValue);\n                        }\n                    } else {\n                        if (domNode[propName] !== propValue) {\n                            domNode[propName] = propValue;\n                        }\n                    }\n                    propertiesUpdated = true;\n                }\n            }\n        }\n        return propertiesUpdated;\n    };\n    var findIndexOfChild = function (children, sameAs, start) {\n        if (sameAs.vnodeSelector !== '') {\n            // Never scan for text-nodes\n            for (var i = start; i < children.length; i++) {\n                if (same(children[i], sameAs)) {\n                    return i;\n                }\n            }\n        }\n        return -1;\n    };\n    var nodeAdded = function (vNode, transitions) {\n        if (vNode.properties) {\n            var enterAnimation = vNode.properties.enterAnimation;\n            if (enterAnimation) {\n                if (typeof enterAnimation === 'function') {\n                    enterAnimation(vNode.domNode, vNode.properties);\n                } else {\n                    transitions.enter(vNode.domNode, vNode.properties, enterAnimation);\n                }\n            }\n        }\n    };\n    var nodeToRemove = function (vNode, transitions) {\n        var domNode = vNode.domNode;\n        if (vNode.properties) {\n            var exitAnimation = vNode.properties.exitAnimation;\n            if (exitAnimation) {\n                domNode.style.pointerEvents = 'none';\n                var removeDomNode = function () {\n                    if (domNode.parentNode) {\n                        domNode.parentNode.removeChild(domNode);\n                    }\n                };\n                if (typeof exitAnimation === 'function') {\n                    exitAnimation(domNode, removeDomNode, vNode.properties);\n                    return;\n                } else {\n                    transitions.exit(vNode.domNode, vNode.properties, exitAnimation, removeDomNode);\n                    return;\n                }\n            }\n        }\n        if (domNode.parentNode) {\n            domNode.parentNode.removeChild(domNode);\n        }\n    };\n    var checkDistinguishable = function (childNodes, indexToCheck, parentVNode, operation) {\n        var childNode = childNodes[indexToCheck];\n        if (childNode.vnodeSelector === '') {\n            return;    // Text nodes need not be distinguishable\n        }\n        var properties = childNode.properties;\n        var key = properties ? properties.key === undefined ? properties.bind : properties.key : undefined;\n        if (!key) {\n            for (var i = 0; i < childNodes.length; i++) {\n                if (i !== indexToCheck) {\n                    var node = childNodes[i];\n                    if (same(node, childNode)) {\n                        if (operation === 'added') {\n                            throw new Error(parentVNode.vnodeSelector + ' had a ' + childNode.vnodeSelector + ' child ' + 'added, but there is now more than one. You must add unique key properties to make them distinguishable.');\n                        } else {\n                            throw new Error(parentVNode.vnodeSelector + ' had a ' + childNode.vnodeSelector + ' child ' + 'removed, but there were more than one. You must add unique key properties to make them distinguishable.');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    var createDom;\n    var updateDom;\n    var updateChildren = function (vnode, domNode, oldChildren, newChildren, projectionOptions) {\n        if (oldChildren === newChildren) {\n            return false;\n        }\n        oldChildren = oldChildren || emptyArray;\n        newChildren = newChildren || emptyArray;\n        var oldChildrenLength = oldChildren.length;\n        var newChildrenLength = newChildren.length;\n        var transitions = projectionOptions.transitions;\n        var oldIndex = 0;\n        var newIndex = 0;\n        var i;\n        var textUpdated = false;\n        while (newIndex < newChildrenLength) {\n            var oldChild = oldIndex < oldChildrenLength ? oldChildren[oldIndex] : undefined;\n            var newChild = newChildren[newIndex];\n            if (oldChild !== undefined && same(oldChild, newChild)) {\n                textUpdated = updateDom(oldChild, newChild, projectionOptions) || textUpdated;\n                oldIndex++;\n            } else {\n                var findOldIndex = findIndexOfChild(oldChildren, newChild, oldIndex + 1);\n                if (findOldIndex >= 0) {\n                    // Remove preceding missing children\n                    for (i = oldIndex; i < findOldIndex; i++) {\n                        nodeToRemove(oldChildren[i], transitions);\n                        checkDistinguishable(oldChildren, i, vnode, 'removed');\n                    }\n                    textUpdated = updateDom(oldChildren[findOldIndex], newChild, projectionOptions) || textUpdated;\n                    oldIndex = findOldIndex + 1;\n                } else {\n                    // New child\n                    createDom(newChild, domNode, oldIndex < oldChildrenLength ? oldChildren[oldIndex].domNode : undefined, projectionOptions);\n                    nodeAdded(newChild, transitions);\n                    checkDistinguishable(newChildren, newIndex, vnode, 'added');\n                }\n            }\n            newIndex++;\n        }\n        if (oldChildrenLength > oldIndex) {\n            // Remove child fragments\n            for (i = oldIndex; i < oldChildrenLength; i++) {\n                nodeToRemove(oldChildren[i], transitions);\n                checkDistinguishable(oldChildren, i, vnode, 'removed');\n            }\n        }\n        return textUpdated;\n    };\n    var addChildren = function (domNode, children, projectionOptions) {\n        if (!children) {\n            return;\n        }\n        for (var i = 0; i < children.length; i++) {\n            createDom(children[i], domNode, undefined, projectionOptions);\n        }\n    };\n    var initPropertiesAndChildren = function (domNode, vnode, projectionOptions) {\n        addChildren(domNode, vnode.children, projectionOptions);\n        // children before properties, needed for value property of <select>.\n        if (vnode.text) {\n            domNode.textContent = vnode.text;\n        }\n        setProperties(domNode, vnode.properties, projectionOptions);\n        if (vnode.properties && vnode.properties.afterCreate) {\n            vnode.properties.afterCreate.apply(vnode.properties.bind || vnode.properties, [\n                domNode,\n                projectionOptions,\n                vnode.vnodeSelector,\n                vnode.properties,\n                vnode.children\n            ]);\n        }\n    };\n    createDom = function (vnode, parentNode, insertBefore, projectionOptions) {\n        var domNode, i, c, start = 0, type, found;\n        var vnodeSelector = vnode.vnodeSelector;\n        if (vnodeSelector === '') {\n            domNode = vnode.domNode = document.createTextNode(vnode.text);\n            if (insertBefore !== undefined) {\n                parentNode.insertBefore(domNode, insertBefore);\n            } else {\n                parentNode.appendChild(domNode);\n            }\n        } else {\n            for (i = 0; i <= vnodeSelector.length; ++i) {\n                c = vnodeSelector.charAt(i);\n                if (i === vnodeSelector.length || c === '.' || c === '#') {\n                    type = vnodeSelector.charAt(start - 1);\n                    found = vnodeSelector.slice(start, i);\n                    if (type === '.') {\n                        domNode.classList.add(found);\n                    } else if (type === '#') {\n                        domNode.id = found;\n                    } else {\n                        if (found === 'svg') {\n                            projectionOptions = extend(projectionOptions, { namespace: NAMESPACE_SVG });\n                        }\n                        if (projectionOptions.namespace !== undefined) {\n                            domNode = vnode.domNode = document.createElementNS(projectionOptions.namespace, found);\n                        } else {\n                            domNode = vnode.domNode = document.createElement(found);\n                            if (found === 'input' && vnode.properties && vnode.properties.type !== undefined) {\n                                // IE8 and older don't support setting input type after the DOM Node has been added to the document\n                                domNode.setAttribute('type', vnode.properties.type);\n                            }\n                        }\n                        if (insertBefore !== undefined) {\n                            parentNode.insertBefore(domNode, insertBefore);\n                        } else {\n                            parentNode.appendChild(domNode);\n                        }\n                    }\n                    start = i + 1;\n                }\n            }\n            initPropertiesAndChildren(domNode, vnode, projectionOptions);\n        }\n    };\n    updateDom = function (previous, vnode, projectionOptions) {\n        var domNode = previous.domNode;\n        var textUpdated = false;\n        if (previous === vnode) {\n            return false;    // By contract, VNode objects may not be modified anymore after passing them to maquette\n        }\n        var updated = false;\n        if (vnode.vnodeSelector === '') {\n            if (vnode.text !== previous.text) {\n                var newVNode = document.createTextNode(vnode.text);\n                domNode.parentNode.replaceChild(newVNode, domNode);\n                vnode.domNode = newVNode;\n                textUpdated = true;\n                return textUpdated;\n            }\n        } else {\n            if (vnode.vnodeSelector.lastIndexOf('svg', 0) === 0) {\n                projectionOptions = extend(projectionOptions, { namespace: NAMESPACE_SVG });\n            }\n            if (previous.text !== vnode.text) {\n                updated = true;\n                if (vnode.text === undefined) {\n                    domNode.removeChild(domNode.firstChild);    // the only textnode presumably\n                } else {\n                    domNode.textContent = vnode.text;\n                }\n            }\n            updated = updateChildren(vnode, domNode, previous.children, vnode.children, projectionOptions) || updated;\n            updated = updateProperties(domNode, previous.properties, vnode.properties, projectionOptions) || updated;\n            if (vnode.properties && vnode.properties.afterUpdate) {\n                vnode.properties.afterUpdate.apply(vnode.properties.bind || vnode.properties, [\n                    domNode,\n                    projectionOptions,\n                    vnode.vnodeSelector,\n                    vnode.properties,\n                    vnode.children\n                ]);\n            }\n        }\n        if (updated && vnode.properties && vnode.properties.updateAnimation) {\n            vnode.properties.updateAnimation(domNode, vnode.properties, previous.properties);\n        }\n        vnode.domNode = previous.domNode;\n        return textUpdated;\n    };\n    var createProjection = function (vnode, projectionOptions) {\n        return {\n            update: function (updatedVnode) {\n                if (vnode.vnodeSelector !== updatedVnode.vnodeSelector) {\n                    throw new Error('The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)');\n                }\n                updateDom(vnode, updatedVnode, projectionOptions);\n                vnode = updatedVnode;\n            },\n            domNode: vnode.domNode\n        };\n    };\n    ;\n    // The other two parameters are not added here, because the Typescript compiler creates surrogate code for destructuring 'children'.\n    exports.h = function (selector) {\n        var properties = arguments[1];\n        if (typeof selector !== 'string') {\n            throw new Error();\n        }\n        var childIndex = 1;\n        if (properties && !properties.hasOwnProperty('vnodeSelector') && !Array.isArray(properties) && typeof properties === 'object') {\n            childIndex = 2;\n        } else {\n            // Optional properties argument was omitted\n            properties = undefined;\n        }\n        var text = undefined;\n        var children = undefined;\n        var argsLength = arguments.length;\n        // Recognize a common special case where there is only a single text node\n        if (argsLength === childIndex + 1) {\n            var onlyChild = arguments[childIndex];\n            if (typeof onlyChild === 'string') {\n                text = onlyChild;\n            } else if (onlyChild !== undefined && onlyChild !== null && onlyChild.length === 1 && typeof onlyChild[0] === 'string') {\n                text = onlyChild[0];\n            }\n        }\n        if (text === undefined) {\n            children = [];\n            for (; childIndex < argsLength; childIndex++) {\n                var child = arguments[childIndex];\n                if (child === null || child === undefined) {\n                    continue;\n                } else if (Array.isArray(child)) {\n                    appendChildren(selector, child, children);\n                } else if (child.hasOwnProperty('vnodeSelector')) {\n                    children.push(child);\n                } else {\n                    children.push(toTextVNode(child));\n                }\n            }\n        }\n        return {\n            vnodeSelector: selector,\n            properties: properties,\n            children: children,\n            text: text === '' ? undefined : text,\n            domNode: null\n        };\n    };\n    /**\n * Contains simple low-level utility functions to manipulate the real DOM.\n */\n    exports.dom = {\n        /**\n     * Creates a real DOM tree from `vnode`. The [[Projection]] object returned will contain the resulting DOM Node in\n     * its [[Projection.domNode|domNode]] property.\n     * This is a low-level method. Users will typically use a [[Projector]] instead.\n     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]]\n     * objects may only be rendered once.\n     * @param projectionOptions - Options to be used to create and update the projection.\n     * @returns The [[Projection]] which also contains the DOM Node that was created.\n     */\n        create: function (vnode, projectionOptions) {\n            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n            createDom(vnode, document.createElement('div'), undefined, projectionOptions);\n            return createProjection(vnode, projectionOptions);\n        },\n        /**\n     * Appends a new childnode to the DOM which is generated from a [[VNode]].\n     * This is a low-level method. Users will typically use a [[Projector]] instead.\n     * @param parentNode - The parent node for the new childNode.\n     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]]\n     * objects may only be rendered once.\n     * @param projectionOptions - Options to be used to create and update the [[Projection]].\n     * @returns The [[Projection]] that was created.\n     */\n        append: function (parentNode, vnode, projectionOptions) {\n            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n            createDom(vnode, parentNode, undefined, projectionOptions);\n            return createProjection(vnode, projectionOptions);\n        },\n        /**\n     * Inserts a new DOM node which is generated from a [[VNode]].\n     * This is a low-level method. Users wil typically use a [[Projector]] instead.\n     * @param beforeNode - The node that the DOM Node is inserted before.\n     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function.\n     * NOTE: [[VNode]] objects may only be rendered once.\n     * @param projectionOptions - Options to be used to create and update the projection, see [[createProjector]].\n     * @returns The [[Projection]] that was created.\n     */\n        insertBefore: function (beforeNode, vnode, projectionOptions) {\n            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n            createDom(vnode, beforeNode.parentNode, beforeNode, projectionOptions);\n            return createProjection(vnode, projectionOptions);\n        },\n        /**\n     * Merges a new DOM node which is generated from a [[VNode]] with an existing DOM Node.\n     * This means that the virtual DOM and the real DOM will have one overlapping element.\n     * Therefore the selector for the root [[VNode]] will be ignored, but its properties and children will be applied to the Element provided.\n     * This is a low-level method. Users wil typically use a [[Projector]] instead.\n     * @param element - The existing element to adopt as the root of the new virtual DOM. Existing attributes and childnodes are preserved.\n     * @param vnode - The root of the virtual DOM tree that was created using the [[h]] function. NOTE: [[VNode]] objects\n     * may only be rendered once.\n     * @param projectionOptions - Options to be used to create and update the projection, see [[createProjector]].\n     * @returns The [[Projection]] that was created.\n     */\n        merge: function (element, vnode, projectionOptions) {\n            projectionOptions = applyDefaultProjectionOptions(projectionOptions);\n            vnode.domNode = element;\n            initPropertiesAndChildren(element, vnode, projectionOptions);\n            return createProjection(vnode, projectionOptions);\n        }\n    };\n    /**\n * Creates a [[CalculationCache]] object, useful for caching [[VNode]] trees.\n * In practice, caching of [[VNode]] trees is not needed, because achieving 60 frames per second is almost never a problem.\n * For more information, see [[CalculationCache]].\n *\n * @param <Result> The type of the value that is cached.\n */\n    exports.createCache = function () {\n        var cachedInputs = undefined;\n        var cachedOutcome = undefined;\n        var result = {\n            invalidate: function () {\n                cachedOutcome = undefined;\n                cachedInputs = undefined;\n            },\n            result: function (inputs, calculation) {\n                if (cachedInputs) {\n                    for (var i = 0; i < inputs.length; i++) {\n                        if (cachedInputs[i] !== inputs[i]) {\n                            cachedOutcome = undefined;\n                        }\n                    }\n                }\n                if (!cachedOutcome) {\n                    cachedOutcome = calculation();\n                    cachedInputs = inputs;\n                }\n                return cachedOutcome;\n            }\n        };\n        return result;\n    };\n    /**\n * Creates a {@link Mapping} instance that keeps an array of result objects synchronized with an array of source objects.\n * See {@link http://maquettejs.org/docs/arrays.html|Working with arrays}.\n *\n * @param <Source>       The type of source items. A database-record for instance.\n * @param <Target>       The type of target items. A [[Component]] for instance.\n * @param getSourceKey   `function(source)` that must return a key to identify each source object. The result must either be a string or a number.\n * @param createResult   `function(source, index)` that must create a new result object from a given source. This function is identical\n *                       to the `callback` argument in `Array.map(callback)`.\n * @param updateResult   `function(source, target, index)` that updates a result to an updated source.\n */\n    exports.createMapping = function (getSourceKey, createResult, updateResult) {\n        var keys = [];\n        var results = [];\n        return {\n            results: results,\n            map: function (newSources) {\n                var newKeys = newSources.map(getSourceKey);\n                var oldTargets = results.slice();\n                var oldIndex = 0;\n                for (var i = 0; i < newSources.length; i++) {\n                    var source = newSources[i];\n                    var sourceKey = newKeys[i];\n                    if (sourceKey === keys[oldIndex]) {\n                        results[i] = oldTargets[oldIndex];\n                        updateResult(source, oldTargets[oldIndex], i);\n                        oldIndex++;\n                    } else {\n                        var found = false;\n                        for (var j = 1; j < keys.length + 1; j++) {\n                            var searchIndex = (oldIndex + j) % keys.length;\n                            if (keys[searchIndex] === sourceKey) {\n                                results[i] = oldTargets[searchIndex];\n                                updateResult(newSources[i], oldTargets[searchIndex], i);\n                                oldIndex = searchIndex + 1;\n                                found = true;\n                                break;\n                            }\n                        }\n                        if (!found) {\n                            results[i] = createResult(source, i);\n                        }\n                    }\n                }\n                results.length = newSources.length;\n                keys = newKeys;\n            }\n        };\n    };\n    /**\n * Creates a [[Projector]] instance using the provided projectionOptions.\n *\n * For more information, see [[Projector]].\n *\n * @param projectionOptions   Options that influence how the DOM is rendered and updated.\n */\n    exports.createProjector = function (projectorOptions) {\n        var projector;\n        var projectionOptions = applyDefaultProjectionOptions(projectorOptions);\n        projectionOptions.eventHandlerInterceptor = function (propertyName, eventHandler, domNode, properties) {\n            return function () {\n                // intercept function calls (event handlers) to do a render afterwards.\n                projector.scheduleRender();\n                return eventHandler.apply(properties.bind || this, arguments);\n            };\n        };\n        var renderCompleted = true;\n        var scheduled;\n        var stopped = false;\n        var projections = [];\n        var renderFunctions = [];\n        // matches the projections array\n        var doRender = function () {\n            scheduled = undefined;\n            if (!renderCompleted) {\n                return;    // The last render threw an error, it should be logged in the browser console.\n            }\n            renderCompleted = false;\n            for (var i = 0; i < projections.length; i++) {\n                var updatedVnode = renderFunctions[i]();\n                projections[i].update(updatedVnode);\n            }\n            renderCompleted = true;\n        };\n        projector = {\n            renderNow: doRender,\n            scheduleRender: function () {\n                if (!scheduled && !stopped) {\n                    scheduled = requestAnimationFrame(doRender);\n                }\n            },\n            stop: function () {\n                if (scheduled) {\n                    cancelAnimationFrame(scheduled);\n                    scheduled = undefined;\n                }\n                stopped = true;\n            },\n            resume: function () {\n                stopped = false;\n                renderCompleted = true;\n                projector.scheduleRender();\n            },\n            append: function (parentNode, renderMaquetteFunction) {\n                projections.push(exports.dom.append(parentNode, renderMaquetteFunction(), projectionOptions));\n                renderFunctions.push(renderMaquetteFunction);\n            },\n            insertBefore: function (beforeNode, renderMaquetteFunction) {\n                projections.push(exports.dom.insertBefore(beforeNode, renderMaquetteFunction(), projectionOptions));\n                renderFunctions.push(renderMaquetteFunction);\n            },\n            merge: function (domNode, renderMaquetteFunction) {\n                projections.push(exports.dom.merge(domNode, renderMaquetteFunction(), projectionOptions));\n                renderFunctions.push(renderMaquetteFunction);\n            },\n            replace: function (domNode, renderMaquetteFunction) {\n                var vnode = renderMaquetteFunction();\n                createDom(vnode, domNode.parentNode, domNode, projectionOptions);\n                domNode.parentNode.removeChild(domNode);\n                projections.push(createProjection(vnode, projectionOptions));\n                renderFunctions.push(renderMaquetteFunction);\n            },\n            detach: function (renderMaquetteFunction) {\n                for (var i = 0; i < renderFunctions.length; i++) {\n                    if (renderFunctions[i] === renderMaquetteFunction) {\n                        renderFunctions.splice(i, 1);\n                        return projections.splice(i, 1)[0];\n                    }\n                }\n                throw new Error('renderMaquetteFunction was not found');\n            }\n        };\n        return projector;\n    };\n}));\n//# sourceMappingURL=maquette.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/maquette/dist/maquette.js\n// module id = 56\n// module chunks = 0","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createCard, { CardState } from '../card/createCard';\nimport { assign } from 'dojo-core/lang';\n\nexport type SeenWithState = WidgetState & {\n\tcards: CardState[];\n}\n\nexport type SeenWith = Widget<SeenWithState>;\n\nconst createSeenWith = createWidgetBase.mixin({\n\tmixin: {\n\t\tclasses: [ 'seenWith' ],\n\t\tchildNodeRenderers: [\n\t\t\tfunction(this: SeenWith): DNode[] {\n\t\t\t\tconst { cards } = this.state;\n\n\t\t\t\tconst cardNodes = cards.map((card) => {\n\t\t\t\t\tconst state = assign({ large: true }, card);\n\t\t\t\t\treturn d(createCard, { id: `card-details-seen-with-${state.id}`, state });\n\t\t\t\t});\n\n\t\t\t\treturn [\n\t\t\t\t\td('h2', { innerHTML: 'last seen with'}),\n\t\t\t\t\t...cardNodes\n\t\t\t\t];\n\t\t\t}\n\t\t]\n\t}\n});\n\nexport default createSeenWith;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card-details/createSeenWith.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport { VNodeProperties } from 'maquette';\n\nexport type CardState = WidgetState & {\n\timageClass: string;\n\tid: string;\n\tlarge?: boolean;\n}\n\nexport type Card = Widget<CardState>;\n\nconst createCard = createWidgetBase.mixin({\n\tmixin: {\n\t\ttagName: 'a',\n\t\tclasses: [ 'milestoneCard' ],\n\t\tnodeAttributes: [\n\t\t\tfunction (this: Card): VNodeProperties {\n\t\t\t\treturn {\n\t\t\t\t\thref: `#/cards/${this.state.id}`\n\t\t\t\t};\n\t\t\t}\n\t\t],\n\t\tchildNodeRenderers: [\n\t\t\tfunction(this: Card): DNode[] {\n\t\t\t\tconst baseImageClass = this.state.large ? 'card-sprite-large' : 'card-sprite-small';\n\n\t\t\t\treturn [ d(`div.${baseImageClass}.${this.state.imageClass}`) ];\n\t\t\t}\n\t\t]\n\t}\n});\n\nexport default createCard;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card/createCard.ts","import { ComposeFactory } from 'dojo-compose/compose';\nimport createStateful from 'dojo-compose/bases/createStateful';\nimport {\n\tHNode,\n\tDNode,\n\tWNode,\n\tWidget,\n\tWidgetMixin,\n\tWidgetState,\n\tWidgetOptions\n} from 'dojo-interfaces/widgetBases';\nimport { VNode, VNodeProperties } from 'dojo-interfaces/vdom';\nimport { Factory } from 'dojo-interfaces/core';\nimport { assign } from 'dojo-core/lang';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport Map from 'dojo-shim/Map';\nimport d from './../util/d';\n\nexport interface WidgetFactory extends ComposeFactory<Widget<WidgetState>, WidgetOptions<WidgetState>> {}\n\ninterface WidgetInternalState {\n\treadonly id?: string;\n\tdirty: boolean;\n\twidgetClasses: string[];\n\tcachedVNode?: VNode;\n\thistoricChildrenMap: Map<string | Factory<Widget<WidgetState>, WidgetOptions<WidgetState>>, Widget<WidgetState>>;\n\tcurrentChildrenMap: Map<string | Factory<Widget<WidgetState>, WidgetOptions<WidgetState>>, Widget<WidgetState>>;\n};\n\n/**\n * Internal state map for widget instances\n */\nconst widgetInternalStateMap = new WeakMap<Widget<WidgetState>, WidgetInternalState>();\n\n/**\n * The counter for generating a unique ID\n */\nlet widgetCount = 0;\n\nfunction generateID(instance: Widget<WidgetState>): string {\n\tconst id = `widget-${++widgetCount}`;\n\tinstance.setState({ id });\n\treturn id;\n}\n\nfunction isWNode(child: DNode): child is WNode {\n\treturn child && (<WNode> child).factory !== undefined;\n}\n\nfunction dNodeToVNode(instance: Widget<WidgetState>, dNode: DNode): VNode {\n\tconst internalState = widgetInternalStateMap.get(instance);\n\tlet child: HNode | Widget<WidgetState>;\n\tif (isWNode(dNode)) {\n\t\tconst { factory, options: { id, state } } = dNode;\n\t\tconst childrenMapKey = id || factory;\n\t\tconst cachedChild = internalState.historicChildrenMap.get(childrenMapKey);\n\t\tif (cachedChild) {\n\t\t\tchild = cachedChild;\n\t\t\tif (state) {\n\t\t\t\tchild.setState(state);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tchild = factory(dNode.options);\n\t\t\tchild.own(child.on('invalidated', () => {\n\t\t\t\tinstance.invalidate();\n\t\t\t}));\n\t\t\tinternalState.historicChildrenMap.set(childrenMapKey, child);\n\t\t\tinstance.own(child);\n\t\t}\n\t\tif (!id && internalState.currentChildrenMap.has(factory)) {\n\t\t\tconst errorMsg = 'must provide unique keys when using the same widget factory multiple times';\n\t\t\tconsole.error(errorMsg);\n\t\t\tinstance.emit({ type: 'error', target: instance, error: new Error(errorMsg) });\n\t\t}\n\t\tinternalState.currentChildrenMap.set(childrenMapKey, child);\n\t}\n\telse {\n\t\tchild = dNode;\n\t\tif (child.children) {\n\t\t\tchild.children = child.children.map((child: DNode) => dNodeToVNode(instance, child));\n\t\t}\n\t}\n\treturn child.render();\n}\n\nfunction manageDetachedChildren(instance: Widget<WidgetState>): void {\n\tconst internalState = widgetInternalStateMap.get(instance);\n\n\tinternalState.historicChildrenMap.forEach((child, key) => {\n\t\tif (!internalState.currentChildrenMap.has(key)) {\n\t\t\tinternalState.historicChildrenMap.delete(key);\n\t\t\tchild.destroy();\n\t\t}\n\t});\n\tinternalState.currentChildrenMap.clear();\n}\n\nfunction formatTagNameAndClasses(tagName: string, classes: string[]) {\n\tif (classes.length) {\n\t\treturn `${tagName}.${classes.join('.')}`;\n\t}\n\treturn tagName;\n}\n\nconst createWidget: WidgetFactory = createStateful\n\t.mixin<WidgetMixin, WidgetOptions<WidgetState>>({\n\t\tmixin: {\n\t\t\tchildNodeRenderers: [],\n\n\t\t\tclasses: [],\n\n\t\t\tgetChildrenNodes(this: Widget<WidgetState>): DNode[] {\n\t\t\t\tlet childrenWrappers: DNode[] = [];\n\n\t\t\t\tthis.childNodeRenderers.forEach((fn) => {\n\t\t\t\t\tconst wrappers = fn.call(this);\n\t\t\t\t\tchildrenWrappers = childrenWrappers.concat(wrappers);\n\t\t\t\t});\n\n\t\t\t\treturn childrenWrappers;\n\t\t\t},\n\n\t\t\tgetNodeAttributes(this: Widget<WidgetState>, overrides?: VNodeProperties): VNodeProperties {\n\t\t\t\tconst props: VNodeProperties = {};\n\n\t\t\t\tthis.nodeAttributes.forEach((fn) => {\n\t\t\t\t\tconst newProps: VNodeProperties = fn.call(this);\n\t\t\t\t\tif (newProps) {\n\t\t\t\t\t\tassign(props, newProps);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn props;\n\t\t\t},\n\n\t\t\tinvalidate(this: Widget<WidgetState>): void {\n\t\t\t\tconst internalState = widgetInternalStateMap.get(this);\n\t\t\t\tinternalState.dirty = true;\n\t\t\t\tthis.emit({\n\t\t\t\t\ttype: 'invalidated',\n\t\t\t\t\ttarget: this\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tget id(this: Widget<WidgetState>): string {\n\t\t\t\tconst { id } = widgetInternalStateMap.get(this);\n\n\t\t\t\treturn id || (this.state && this.state.id) || generateID(this);\n\t\t\t},\n\n\t\t\tnodeAttributes: [\n\t\t\t\tfunction (this: Widget<WidgetState>): VNodeProperties {\n\t\t\t\t\tconst baseIdProp = this.state && this.state.id ? { 'data-widget-id': this.state.id } : {};\n\t\t\t\t\tconst { styles = {} } = this.state;\n\t\t\t\t\tconst classes: { [index: string]: boolean; } = {};\n\n\t\t\t\t\tconst internalState = widgetInternalStateMap.get(this);\n\n\t\t\t\t\tinternalState.widgetClasses.forEach((c) => classes[c] = false);\n\n\t\t\t\t\tif (this.state && this.state.classes) {\n\t\t\t\t\t\tthis.state.classes.forEach((c) => classes[c] = true);\n\t\t\t\t\t\tinternalState.widgetClasses =  this.state.classes;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn assign(baseIdProp, { key: this, classes, styles });\n\t\t\t\t}\n\n\t\t\t],\n\n\t\t\trender(this: Widget<WidgetState>): VNode {\n\t\t\t\tconst internalState = widgetInternalStateMap.get(this);\n\t\t\t\tif (internalState.dirty || !internalState.cachedVNode) {\n\t\t\t\t\tconst dNode = d(formatTagNameAndClasses(this.tagName, this.classes),\n\t\t\t\t\t\t\t\t\tthis.getNodeAttributes(),\n\t\t\t\t\t\t\t\t\tthis.getChildrenNodes());\n\n\t\t\t\t\tconst widget = dNodeToVNode(this, dNode);\n\t\t\t\t\tmanageDetachedChildren(this);\n\t\t\t\t\tinternalState.cachedVNode = widget;\n\t\t\t\t\tinternalState.dirty = false;\n\t\t\t\t}\n\t\t\t\treturn internalState.cachedVNode;\n\t\t\t},\n\n\t\t\ttagName: 'div'\n\t\t},\n\t\tinitialize(instance: Widget<WidgetState>, options: WidgetOptions<WidgetState> = {}) {\n\t\t\tconst { id, tagName } = options;\n\t\t\tinstance.tagName = tagName || instance.tagName;\n\n\t\t\twidgetInternalStateMap.set(instance, {\n\t\t\t\tid,\n\t\t\t\tdirty: true,\n\t\t\t\twidgetClasses: [],\n\t\t\t\thistoricChildrenMap: new Map<string | Factory<Widget<WidgetState>, WidgetOptions<WidgetState>>, Widget<WidgetState>>(),\n\t\t\t\tcurrentChildrenMap: new Map<string | Factory<Widget<WidgetState>, WidgetOptions<WidgetState>>, Widget<WidgetState>>()\n\t\t\t});\n\n\t\t\tinstance.own(instance.on('state:changed', () => {\n\t\t\t\tinstance.invalidate();\n\t\t\t}));\n\t\t}\n\t});\n\nexport default createWidget;\n\n\n\n// WEBPACK FOOTER //\n// src/bases/createWidgetBase.ts","import { ArrayLike } from 'dojo-interfaces/shim';\nimport { hasClass } from './support/decorators';\nimport global from './support/global';\nimport { forOf, Iterable, IterableIterator, ShimIterator } from './iterator';\nimport { is as objectIs } from './object';\nimport './Symbol';\n\nexport namespace Shim {\n\t/**\n\t * An implementation analogous to the Map specification in ES2015.\n\t */\n\texport class Map<K, V> {\n\t\tprotected _keys: K[] = [];\n\t\tprotected _values: V[] = [];\n\n\t\t/**\n\t\t * An alternative to Array.prototype.indexOf using Object.is\n\t\t * to check for equality. See http://mzl.la/1zuKO2V\n\t\t */\n\t\tprotected _indexOfKey(keys: K[], key: K): number {\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tif (objectIs(keys[i], key)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\t/**\n\t\t * Creates a new Map\n\t\t *\n\t\t * @constructor\n\t\t *\n\t\t * @param iterator\n\t\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t\t * The first item in each tuple corresponds to the key of the map entry.\n\t\t * The second item corresponds to the value of the map entry.\n\t\t */\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tif (iterable) {\n\t\t\t\tforOf(iterable, (value: [K, V]) => {\n\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns the number of key / value pairs in the Map.\n\t\t *\n\t\t * @return the number of key / value pairs in the Map\n\t\t */\n\t\tget size(): number {\n\t\t\treturn this._keys.length;\n\t\t}\n\n\t\t/**\n\t\t * Deletes all keys and their associated values.\n\t\t */\n\t\tclear(): void {\n\t\t\tthis._keys.length = this._values.length = 0;\n\t\t}\n\n\t\t/**\n\t\t * Deletes a given key and its associated value.\n\t\t *\n\t\t * @param key The key to delete\n\t\t * @return true if the key exists, false if it does not\n\t\t */\n\t\tdelete(key: K): boolean {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\tif (index < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._keys.splice(index, 1);\n\t\t\tthis._values.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\n\t\t/**\n\t\t * Returns an iterator that yields each key/value pair as an array.\n\t\t *\n\t\t * @return An iterator for each key/value pair in the instance.\n\t\t */\n\t\tentries(): IterableIterator<[K, V]> {\n\t\t\tconst values = this._keys.map((key: K, i: number): [K, V] => {\n\t\t\t\treturn [ key, this._values[i] ];\n\t\t\t});\n\n\t\t\treturn new ShimIterator<[K, V]>(values);\n\t\t}\n\n\t\t/**\n\t\t * Executes a given function for each map entry. The function\n\t\t * is invoked with three arguments: the element value, the\n\t\t * element key, and the associated Map instance.\n\t\t *\n\t\t * @param callback The function to execute for each map entry,\n\t\t * @param context The value to use for `this` for each execution of the calback\n\t\t */\n\t\tforEach(callback: (value: V, key: K, mapInstance: Map<K, V>) => any, context?: {}) {\n\t\t\tconst keys = this._keys;\n\t\t\tconst values = this._values;\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tcallback.call(context, values[i], keys[i], this);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns the value associated with a given key.\n\t\t *\n\t\t * @param key The key to look up\n\t\t * @return The value if one exists or undefined\n\t\t */\n\t\tget(key: K): V | undefined {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\treturn index < 0 ? undefined : this._values[index];\n\t\t}\n\n\t\t/**\n\t\t * Checks for the presence of a given key.\n\t\t *\n\t\t * @param key The key to check for\n\t\t * @return true if the key exists, false if it does not\n\t\t */\n\t\thas(key: K): boolean {\n\t\t\treturn this._indexOfKey(this._keys, key) > -1;\n\t\t}\n\n\t\t/**\n\t\t * Returns an iterator that yields each key in the map.\n\t\t *\n\t\t * @return An iterator containing the instance's keys.\n\t\t */\n\t\tkeys(): IterableIterator<K> {\n\t\t\treturn new ShimIterator<K>(this._keys);\n\t\t}\n\n\t\t/**\n\t\t * Sets the value associated with a given key.\n\t\t *\n\t\t * @param key The key to define a value to\n\t\t * @param value The value to assign\n\t\t * @return The Map instance\n\t\t */\n\t\tset(key: K, value: V): Map<K, V> {\n\t\t\tlet index = this._indexOfKey(this._keys, key);\n\t\t\tindex = index < 0 ? this._keys.length : index;\n\t\t\tthis._keys[index] = key;\n\t\t\tthis._values[index] = value;\n\t\t\treturn this;\n\t\t}\n\n\t\t/**\n\t\t * Returns an iterator that yields each value in the map.\n\t\t *\n\t\t * @return An iterator containing the instance's values.\n\t\t */\n\t\tvalues(): IterableIterator<V> {\n\t\t\treturn new ShimIterator<V>(this._values);\n\t\t}\n\n\t\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\t\treturn this.entries();\n\t\t}\n\n\t\t[Symbol.toStringTag]: string = 'Map';\n\t}\n}\n\n@hasClass('es6-map', global.Map, Shim.Map)\nexport default class Map<K, V> {\n\t/* istanbul ignore next */\n\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) { };\n\n\t/* istanbul ignore next */\n\tget size(): number { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tclear(): void { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tdelete(key: K): boolean { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tentries(): IterableIterator<[K, V]> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tforEach(callback: (value: V, key: K, mapInstance: Map<K, V>) => any, context?: {}): void { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tget(key: K): V | undefined { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\thas(key: K): boolean { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tkeys(): IterableIterator<K> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tset(key: K, value: V): Map<K, V> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tvalues(): IterableIterator<V> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\t[Symbol.iterator](): IterableIterator<[K, V]> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\t[Symbol.toStringTag]: string = 'Map';\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/Map.ts","import './Symbol';\n\nnamespace Shim {\n\texport function is(value1: any, value2: any): boolean {\n\t\tif (value1 === value2) {\n\t\t\treturn value1 !== 0 || 1 / value1 === 1 / value2; // -0\n\t\t}\n\t\treturn value1 !== value1 && value2 !== value2; // NaN\n\t}\n\n\texport function getOwnPropertySymbols(o: any): symbol[] {\n\t\treturn Object.getOwnPropertyNames(o).filter((key) => Boolean(key.match(/^@@.+/)))\n\t\t\t.map((key) => Symbol.for(key.substring(2)));\n\t}\n\n\texport function getOwnPropertyNames(o: any): string[] {\n\t\treturn Object.getOwnPropertyNames(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t}\n}\n\n/**\n * Determines whether two values are the same value.\n *\n * @param value1 The first value to compare\n * @param value2 The second value to compare\n * @return true if the values are the same; false otherwise\n */\nexport const is: (value1: any, value2: any) => boolean = 'is' in Object\n\t? (<any> Object).is\n\t: Shim.is;\n\n/**\n * Returns an array of own properties who key is a symbol\n *\n * @param o The object to return the properties for\n */\nexport const getOwnPropertySymbols: (o: any) => symbol[] = 'getOwnPropertySymbols' in Object\n\t? (<any> Object).getOwnPropertySymbols\n\t: Shim.getOwnPropertySymbols;\n\n/**\n * Returns an array of own properties who key is a string\n *\n * @param o The object to return the properties for\n */\n/* intentionally detecting `getOwnPropertySymbols` because we should should provide the shim\n * when there is no support for symbols */\nexport const getOwnPropertyNames: (o: any) => string[] = 'getOwnPropertySymbols' in Object\n\t? Object.getOwnPropertyNames\n\t: Shim.getOwnPropertyNames;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/object.ts","import { deepAssign } from 'dojo-core/lang';\nimport { Handle } from 'dojo-interfaces/core';\nimport {\n\tEvented,\n\tStateful,\n\tState,\n\tStatefulOptions,\n\tStatefulMixin\n} from 'dojo-interfaces/bases';\nimport { Observable, Subscription } from 'dojo-interfaces/observables';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport createEvented from './createEvented';\nimport { ComposeFactory } from '../compose';\nimport createCancelableEvent from './createCancelableEvent';\n\nexport interface ObservableState<S extends State> {\n\t/**\n\t * A method that allows the return of an `Observable` interface for a particular `id`\n\t * @param id The ID to observe\n\t */\n\tobserve(id: string): Observable<S>;\n\n\t/**\n\t * A method that allows the `Stateful` to provide a change to its state, instead of\n\t * changing its state directly.\n\t * @param partial The partial state to be *patched*\n\t * @param options A map of options, which includes the `id` being observed\n\t */\n\tpatch(partial: any, options?: { id?: string }): Promise<S>;\n}\n\nexport interface StatefulFactory extends ComposeFactory<Stateful<State>, StatefulOptions<State>> {\n\t<S extends State>(options?: StatefulOptions<S>): Stateful<S>;\n}\n\n/**\n * Internal interface which contains references to an observed state\n */\ninterface ObservedState {\n\tid: string;\n\tobservable: ObservableState<State>;\n\tsubscription: Subscription;\n\thandle: Handle;\n}\n\n/**\n * A weak map of stateful instances to their obseved state references\n */\nconst observedStateMap = new WeakMap<Stateful<State>, ObservedState>();\n\n/**\n * Internal function to unobserve the state of a `Stateful`.  It emits a `statecomplete` event which can be\n * cancelled.\n *\n * @param stateful The `Stateful` object to unobserve\n */\nfunction completeStatefulState(stateful: Stateful<State>): void {\n\tconst observedState = observedStateMap.get(stateful);\n\tif (observedState) {\n\t\tobservedState.handle.destroy();\n\t\tconst statecomplete = createCancelableEvent({\n\t\t\ttype: 'state:completed',\n\t\t\ttarget: stateful\n\t\t});\n\t\tstateful.emit(statecomplete);\n\t\tif (!statecomplete.defaultPrevented) {\n\t\t\tstateful.destroy();\n\t\t}\n\t}\n}\n\n/**\n * Internal function that actually applies the state to the Stateful's state and\n * emits the `statechange` event.\n *\n * @param stateful The Stateful instance\n * @param state The State to be set\n */\nfunction setStatefulState(target: Stateful<State>, state: State): void {\n\tconst previousState = stateWeakMap.get(target);\n\tif (!previousState) {\n\t\tthrow new Error('Unable to set destroyed state');\n\t}\n\tconst type = 'state:changed';\n\tstate = deepAssign(previousState, state);\n\tconst eventObject = {\n\t\ttype,\n\t\tstate,\n\t\ttarget\n\t};\n\ttarget.emit(eventObject);\n}\n\n/**\n * A weak map that contains the stateful's state\n */\nconst stateWeakMap = new WeakMap<Stateful<State>, State>();\n\n/**\n * Create an instance of a stateful object\n */\nconst createStateful: StatefulFactory = createEvented\n\t.mixin({\n\t\tclassName: 'Stateful',\n\t\tmixin: {\n\t\t\tget state(this: Stateful<State>): State {\n\t\t\t\treturn stateWeakMap.get(this);\n\t\t\t},\n\n\t\t\tsetState(this: Stateful<State>, value: State): void {\n\t\t\t\tconst observedState = observedStateMap.get(this);\n\t\t\t\tif (observedState) {\n\t\t\t\t\tobservedState.observable.patch(value, { id: observedState.id });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetStatefulState(this, value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tobserveState(this: Stateful<State>, id: string, observable: ObservableState<State>): Handle {\n\t\t\t\tlet observedState = observedStateMap.get(this);\n\t\t\t\tif (observedState) {\n\t\t\t\t\tif (observedState.id === id && observedState.observable === observable) {\n\t\t\t\t\t\treturn observedState.handle;\n\t\t\t\t\t}\n\t\t\t\t\tthrow new Error(`Already observing state with ID '${observedState.id}'`);\n\t\t\t\t}\n\t\t\t\tconst stateful = this;\n\t\t\t\tconst handle = {\n\t\t\t\t\tdestroy() {\n\t\t\t\t\t\tconst observedState = observedStateMap.get(stateful);\n\t\t\t\t\t\tif (observedState) {\n\t\t\t\t\t\t\tobservedState.subscription.unsubscribe();\n\t\t\t\t\t\t\tobservedStateMap.delete(stateful);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst subscription = observable\n\t\t\t\t\t.observe(id)\n\t\t\t\t\t.subscribe(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tsetStatefulState(stateful, state);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err) => {\n\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tcompleteStatefulState(stateful);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\tobservedStateMap.set(stateful, { id, observable, subscription, handle });\n\t\t\t\treturn handle;\n\t\t\t}\n\t\t},\n\t\tinitialize(instance: StatefulMixin<State> & Evented, options: StatefulOptions<State>) {\n\t\t\tstateWeakMap.set(instance, Object.create(null));\n\t\t\tinstance.own({\n\t\t\t\tdestroy() {\n\t\t\t\t\tstateWeakMap.delete(instance);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (options) {\n\t\t\t\tconst { id, stateFrom, state } = options;\n\t\t\t\tif (typeof id !== 'undefined' && stateFrom) {\n\t\t\t\t\tinstance.own(instance.observeState(id, stateFrom));\n\t\t\t\t}\n\t\t\t\telse if (stateFrom) {\n\t\t\t\t\tthrow new TypeError('When \"stateFrom\" option is supplied, factory also requires \"id\" option.');\n\t\t\t\t}\n\t\t\t\tif (state) {\n\t\t\t\t\tinstance.setState(state);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\nexport default createStateful;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/bases/createStateful.ts","import { EventCancelableObject } from 'dojo-interfaces/core';\n\n/**\n * A simple factory that creates an event object which can be cancelled\n *\n * @param options The options for the event\n */\nfunction createCancelableEvent<T extends string, U>(options: { type: T, target: U }): EventCancelableObject<T, U> {\n\tconst { type, target } = options;\n\tconst event = Object.defineProperties({}, {\n\t\ttype: { value: type, enumerable: true },\n\t\ttarget: { value: target, enumerable: true },\n\t\tcancelable: { value: true, enumerable: true },\n\t\tdefaultPrevented: { value: false, enumerable: true, configurable: true },\n\t\tpreventDefault: { value() {\n\t\t\tObject.defineProperty(event, 'defaultPrevented', { value: true, enumerable: true });\n\t\t}, enumerable: true }\n\t});\n\n\treturn event;\n}\n\nexport default createCancelableEvent;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/bases/createCancelableEvent.ts","import { on } from 'dojo-core/aspect';\nimport {\n\tEventObject,\n\tEventTargettedObject,\n\tHandle\n} from 'dojo-interfaces/core';\nimport {\n\tEvented,\n\tEventedOptions,\n\tEventedListener,\n\tEventedListenerOrArray,\n\tEventedListenersMap,\n\tEventedCallback\n} from 'dojo-interfaces/bases';\nimport { Actionable } from 'dojo-interfaces/abilities';\nimport Map from 'dojo-shim/Map';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { ComposeFactory } from '../compose';\nimport createDestroyable from './createDestroyable';\n\n/**\n * A map of callbacks where the key is the event `type`\n */\ntype EventedCallbackMap = Map<string, EventedCallback<EventObject>>;\n\nexport interface EventedFactory extends ComposeFactory<Evented, EventedOptions> { }\n\n/**\n * A weak map that contains a map of the listeners for an `Evented`\n */\nconst listenersMap = new WeakMap<Evented, EventedCallbackMap>();\n\n/**\n * A guard which determines if the value is `Actionable`\n *\n * @param value The value to guard against\n */\nfunction isActionable(value: any): value is Actionable<any, any> {\n\treturn Boolean(value && typeof value.do === 'function');\n}\n\n/**\n * An internal function that always returns an EventedCallback\n *\n * @param listener Either a `EventedCallback` or an `Actionable`\n */\nexport function resolveListener<T, E extends EventTargettedObject<T>>(listener: EventedListener<T, E>): EventedCallback<E> {\n\treturn isActionable(listener) ? (event: E) => listener.do({ event }) : listener;\n}\n\n/**\n * Internal function to convert an array of handles to a single handle\n *\n * @param handles The array of handles to convert into a signle handle\n * @return The single handle\n */\nfunction handlesArraytoHandle(handles: Handle[]): Handle {\n\treturn {\n\t\tdestroy() {\n\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t}\n\t};\n}\n\n/**\n * Creates a new instance of an `Evented`\n */\nconst createEvented: EventedFactory = createDestroyable\n\t.mixin({\n\t\tclassName: 'Evented',\n\t\tmixin: {\n\t\t\temit<E extends EventObject>(this: Evented, event: E): void {\n\t\t\t\tconst method = listenersMap.get(this).get(event.type);\n\t\t\t\tif (method) {\n\t\t\t\t\tmethod.call(this, event);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ton(this: Evented, ...args: any[]): Handle {\n\t\t\t\tconst listenerMap = listenersMap.get(this);\n\t\t\t\tif (args.length === 2) { /* overload: on(type, listener) */\n\t\t\t\t\tconst [ type, listeners ] = <[ string, EventedListenerOrArray<any, EventTargettedObject<any>>]> args;\n\t\t\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\t\t\tconst handles = listeners.map((listener) => on(listenerMap, type, resolveListener(listener)));\n\t\t\t\t\t\treturn handlesArraytoHandle(handles);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn on(listenerMap, type, resolveListener(listeners));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (args.length === 1) { /* overload: on(listeners) */\n\t\t\t\t\tconst [ listenerMapArg ] = <[EventedListenersMap<any>]> args;\n\t\t\t\t\tconst handles = Object.keys(listenerMapArg).map((type) => this.on(type, listenerMapArg[type]));\n\t\t\t\t\treturn handlesArraytoHandle(handles);\n\t\t\t\t}\n\t\t\t\telse { /* unexpected signature */\n\t\t\t\t\tthrow new TypeError('Invalid arguments');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinitialize(instance: Evented, options: EventedOptions) {\n\t\t\tlistenersMap.set(instance, new Map<string, EventedCallback<EventObject>>());\n\t\t\tif (options && options.listeners) {\n\t\t\t\tinstance.own(instance.on(options.listeners));\n\t\t\t}\n\t\t}\n\t});\n\nexport default createEvented;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/bases/createEvented.ts","import { Handle } from 'dojo-interfaces/core';\nimport { createHandle } from './lang';\n\n/**\n * An object that provides the necessary APIs to be MapLike\n */\nexport interface MapLike<K, V> {\n\tget(key: K): V;\n\tset(key: K, value?: V): this;\n}\n\n/**\n * An internal type guard that determines if an value is MapLike or not\n *\n * @param value The value to guard against\n */\nfunction isMapLike(value: any): value is MapLike<any, any> {\n\treturn value && typeof value.get === 'function' && typeof value.set === 'function';\n}\n\nexport interface Indexable {\n\t[method: string]: any;\n}\n\n/**\n * The types of objects or maps where advice can be applied\n */\nexport type Targetable = MapLike<string, any> | Indexable;\n\ntype AdviceType = 'before' | 'after';\n\n/**\n * A meta data structure when applying advice\n */\ninterface Advised {\n\tid?: number;\n\tadvice?: Function;\n\tprevious?: Advised;\n\tnext?: Advised;\n\treceiveArguments?: boolean;\n}\n\n/**\n * A function that dispatches advice which is decorated with additional\n * meta data about the advice to apply\n */\ninterface Dispatcher {\n\t[ type: string ]: Advised | undefined;\n\t(): any;\n\ttarget: any;\n\tbefore?: Advised;\n\taround?: Advised;\n\tafter?: Advised;\n}\n\n/**\n * A UID for tracking advice ordering\n */\nlet nextId = 0;\n\n/**\n * Internal function that advises a join point\n *\n * @param dispatcher The current advice dispatcher\n * @param type The type of before or after advice to apply\n * @param advice The advice to apply\n * @param receiveArguments If true, the advice will receive the arguments passed to the join point\n * @return The handle that will remove the advice\n */\nfunction advise(\n\tdispatcher: Dispatcher | undefined,\n\ttype: AdviceType,\n\tadvice: Function | undefined,\n\treceiveArguments?: boolean\n): Handle {\n\tlet previous = dispatcher && dispatcher[type];\n\tlet advised: Advised | undefined = {\n\t\tid: nextId++,\n\t\tadvice: advice,\n\t\treceiveArguments: receiveArguments\n\t};\n\n\tif (previous) {\n\t\tif (type === 'after') {\n\t\t\t// add the listener to the end of the list\n\t\t\t// note that we had to change this loop a little bit to workaround a bizarre IE10 JIT bug\n\t\t\twhile (previous.next && (previous = previous.next)) {}\n\t\t\tprevious.next = advised;\n\t\t\tadvised.previous = previous;\n\t\t}\n\t\telse {\n\t\t\t// add to the beginning\n\t\t\tif (dispatcher) {\n\t\t\t\tdispatcher.before = advised;\n\t\t\t}\n\t\t\tadvised.next = previous;\n\t\t\tprevious.previous = advised;\n\t\t}\n\t}\n\telse {\n\t\tdispatcher && (dispatcher[type] = advised);\n\t}\n\n\tadvice = previous = undefined;\n\n\treturn createHandle(function () {\n\t\tlet { previous = undefined, next = undefined } = (advised || {});\n\n\t\tif (dispatcher && !previous && !next) {\n\t\t\tdispatcher[type] = undefined;\n\t\t}\n\t\telse {\n\t\t\tif (previous) {\n\t\t\t\tprevious.next = next;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdispatcher && (dispatcher[type] = next);\n\t\t\t}\n\n\t\t\tif (next) {\n\t\t\t\tnext.previous = previous;\n\t\t\t}\n\t\t}\n\t\tif (advised) {\n\t\t\tdelete advised.advice;\n\t\t}\n\t\tdispatcher = advised = undefined;\n\t});\n}\n\n/**\n * An internal function that resolves or creates the dispatcher for a given join point\n *\n * @param target The target object or map\n * @param methodName The name of the method that the dispatcher should be resolved for\n * @return The dispatcher\n */\nfunction getDispatcher(target: Targetable, methodName: string): Dispatcher {\n\tconst existing = isMapLike(target) ? target.get(methodName) : target && target[methodName];\n\tlet dispatcher: Dispatcher;\n\n\tif (!existing || existing.target !== target) {\n\t\t/* There is no existing dispatcher, therefore we will create one */\n\t\tdispatcher = <Dispatcher> function (this: Dispatcher): any {\n\t\t\tlet executionId = nextId;\n\t\t\tlet args = arguments;\n\t\t\tlet results: any;\n\t\t\tlet before = dispatcher.before;\n\n\t\t\twhile (before) {\n\t\t\t\tif (before.advice) {\n\t\t\t\t\targs = before.advice.apply(this, args) || args;\n\t\t\t\t}\n\t\t\t\tbefore = before.next;\n\t\t\t}\n\n\t\t\tif (dispatcher.around && dispatcher.around.advice) {\n\t\t\t\tresults = dispatcher.around.advice(this, args);\n\t\t\t}\n\n\t\t\tlet after = dispatcher.after;\n\t\t\twhile (after && after.id < executionId) {\n\t\t\t\tif (after.advice) {\n\t\t\t\t\tif (after.receiveArguments) {\n\t\t\t\t\t\tlet newResults = after.advice.apply(this, args);\n\t\t\t\t\t\tresults = newResults === undefined ? results : newResults;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tresults = after.advice.call(this, results, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tafter = after.next;\n\t\t\t}\n\n\t\t\treturn results;\n\t\t};\n\n\t\tif (isMapLike(target)) {\n\t\t\ttarget.set(methodName, dispatcher);\n\t\t}\n\t\telse {\n\t\t\ttarget && (target[methodName] = dispatcher);\n\t\t}\n\n\t\tif (existing) {\n\t\t\tdispatcher.around = {\n\t\t\t\tadvice: function (target: any, args: any[]): any {\n\t\t\t\t\treturn existing.apply(target, args);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tdispatcher.target = target;\n\t}\n\telse {\n\t\tdispatcher = existing;\n\t}\n\n\treturn dispatcher;\n}\n\n/**\n * Attaches \"after\" advice to be executed after the original method.\n * The advising function will receive the original method's return value and arguments object.\n * The value it returns will be returned from the method when it is called (even if the return value is undefined).\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original method's return value and arguments object\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function after(target: Targetable, methodName: string, advice: (originalReturn: any, originalArgs: IArguments) => any): Handle {\n\treturn advise(getDispatcher(target, methodName), 'after', advice);\n}\n\n/**\n * Attaches \"around\" advice around the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the original function\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function around(target: Targetable, methodName: string, advice: ((previous: Function) => Function)): Handle {\n\tlet dispatcher: Dispatcher | undefined = getDispatcher(target, methodName);\n\tlet previous = dispatcher.around;\n\tlet advised: Function | undefined;\n\tif (advice) {\n\t\tadvised = advice(function (this: Dispatcher): any {\n\t\t\tif (previous && previous.advice) {\n\t\t\t\treturn previous.advice(this, arguments);\n\t\t\t}\n\t\t});\n\t}\n\n\tdispatcher.around = {\n\t\tadvice: function (target: any, args: any[]): any {\n\t\t\treturn advised ? advised.apply(target, args) : previous && previous.advice && previous.advice(target, args);\n\t\t}\n\t};\n\n\treturn createHandle(function () {\n\t\tadvised = dispatcher = undefined;\n\t});\n}\n\n/**\n * Attaches \"before\" advice to be executed before the original method.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the same arguments as the original, and may return new arguments\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function before(target: Targetable, methodName: string, advice: (...originalArgs: any[]) => any[] | void): Handle {\n\treturn advise(getDispatcher(target, methodName), 'before', advice);\n}\n\n/**\n * Attaches advice to be executed after the original method.\n * The advising function will receive the same arguments as the original method.\n * The value it returns will be returned from the method when it is called *unless* its return value is undefined.\n *\n * @param target Object whose method will be aspected\n * @param methodName Name of method to aspect\n * @param advice Advising function which will receive the same arguments as the original method\n * @return A handle which will remove the aspect when destroy is called\n */\nexport function on(target: Targetable, methodName: string, advice: (...originalArgs: any[]) => any): Handle {\n\treturn advise(getDispatcher(target, methodName), 'after', advice, true);\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/aspect.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport createCard, { CardState } from '../card/createCard';\n\nexport type CardNavBarState = WidgetState & {\n\tcards: CardState[];\n}\n\nexport type CardNavBar = Widget<CardNavBarState>;\n\nconst createCardNavBar = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'cardNavBar' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: CardNavBar): DNode[] {\n\t\t\t\t\tconst { cards } = this.state;\n\n\t\t\t\t\tconst cardNodes = cards.map((state) => {\n\t\t\t\t\t\treturn d(createCard, { id: `card-details-nav-bar-${state.id}`, state });\n\t\t\t\t\t});\n\n\t\t\t\t\treturn cardNodes;\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createCardNavBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card-details/createCardNavBar.ts","import { VNodeProperties } from 'dojo-interfaces/vdom';\nimport compose, { ComposeFactory } from 'dojo-compose/compose';\nimport { NodeAttributeFunction } from 'dojo-interfaces/widgetBases';\nimport createStateful from 'dojo-compose/bases/createStateful';\nimport { State, Stateful, StatefulOptions } from 'dojo-interfaces/bases';\n\nexport type CssTransitionMixinState = State & {\n\t/**\n\t * The class of the CSS animation to be applied as the widget enters the dom\n\t */\n\tenterAnimation?: string;\n\n\t/**\n\t * The class of the CSS animation to be applied as the widget exits the dom\n\t */\n\texitAnimation?: string;\n}\n\nexport interface CssTransition {\n\t/**\n\t * An array of node attribute functions which return additional attributes that should be mixed into\n\t * the final VNode during a render call\n\t */\n\tnodeAttributes: NodeAttributeFunction[];\n}\n\nexport type CssTransitionMixin<S extends CssTransitionMixinState> = CssTransition & Stateful<S>;\n\nexport interface CssTransitionMixinFactory extends ComposeFactory<CssTransitionMixin<CssTransitionMixinState>, StatefulOptions<CssTransitionMixinState>> {};\n\nconst createCssTransitionMixin: CssTransitionMixinFactory = compose({\n\t\tnodeAttributes: [\n\t\t\tfunction (this: CssTransitionMixin<CssTransitionMixinState>): VNodeProperties {\n\t\t\t\tconst { enterAnimation, exitAnimation } = this.state;\n\t\t\t\treturn { enterAnimation, exitAnimation };\n\t\t\t}\n\t\t]\n\t})\n\t.mixin(createStateful);\n\nexport default createCssTransitionMixin;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createCssTransitionMixin.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\n\nexport type CardDescriptionState = WidgetState & {\n\tname: string;\n\ttagline: string;\n\tdescription: string;\n\timageClass: string;\n\tfavouriteCount: number;\n\tid: string;\n}\n\nexport type CardDescription = Widget<CardDescriptionState>;\n\nexport type ShareButtonConfig = {\n\ticonClass: string;\n\thref?: string;\n\ttext?: string;\n}\n\nfunction createButtonLink({ iconClass, href, text: innerHTML }: ShareButtonConfig): DNode {\n\tconst icon = d(`i.fa.${iconClass}`);\n\tconst buttonText = innerHTML ? d('span', { innerHTML }) : null;\n\n\treturn d('a.button', { href }, [ icon, buttonText ]);\n}\n\nconst shareButtonConfig: ShareButtonConfig[] = [\n\t{ href: '', iconClass: 'fa-heart-o', text: 'Add to favourites' },\n\t{ href: 'http://www.twitter.com', iconClass: 'fa-twitter' },\n\t{ href: 'https://facebook.com', iconClass: 'fa-facebook' }\n];\n\nconst createCardDescription = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'cardDescription' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: CardDescription): DNode[] {\n\t\t\t\t\tconst { imageClass, name, tagline, description, favouriteCount } = this.state;\n\n\t\t\t\t\tconst cardImage = d(`div.cardImage.card-sprite-large.${imageClass}`);\n\t\t\t\t\tconst cardName = d('h1', { innerHTML: name });\n\t\t\t\t\tconst cardTagline = d('strong.tagline', { innerHTML: tagline });\n\t\t\t\t\tconst cardDescription = d('p', { innerHTML: description });\n\t\t\t\t\tconst cardFavouriteCount = d('span', { innerHTML: `Favourited: ${favouriteCount}` });\n\t\t\t\t\tconst shareButtons = d('div.buttonHolder', {}, shareButtonConfig.map(createButtonLink));\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\tcardImage,\n\t\t\t\t\t\td('article', {}, [\n\t\t\t\t\t\t\tcardName,\n\t\t\t\t\t\t\tcardTagline,\n\t\t\t\t\t\t\tcardDescription,\n\t\t\t\t\t\t\tcardFavouriteCount,\n\t\t\t\t\t\t\tshareButtons\n\t\t\t\t\t\t])\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createCardDescription;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card-details/createCardDescription.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport createCardsList from './createCardsList';\nimport { CardSummaryState } from '../card/createCardSummary';\nimport d from 'dojo-widgets/util/d';\n\nexport type CardsPageState = WidgetState & {\n\tcards: CardSummaryState[];\n}\nexport type CardsPage = Widget<CardsPageState>\n\nconst createCardsPage = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'pageHolder', 'cards' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: CardsPage): DNode[] {\n\t\t\t\t\tconst jumbotron = d('div.jumbotron');\n\t\t\t\t\tconst cardsList = d(createCardsList, { state: this.state });\n\n\t\t\t\t\treturn [ jumbotron, cardsList ];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createCardsPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/cards/createCardsPage.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createCardSummary, { CardSummaryState } from '../card/createCardSummary';\n\nexport type CardListState = WidgetState & {\n\tcards: CardSummaryState[];\n}\n\nexport type CardList = Widget<CardListState>;\n\nconst createCardList = createWidgetBase\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'cardList' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: CardList): DNode[] {\n\t\t\t\t\tconst { cards } = this.state;\n\n\t\t\t\t\treturn cards.map((state) => {\n\t\t\t\t\t\treturn d(createCardSummary, { id: `card-list-summary-${state.id}`, state });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createCardList;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/cards/createCardsList.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createCard from './createCard';\n\nexport type CardSummaryState = WidgetState & {\n\tname: string;\n\timageClass: string;\n\tscore: number;\n\tid: string;\n}\n\nexport type CardSummary = Widget<CardSummaryState>\n\nconst createCardSummary = createWidgetBase.mixin({\n\tmixin: {\n\t\tclasses: [ 'cardSummary' ],\n\t\tchildNodeRenderers: [\n\t\t\tfunction(this: CardSummary): DNode[] {\n\t\t\t\tconst { id, imageClass, name, score } = this.state;\n\n\t\t\t\tconst cardImage = d(createCard, { state: { id, imageClass, large: true } });\n\t\t\t\tconst cardName = d('h2', { innerHTML: name });\n\t\t\t\tconst cardPoints = d('p.points', { innerHTML: `milestone points: ${score}` });\n\n\t\t\t\treturn [\n\t\t\t\t\tcardImage,\n\t\t\t\t\tcardName,\n\t\t\t\t\tcardPoints\n\t\t\t\t];\n\t\t\t}\n\t\t]\n\t}\n});\n\nexport default createCardSummary;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/card/createCardSummary.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport d from 'dojo-widgets/util/d';\n\nexport type AboutPage = Widget<WidgetState>\n\nconst createAboutPage = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'pageHolder', 'about' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: AboutPage): DNode[] {\n\t\t\t\t\tconst heading = d('h1', { innerHTML: 'About' });\n\t\t\t\t\tconst jumbotron = d('div.jumbotron', {}, [ heading ]);\n\n\t\t\t\t\treturn [ jumbotron ];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createAboutPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/about/createAboutPage.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport d from 'dojo-widgets/util/d';\n\nexport type GameplayPage = Widget<WidgetState>\n\nconst createGameplayPage = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'pageHolder', 'gameplay' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: GameplayPage): DNode[] {\n\t\t\t\t\tconst heading = d('h1', { innerHTML: 'Gameplay' });\n\t\t\t\t\tconst jumbotron = d('div.jumbotron', {}, [ heading ]);\n\n\t\t\t\t\treturn [ jumbotron ];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createGameplayPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/gameplay/createGameplayPage.ts","import { Widget, DNode } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport createCssTransitionMixin from 'dojo-widgets/mixins/createCssTransitionMixin';\nimport d from 'dojo-widgets/util/d';\n\nexport type HomePageState = {}\nexport type HomePage = Widget<HomePageState>\n\nconst createHomePage = createWidgetBase\n\t.mixin(createCssTransitionMixin)\n\t.mixin({\n\t\tmixin: {\n\t\t\tclasses: [ 'animated', 'pageHolder', 'home' ],\n\t\t\tchildNodeRenderers: [\n\t\t\t\tfunction(this: HomePage): DNode[] {\n\t\t\t\t\tconst mmLogo = d('img', { src: './images/mm_logo.png' });\n\t\t\t\t\tconst jumbotron = d('div.jumbotron', {}, [ mmLogo ]);\n\n\t\t\t\t\treturn [ jumbotron ];\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\nexport default createHomePage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/home/createHomePage.ts","(function (global) {\n\n  \"use strict\";\n\n  var browserSpecificTransitionEndEventName = null;\n\n  var determineBrowserSpecificStyleNames = function (element) {\n    if (\"WebkitTransition\" in element.style) {\n      browserSpecificTransitionEndEventName = \"webkitTransitionEnd\";\n    } else if (\"transition\" in element.style) {\n      browserSpecificTransitionEndEventName = \"transitionend\";\n    } else if (\"MozTransition\" in element.style) {\n      browserSpecificTransitionEndEventName = \"transitionend\";\n    } else {\n      throw new Error(\"Your browser is not supported\");\n    }\n  };\n\n  var init = function (testElement) {\n    if (browserSpecificTransitionEndEventName === null) {\n      determineBrowserSpecificStyleNames(testElement);\n    }\n  };\n\n  var cssTransitions = {\n    exit: function (node, properties, exitAnimation, removeNode) {\n      init(node);\n      var finished = false;\n      var transitionEnd = function (evt) {\n        if (!finished) {\n          finished = true;\n          node.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n          removeNode();\n        }\n      };\n      node.classList.add(exitAnimation);\n      node.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n      requestAnimationFrame(function () {\n        node.classList.add(exitAnimation + \"-active\");\n      });\n    },\n    enter: function (node, properties, enterAnimation) {\n      init(node);\n      var finished = false;\n      var transitionEnd = function (evt) {\n        if (!finished) {\n          finished = true;\n          node.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n          node.classList.remove(enterAnimation);\n          node.classList.remove(enterAnimation + \"-active\");\n        }\n      };\n      node.classList.add(enterAnimation);\n      node.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n      requestAnimationFrame(function () {\n        node.classList.add(enterAnimation + \"-active\");\n      });\n    }\n  };\n\n  if (global.module !== undefined && global.module.exports) {\n    // Node and other CommonJS-like environments that support module.exports\n    global.module.exports = cssTransitions;\n  } else if (typeof global.define == 'function' && global.define.amd) {\n    // AMD / RequireJS\n    global.define(function () {\n      return cssTransitions;\n    });\n  }\n  if (window) {\n    // Browser\n    window.cssTransitions = cssTransitions;\n  }\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/maquette/src/css-transitions.js\n// module id = 76\n// module chunks = 0","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\nimport createSearchInput from '../common/createSearchInput';\n\nexport type NavBarState = WidgetState & {\n\tsections: NavBarLinkDefinition[];\n}\n\nexport type NavBar = Widget<NavBarState>\n\nexport type NavBarLinkDefinition = {\n\ttext: string;\n\thref: string;\n}\n\nfunction listItem(childNode: DNode): DNode {\n\treturn d('li', {}, [ childNode ]);\n}\n\nfunction createNavBarLink({ text: innerHTML, href }: NavBarLinkDefinition): DNode {\n\treturn listItem(d('a', { href, innerHTML }));\n}\n\nconst createNavbar = createWidgetBase.mixin({\n\tmixin: {\n\t\ttagName: 'header',\n\t\tclasses: [ 'navbar' ],\n\t\tchildNodeRenderers: [\n\t\t\tfunction(this: NavBar): DNode[] {\n\t\t\t\tconst homeLink = listItem(d('a', { href: '#' }, [\n\t\t\t\t\td('img', { src: 'images/navbar-app-icon.png' })\n\t\t\t\t]));\n\t\t\t\tconst sectionLinks = this.state.sections.map(createNavBarLink);\n\t\t\t\tconst searchAction = listItem(d(createSearchInput, {}));\n\t\t\t\tconst favouriteAction = listItem(d('i.fa.fa-2x.fa-heart-o'));\n\n\t\t\t\tconst pageLinks = d('ul.inline-list', {}, [ homeLink, ...sectionLinks ]);\n\t\t\t\tconst actionLinks = d('ul.inline-list.pull-right', {}, [ searchAction, favouriteAction ]);\n\n\t\t\t\treturn [ pageLinks, actionLinks ];\n\t\t\t}\n\t\t]\n\t}\n});\n\nexport default createNavbar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/navbar/createNavbar.ts","import { Widget, DNode, WidgetState } from 'dojo-interfaces/widgetBases';\nimport createWidgetBase from 'dojo-widgets/bases/createWidgetBase';\nimport d from 'dojo-widgets/util/d';\n\nexport type SearchInput = Widget<WidgetState>\n\nconst createSearchInput = createWidgetBase.mixin({\n\tmixin: {\n\t\tchildNodeRenderers: [\n\t\t\tfunction(this: SearchInput): DNode[] {\n\t\t\t\tconst input = d('input', { type: 'search' });\n\t\t\t\tconst icon = d('i.fa.fa-2x.fa-search');\n\n\t\t\t\treturn [ input, icon ];\n\t\t\t}\n\t\t]\n\t}\n});\n\nexport default createSearchInput;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/common/createSearchInput.ts","import createMemoryStore, { MemoryStore } from 'dojo-stores/createMemoryStore';\nimport { putCard } from './../actions/widgetStoreActions';\nimport { from as arrayFrom } from 'dojo-shim/array';\n\nexport interface Card {\n\tid: string;\n\tcardType: 'momentum' | 'mayhem';\n\tname: string;\n\ttagline: string;\n\tdescription: string;\n\tscore: number;\n\timageClass: string;\n\tfavouriteCount: number;\n}\n\nexport type Store = MemoryStore<Card>;\n\nconst cardStore: Store = createMemoryStore<Card>({\n\tdata: [\n\t\t{ id: 'card-1', cardType: 'momentum', name: 'Brainstorming', description: 'People\\'s best ideas often come to them when they\\'re alone, but so do their worst. Your team brainstorms to build on each other\\'s great ideas.', score: 1, tagline: '', imageClass: 'Cards-Momentum1', favouriteCount: 0 },\n\t\t{ id: 'card-2', cardType: 'momentum', name: 'Clear Objectives', description: 'You tell your team that knowing the goal of the task is far more important than understanding the specific words of the request.', score: 3, tagline: '', imageClass: 'Cards-Momentum2', favouriteCount: 0 },\n\t\t{ id: 'card-3', cardType: 'momentum', name: 'Code Conventions', description: 'While tabs are superior to spaces in every way, the most important thing is that everyone on the project is structuring their code the same way.', score: 1, tagline: '', imageClass: 'Cards-Momentum3', favouriteCount: 0 },\n\t\t{ id: 'card-4', cardType: 'momentum', name: 'Code Reviews', description: 'The major benefit of your code review initiative wasn\\'t reducing errors, but in the camaraderie it built between engineers.', score: 4, tagline: '', imageClass: 'Cards-Momentum4', favouriteCount: 0 },\n\t\t{ id: 'card-5', cardType: 'momentum', name: 'Collaboration', description: 'Through collaboration, your team sees more of the big picture then most, enabling them to make better decisions.', score: 1, tagline: '', imageClass: 'Cards-Momentum5', favouriteCount: 0 },\n\t\t{ id: 'card-6', cardType: 'momentum', name: 'Communication', description: 'Your team communicates effectively, helping to avoid last minute scrambles and missed milestones.', score: 3, tagline: '', imageClass: 'Cards-Momentum6', favouriteCount: 0 },\n\t\t{ id: 'card-7', cardType: 'momentum', name: 'Decision Makers', description: 'Your team feels empowered to make important real-time decisions, removing minor roadblocks before they impact the entire project.', score: 4, tagline: '', imageClass: 'Cards-Momentum7', favouriteCount: 0 },\n\t\t{ id: 'card-8', cardType: 'momentum', name: 'Delegation', description: 'You let your team know that you don\\'t have to be involved in every decision. You trust them to use their judgement.', score: 2, tagline: '', imageClass: 'Cards-Momentum8', favouriteCount: 0 },\n\t\t{ id: 'card-9', cardType: 'momentum', name: 'Design Iteration', description: 'Your designers and developers iterate together to make sure that what\\'s being designed and built delivers the best possible experience', score: 2, tagline: '', imageClass: 'Cards-Momentum9', favouriteCount: 0 },\n\t\t{ id: 'card-10', cardType: 'momentum', name: 'Donuts!', description: 'Let\\'s be honest, we all revert to a childlike state when in the presence of sprinkled donuts.', score: 3, tagline: '', imageClass: 'Cards-Momentum10', favouriteCount: 0 },\n\t\t{ id: 'card-11', cardType: 'momentum', name: 'Feedback', description: 'You encourage the team to raise issues as they see them instead of letting them fester, even if the issue is you.', score: 2, tagline: '', imageClass: 'Cards-Momentum11', favouriteCount: 0 },\n\t\t{ id: 'card-12', cardType: 'momentum', name: 'Focused Meetings', description: 'You convinced \"The Inviter\" that the entire development team didn\\'t need to attend the weekly marketing meeting.', score: 1, tagline: '', imageClass: 'Cards-Momentum12', favouriteCount: 0 },\n\t\t{ id: 'card-13', cardType: 'momentum', name: 'Future Proofing', description: 'Your team not only solves the immediate problem, but works hard to ensure they aren\\'t creating new ones down the road.', score: 1, tagline: '', imageClass: 'Cards-Momentum13', favouriteCount: 0 },\n\t\t{ id: 'card-14', cardType: 'momentum', name: 'Hackathon', description: 'At the monthly hackathon you organized, the team came up with a clever way to improve the performance of your app.', score: 3, tagline: '', imageClass: 'Cards-Momentum14', favouriteCount: 0 },\n\t\t{ id: 'card-15', cardType: 'momentum', name: 'Integrated Teams', description: 'The project really started humming when you created small integrated teams of designers and engineers focused on specific features of the project.', score: 1, tagline: '', imageClass: 'Cards-Momentum15', favouriteCount: 0 },\n\t\t{ id: 'card-16', cardType: 'momentum', name: 'Leadership', description: 'You have built a team that believes leadership is a quality present in everyone and not inhereted from the top-down.', score: 4, tagline: '', imageClass: 'Cards-Momentum16', favouriteCount: 0 },\n\t\t{ id: 'card-17', cardType: 'momentum', name: 'Modern Tools', description: 'Moving to a modern toolchain cut down your build & deploy step from 12 minutes to 15 seconds.', score: 1, tagline: '', imageClass: 'Cards-Momentum17', favouriteCount: 0 },\n\t\t{ id: 'card-18', cardType: 'momentum', name: 'Open Source', description: 'Despite the Legal team\\'s fears of exploits and foreign hackers, they finally agreed to let you use \"Open Software\", as long as you \"close it up\".', score: 2, tagline: '', imageClass: 'Cards-Momentum18', favouriteCount: 0 },\n\t\t{ id: 'card-19', cardType: 'momentum', name: 'Planning', description: 'Knowing you could not control the other team, you influenced them by leading by example and demonstrating you had a viable plan to follow.', score: 2, tagline: '', imageClass: 'Cards-Momentum19', favouriteCount: 0 },\n\t\t{ id: 'card-20', cardType: 'momentum', name: 'Prioritization', description: 'You looked the VP right in the eye and told him that if everything is a top priority, nothing is.', score: 2, tagline: '', imageClass: 'Cards-Momentum20', favouriteCount: 0 },\n\t\t{ id: 'card-21', cardType: 'momentum', name: 'Recognition', description: 'When a VP thanked you for your good work on the latest demo, you asked the VP to thank your team in person, as well.', score: 4, tagline: '', imageClass: 'Cards-Momentum21', favouriteCount: 0 },\n\t\t{ id: 'card-22', cardType: 'momentum', name: 'Recruiting', description: 'Hiring a great team has become your best recruiting tool. Smart people want to work with other smart people.', score: 1, tagline: '', imageClass: 'Cards-Momentum22', favouriteCount: 0 },\n\t\t{ id: 'card-23', cardType: 'momentum', name: 'Requirements', description: 'Your team reviews each requirement in detail before starting each milestone to identify any gray areas that can be quickly clarified.', score: 3, tagline: '', imageClass: 'Cards-Momentum23', favouriteCount: 0 },\n\t\t{ id: 'card-24', cardType: 'momentum', name: 'Reusable Code', description: 'You save the orginization months of development hours by setting up a shared code repository', score: 2, tagline: '', imageClass: 'Cards-Momentum24', favouriteCount: 0 },\n\t\t{ id: 'card-25', cardType: 'momentum', name: 'Solid Architecture', description: 'Your architecture weathered the storm of changing business needs, letting your team focus on quickly delivering business value.', score: 1, tagline: '', imageClass: 'Cards-Momentum25', favouriteCount: 0 },\n\t\t{ id: 'card-26', cardType: 'momentum', name: 'Testing Plan', description: 'Your team \\'miraculously\\' knew if their code was working before they shipped it, avoiding rework.', score: 4, tagline: '', imageClass: 'Cards-Momentum26', favouriteCount: 0 },\n\t\t{ id: 'card-27', cardType: 'momentum', name: 'The A-Team', description: 'Your team has been called in to save the day in a flailing project, and they turn it around, but you still \\'don\\'t pity the fool!', score: 1, tagline: '', imageClass: 'Cards-Momentum27', favouriteCount: 0 },\n\t\t{ id: 'card-28', cardType: 'momentum', name: 'Unit Testing', description: 'Woah! The new developer on the team made their first commit in under a day, and the unit tests saved them from breaking the build.', score: 1, tagline: '', imageClass: 'Cards-Momentum28', favouriteCount: 0 },\n\t\t{ id: 'card-29', cardType: 'momentum', name: 'Work/Life Balance', description: 'Your team offered to work the weekend to get ahead of the game, but you let them know that personal time was more important.', score: 1, tagline: '', imageClass: 'Cards-Momentum29', favouriteCount: 0 },\n\t\t{ id: 'card-30', cardType: 'momentum', name: 'Workshops', description: 'Technology moves fast, but you\\'ve invested in your team by providing ongoing education. Your team is up to speed while others are stagnating.', score: 2, tagline: '', imageClass: 'Cards-Momentum30', favouriteCount: 0 },\n\t\t{ id: 'card-31', cardType: 'mayhem', name: 'Blunderer', description: 'The build broke...again! Some people on your team know just enough to be dangerous.', score: 1, tagline: '', imageClass: 'Cards-Mayhem1', favouriteCount: 0 },\n\t\t{ id: 'card-32', cardType: 'mayhem', name: 'Brain Drain', description: 'The only person who understands how your legacy app works just left for a hot, new startup.', score: 3, tagline: '', imageClass: 'Cards-Mayhem2', favouriteCount: 0 },\n\t\t{ id: 'card-33', cardType: 'mayhem', name: 'Dead-Line', description: 'The VP of Sales informs you that your project will need to be finished a few weeks early. No biggie, right?', score: 1, tagline: '', imageClass: 'Cards-Mayhem3', favouriteCount: 0 },\n\t\t{ id: 'card-34', cardType: 'mayhem', name: 'Dr. Deflector', description: 'Features were announced that aren\\'t even on the roadmap. Somehow, it\\'s your fault they won\\'t be included.', score: 4, tagline: '', imageClass: 'Cards-Mayhem4', favouriteCount: 0 },\n\t\t{ id: 'card-35', cardType: 'mayhem', name: 'Gen. Death March', description: 'Despite your plea for more time, the only thing you received was permission to work harder.', score: 1, tagline: '', imageClass: 'Cards-Mayhem5', favouriteCount: 0 },\n\t\t{ id: 'card-36', cardType: 'mayhem', name: 'Grim Repo', description: 'The wrong branch was merged into production. Untangling this mess is going to be a nightmare.', score: 3, tagline: '', imageClass: 'Cards-Mayhem6', favouriteCount: 0 },\n\t\t{ id: 'card-37', cardType: 'mayhem', name: 'King of Confusion', description: 'At a recent meeting to get everyone on the same page, it turned out that nobody was even in the same book.', score: 4, tagline: '', imageClass: 'Cards-Mayhem7', favouriteCount: 0 },\n\t\t{ id: 'card-38', cardType: 'mayhem', name: 'Landmine', description: 'Half of the requirements say \"TBD Later\". It\\'s well past later and nobody has determined anything.', score: 2, tagline: '', imageClass: 'Cards-Mayhem8', favouriteCount: 0 },\n\t\t{ id: 'card-39', cardType: 'mayhem', name: 'Pet Pony', description: 'Just like a six-year-old who wants a pony, stakeholders want their new ideas implemented NOW!', score: 2, tagline: '', imageClass: 'Cards-Mayhem9', favouriteCount: 0 },\n\t\t{ id: 'card-40', cardType: 'mayhem', name: 'Scope Creep', description: 'Apparently, a \"few small changes\" means 17 new user stories.', score: 3, tagline: '', imageClass: 'Cards-Mayhem10', favouriteCount: 0 },\n\t\t{ id: 'card-41', cardType: 'mayhem', name: 'Slingshot', description: 'DevOps changed the authentication scheme but how it affects your project is \"not their problem\".', score: 2, tagline: '', imageClass: 'Cards-Mayhem11', favouriteCount: 0 },\n\t\t{ id: 'card-42', cardType: 'mayhem', name: 'The Eraser', description: 'The only thing complete about the UI design is how completely lacking it is in detail.', score: 1, tagline: '', imageClass: 'Cards-Mayhem12', favouriteCount: 0 },\n\t\t{ id: 'card-43', cardType: 'mayhem', name: 'The Gambler', description: 'The closer the deadline gets, the more liberal your team becomes with the definition of \"done\".', score: 1, tagline: '', imageClass: 'Cards-Mayhem13', favouriteCount: 0 },\n\t\t{ id: 'card-44', cardType: 'mayhem', name: 'The Horde', description: 'Instead of more time to meet your requirements, you got a dozen untrained interns to \"help\".', score: 3, tagline: '', imageClass: 'Cards-Mayhem14', favouriteCount: 0 },\n\t\t{ id: 'card-45', cardType: 'mayhem', name: 'The Inventor', description: 'When discussing what framework to use, an enthusiastic voice says, \"We\\'ll just roll our own!\"', score: 1, tagline: '', imageClass: 'Cards-Mayhem15', favouriteCount: 0 },\n\t\t{ id: 'card-46', cardType: 'mayhem', name: 'The Inviter', description: 'You and your team have been invited to daily meetings to discuss your \"lack of progress\".', score: 4, tagline: '', imageClass: 'Cards-Mayhem16', favouriteCount: 0 },\n\t\t{ id: 'card-47', cardType: 'mayhem', name: 'The Juggler', description: 'Flimsy dates, changing priorities and bad assumptions are the pillars of your project manager\\'s master plan!', score: 1, tagline: '', imageClass: 'Cards-Mayhem17', favouriteCount: 0 },\n\t\t{ id: 'card-48', cardType: 'mayhem', name: 'Sigh-Low', description: 'While on a conference call it becomes painfully clear...two different teams just completed the same work.', score: 2, tagline: '', imageClass: 'Cards-Mayhem18', favouriteCount: 0 },\n\t\t{ id: 'card-49', cardType: 'mayhem', name: 'Caveman Coder', description: 'You brought in a contractor, who smashed your code until it \"worked\" and then he committed it to master.', score: 2, tagline: '', imageClass: 'Cards-Mayhem19', favouriteCount: 0 }\n\t]\n});\n\nexport interface ChangeRecord {\n\tbeforeAll: Card[];\n\tafterAll: Card[];\n\tdeletes: string[];\n\tputs: Card[];\n}\n\nexport function bindActions() {\n\treturn cardStore.observe().subscribe((options: any) => {\n\t\tconst changeRecord = <ChangeRecord> options;\n\t\treturn putCard.do(changeRecord);\n\t});\n}\n\nexport function getShuffledCards(): Promise<Card[]> {\n\treturn cardStore.get().then((cards: any) => {\n\t\tconst shuffledArray = <Card[]> arrayFrom(cards);\n\t\tlet i = 0;\n\t\tlet\tj = 0;\n\t\tlet\ttemp: Card;\n\n\t\tfor (i = shuffledArray.length - 1; i > 0; i -= 1) {\n\t\t\tj = Math.floor(Math.random() * (i + 1));\n\t\t\ttemp = shuffledArray[i];\n\t\t\tshuffledArray[i] = shuffledArray[j];\n\t\t\tshuffledArray[j] = temp;\n\t\t}\n\n\t\treturn shuffledArray;\n\t});\n}\n\nexport function pickRandomCards(numberToPick: number, exclude: string[] = []): Promise<Card[]> {\n\treturn getShuffledCards().then((cards) => {\n\t\tconst filteredCards = cards.filter((card: Card) => exclude.indexOf(card.id) < 0);\n\t\treturn filteredCards.slice(0, Math.min(filteredCards.length, numberToPick));\n\t});\n}\n\nexport default cardStore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/stores/cardStore.ts","import createAction from 'dojo-actions/createAction';\n\nimport { ChangeRecord, Card } from '../stores/cardStore';\nimport widgetStore from '../stores/widgetStore';\n\nimport { CardState } from '../widgets/card/createCard';\nimport { CardSummaryState } from '../widgets/card/createCardSummary';\n\nfunction getStates(cards: Card[]): [ CardState[], CardSummaryState[] ] {\n\tconst cardStates: CardState[] = [];\n\tconst cardSummaryStates: CardSummaryState[] = [];\n\n\tcards.forEach(function ({ id, name, imageClass, score }) {\n\t\tcardStates.push({ id, imageClass });\n\t\tcardSummaryStates.push({ name, imageClass, score, id });\n\t});\n\n\treturn [ cardStates, cardSummaryStates ];\n}\n\nexport const putCard = createAction({\n\tdo({ afterAll, puts }: ChangeRecord) {\n\t\tif (puts.length) {\n\t\t\tconst [ cardStates, cardSummaryStates ] = getStates(afterAll);\n\n\t\t\twidgetStore.patch({ id: 'cards', cards: cardSummaryStates });\n\t\t\twidgetStore.patch({ id: 'cardDetails', cards: cardStates });\n\t\t}\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/widgetStoreActions.ts","import compose, { ComposeFactory } from 'dojo-compose/compose';\nimport createStateful, { Stateful, StatefulOptions, State } from 'dojo-compose/mixins/createStateful';\nimport { EventObject } from 'dojo-core/interfaces';\nimport Task, { isTask } from 'dojo-core/async/Task';\nimport { Thenable } from 'dojo-shim/interfaces';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\n\n/**\n * A type alias to a \"generic\" action\n */\nexport type AnyAction = Action<any, DoOptions<any, TargettedEventObject<any>>, ActionState>;\n\nexport interface TargettedEventObject<T> extends EventObject {\n\t/**\n\t * The target of the event\n\t */\n\ttarget: T;\n}\n\nexport interface DoOptions<T, E extends TargettedEventObject<T>> {\n\t[option: string]: any;\n\n\t/**\n\t * The target event (subject) of the action\n\t */\n\tevent?: E;\n}\n\nexport interface ActionState extends State {\n\t/**\n\t * Determines if the action is enabled or not\n\t */\n\tenabled?: boolean;\n}\n\nexport interface ActionMixin<T, O extends DoOptions<T, TargettedEventObject<T>>> {\n\t/**\n\t * The main method that performs the action and returns a task which resolves when the action completes\n\t * @param options The options to be passed to the `do` method\n\t */\n\tdo(options?: O): Task<T>;\n\n\t/**\n\t * Enabled the task is disabled\n\t */\n\tenable(): void;\n\n\t/**\n\t * Disable the task if enabled\n\t */\n\tdisable(): void;\n\n\t/**\n\t * A method which may be called to configure the action after it's been created.\n\t *\n\t * It's up to the implementation to decide what happens if this method is called multiple times. Implementations\n\t * may throw or return a rejected promise.\n\t *\n\t * @param configuration The configuration. Implementations will need to cast to their expected configuration object\n\t * @return May return a promise in case configuration is asynchronous\n\t */\n\tconfigure(options: { [option: string]: any }): Promise<void> | void;\n}\n\nexport type Action<T, O extends DoOptions<T, TargettedEventObject<T>>, S extends ActionState> = Stateful<S> & ActionMixin<T, O>;\n\nexport type DoFunction<T> = (options?: DoOptions<T, TargettedEventObject<T>>) => T | Thenable<T>;\n\nexport interface ActionOptions<T, S extends ActionState> extends StatefulOptions<S> {\n\t/**\n\t * The method that is invoked when `do()` is called and the action is enabled\n\t */\n\tdo: DoFunction<T>;\n\n\t/**\n\t * Set the enabled state during construction\n\t */\n\tenabled?: boolean;\n\n\t/**\n\t * The method that is invoked when `configure()` is called\n\t */\n\tconfigure?(options: { [option: string]: any }): Promise<void> | void;\n}\n\nexport interface ActionFactory extends ComposeFactory<Action<any, DoOptions<any, any>, ActionState>, ActionOptions<any, ActionState>> {\n\t/**\n\t * Create a new instance of an Action, using the supplied options\n\t * @param options The options used to construct the Action\n\t */\n\t<T, O extends DoOptions<T, TargettedEventObject<T>>, S extends ActionState>(options: ActionOptions<T, S>): Action<T, O, S>;\n}\n\n/**\n * A type guard that validates the object passed is an Action\n */\nexport function isAction<T, O extends DoOptions<T, TargettedEventObject<T>>, S extends ActionState>(value: any): value is Action<T, O, S> {\n\treturn typeof value === 'object' && typeof value.do === 'function';\n}\n\n/**\n * A weak map of `do` methods\n */\nconst doFunctions = new WeakMap<AnyAction, DoFunction<any>>();\n\n/**\n * A weak map of `configure` methods\n */\nconst configureFunctions = new WeakMap<AnyAction, (configuration: Object) => Promise<void> | void>();\n\n/**\n * A factory which creates instances of Action\n */\nconst createAction: ActionFactory = compose<ActionMixin<any, DoOptions<any, TargettedEventObject<any>>>, ActionOptions<any, ActionState>>({\n\t\tdo(this: AnyAction, options?: DoOptions<any, TargettedEventObject<any>>): Task<any> {\n\t\t\tconst doFn = doFunctions.get(this);\n\t\t\tif (doFn && this.state.enabled) {\n\t\t\t\tconst result = doFn.call(this, options);\n\t\t\t\treturn isTask(result) ? result : Task.resolve(result);\n\t\t\t}\n\t\t\treturn Task.resolve();\n\t\t},\n\t\tenable(this: AnyAction): void {\n\t\t\tif (!this.state.enabled) {\n\t\t\t\tthis.setState({ enabled: true });\n\t\t\t}\n\t\t},\n\t\tdisable(this: AnyAction): void {\n\t\t\tif (this.state.enabled) {\n\t\t\t\tthis.setState({ enabled: false });\n\t\t\t}\n\t\t},\n\t\tconfigure(this: AnyAction, configuration: Object): Promise<void> | void {\n\t\t\tconst configureFn = configureFunctions.get(this);\n\t\t\tif (configureFn) {\n\t\t\t\treturn configureFn.call(this, configuration);\n\t\t\t}\n\t\t}\n\t})\n\t.mixin({\n\t\tmixin: createStateful,\n\t\tinitialize(instance: AnyAction, { do: doFn, enabled = true, configure }: ActionOptions<any, ActionState>) {\n\t\t\tif (!doFn) {\n\t\t\t\tthrow new TypeError(`'options.do' required during creation.`);\n\t\t\t}\n\t\t\tdoFunctions.set(instance, doFn);\n\t\t\tinstance.setState({ enabled });\n\t\t\tif (configure) {\n\t\t\t\tconfigureFunctions.set(instance, configure);\n\t\t\t}\n\t\t\tinstance.own({\n\t\t\t\tdestroy() {\n\t\t\t\t\tdoFunctions.delete(instance);\n\t\t\t\t\tconfigureFunctions.delete(instance);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\nexport default createAction;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-actions/createAction.ts","import { Thenable } from 'dojo-shim/interfaces';\nimport { Executor } from 'dojo-shim/Promise';\nimport ExtensiblePromise from './ExtensiblePromise';\n\n/**\n * Describe the internal state of a task.\n */\nexport declare const enum State {\n\tFulfilled = 0,\n\tPending = 1,\n\tRejected = 2,\n\tCanceled = 3\n}\n\n/**\n * A type guard that determines if `value` is a `Task`\n * @param value The value to guard\n */\nexport function isTask<T>(value: any): value is Task<T> {\n\treturn Boolean(value && typeof value.cancel === 'function' && Array.isArray(value.children) && isThenable(value));\n}\n\n/**\n * Returns true if a given value has a `then` method.\n * @param {any} value The value to check if is Thenable\n * @returns {is Thenable<T>} A type guard if the value is thenable\n */\nexport function isThenable<T>(value: any): value is Thenable<T> {\n\treturn value && typeof value.then === 'function';\n}\n\n/**\n * Task is an extension of Promise that supports cancellation and the Task#finally method.\n */\nexport default class Task<T> extends ExtensiblePromise<T> {\n\t/**\n\t * Return a resolved task.\n\t *\n\t * @param value The value to resolve with\n\t *\n\t * @return {Task}\n\t */\n\tpublic static resolve(): Task<void>;\n\tpublic static resolve<T>(value: (T | Thenable<T>)): Task<T>;\n\tpublic static resolve<T>(value?: any): Task<T> {\n\t\treturn new this<T>((resolve, reject) => resolve(value));\n\t}\n\n\t/**\n\t * A cancelation handler that will be called if this task is canceled.\n\t */\n\tprivate canceler: () => void;\n\n\t/**\n\t * Children of this Task (i.e., Tasks that were created from this Task with `then` or `catch`).\n\t */\n\tprivate children: Task<any>[];\n\n\t/**\n\t * The finally callback for this Task (if it was created by a call to `finally`).\n\t */\n\tprivate _finally: () => void | Thenable<any>;\n\n\t/**\n\t * The state of the task\n\t */\n\tprotected _state: State;\n\n\tget state() {\n\t\treturn this._state;\n\t}\n\n\t/**\n\t * @constructor\n\t *\n\t * Create a new task. Executor is run immediately. The canceler will be called when the task is canceled.\n\t *\n\t * @param executor Method that initiates some task\n\t * @param canceler Method to call when the task is canceled\n\t *\n\t */\n\tconstructor(executor: Executor<T>, canceler?: () => void) {\n\t\t// we have to initialize these to avoid a compiler error of using them before they are initialized\n\t\tlet superResolve: (value?: T | Thenable<T> | undefined) => void = () => {};\n\t\tlet superReject: (reason?: any) => void = () => {};\n\n\t\tsuper((resolve, reject) => {\n\t\t\tsuperResolve = resolve;\n\t\t\tsuperReject = reject;\n\t\t});\n\n\t\tthis._state = State.Pending;\n\n\t\tthis.children = [];\n\t\tthis.canceler = () => {\n\t\t\tif (canceler) {\n\t\t\t\tcanceler();\n\t\t\t}\n\t\t\tthis._cancel();\n\t\t};\n\n\t\t// Don't let the Task resolve if it's been canceled\n\t\ttry {\n\t\t\texecutor(\n\t\t\t\t(value) => {\n\t\t\t\t\tif (this._state === State.Canceled) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._state = State.Fulfilled;\n\t\t\t\t\tsuperResolve(value);\n\t\t\t\t},\n\t\t\t\t(reason) => {\n\t\t\t\t\tif (this._state === State.Canceled) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._state = State.Rejected;\n\t\t\t\t\tsuperReject(reason);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tcatch (reason) {\n\t\t\tthis._state = State.Rejected;\n\t\t\tsuperReject(reason);\n\t\t}\n\t}\n\n\t/**\n\t * Propagates cancellation down through a Task tree. The Task's state is immediately set to canceled. If a Thenable\n\t * finally task was passed in, it is resolved before calling this Task's finally callback; otherwise, this Task's\n\t * finally callback is immediately executed. `_cancel` is called for each child Task, passing in the value returned\n\t * by this Task's finally callback or a Promise chain that will eventually resolve to that value.\n\t */\n\tprivate _cancel(finallyTask?: void | Thenable<any>): void {\n\t\tthis._state = State.Canceled;\n\n\t\tconst runFinally = () => {\n\t\t\ttry {\n\t\t\t\treturn this._finally();\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\t// Any errors in a `finally` callback are completely ignored during cancelation\n\t\t\t}\n\t\t};\n\n\t\tif (this._finally) {\n\t\t\tif (isThenable(finallyTask)) {\n\t\t\t\tfinallyTask = (<Thenable<any>> finallyTask).then(runFinally, runFinally);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfinallyTask = runFinally();\n\t\t\t}\n\t\t}\n\n\t\tthis.children.forEach(function (child) {\n\t\t\tchild._cancel(finallyTask);\n\t\t});\n\t}\n\n\t/**\n\t * Immediately cancels this task if it has not already resolved. This Task and any descendants are synchronously set\n\t * to the Canceled state and any `finally` added downstream from the canceled Task are invoked.\n\t */\n\tcancel(): void {\n\t\tif (this._state === State.Pending) {\n\t\t\tthis.canceler();\n\t\t}\n\t}\n\n\t/**\n\t * Allows for cleanup actions to be performed after resolution of a Promise.\n\t */\n\tfinally(callback: () => void | Thenable<any>): Task<T> {\n\t\t// if this task is already canceled, call the task\n\t\tif (this._state === State.Canceled) {\n\t\t\treturn Task.resolve(callback());\n\t\t}\n\n\t\tconst task = this.then<any>(\n\t\t\tvalue => Task.resolve(callback()).then(() => value),\n\t\t\treason => Task.resolve(callback()).then(() => {\n\t\t\t\tthrow reason;\n\t\t\t})\n\t\t);\n\n\t\t// Keep a reference to the callback; it will be called if the Task is canceled\n\t\ttask._finally = callback;\n\t\treturn task;\n\t}\n\n\t/**\n\t * Adds a callback to be invoked when the Task resolves or is rejected.\n\t *\n\t * @param {Function} onFulfilled   A function to call to handle the resolution. The paramter to the function will be the resolved value, if any.\n\t * @param {Function} onRejected    A function to call to handle the error. The parameter to the function will be the caught error.\n\t *\n\t * @returns {ExtensiblePromise}\n\t */\n\tthen<U>(onFulfilled?: (value?: T) => U | Thenable<U>, onRejected?: (error: Error) => U | Thenable<U>): this {\n\t\t// FIXME\n\t\t// tslint:disable-next-line:no-var-keyword\n\t\tvar task = super.then<U>(\n\t\t\t// Don't call the onFulfilled or onRejected handlers if this Task is canceled\n\t\t\tfunction (value) {\n\t\t\t\tif (task._state === State.Canceled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (onFulfilled) {\n\t\t\t\t\treturn onFulfilled(value);\n\t\t\t\t}\n\t\t\t\treturn <any> value;\n\t\t\t},\n\t\t\tfunction (error) {\n\t\t\t\tif (task._state === State.Canceled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (onRejected) {\n\t\t\t\t\treturn onRejected(error);\n\t\t\t\t}\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\n\t\ttask.canceler = () => {\n\t\t\t// If task's parent (this) hasn't been resolved, cancel it; downward propagation will start at the first\n\t\t\t// unresolved parent\n\t\t\tif (this._state === State.Pending) {\n\t\t\t\tthis.cancel();\n\t\t\t}\n\t\t\t// If task's parent has been resolved, propagate cancelation to the task's descendants\n\t\t\telse {\n\t\t\t\ttask._cancel();\n\t\t\t}\n\t\t};\n\n\t\t// Keep track of child Tasks for propogating cancelation back down the chain\n\t\tthis.children.push(task);\n\n\t\treturn task;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/async/Task.ts","import { Iterable, forOf } from 'dojo-shim/iterator';\nimport Promise, { Executor } from 'dojo-shim/Promise';\nimport { Thenable } from 'dojo-shim/interfaces';\n\n/**\n * Take a list of values, and if any are ExtensiblePromise objects, insert the wrapped Promise in its place,\n * otherwise use the original object. We use this to help use the native Promise methods like `all` and `race`.\n *\n * @param iterable    The list of objects to iterate over\n * @returns {any[]}    The list of objects, as an array, with ExtensiblePromises being replaced by Promises.\n */\nfunction unwrapPromises(iterable: Iterable<any> | any[]): any[] {\n\tconst unwrapped: any[] = [];\n\tforOf(iterable, function (item: any): void {\n\t\tunwrapped.push(item instanceof ExtensiblePromise ? item._promise : item);\n\t});\n\treturn unwrapped;\n}\n\n/**\n * An extensible base to allow Promises to be extended in ES5. This class basically wraps a native Promise object,\n * giving an API like a native promise.\n */\nexport default class ExtensiblePromise<T> {\n\t/**\n\t * Return a rejected promise wrapped in an ExtensiblePromise\n\t *\n\t * @param {Error?} reason    The reason for the rejection\n\t * @returns {ExtensiblePromise}\n\t */\n\tstatic reject<T>(reason?: Error): any {\n\t\treturn new this<T>((resolve, reject) => reject(reason));\n\t}\n\n\t/**\n\t * Return a resolved promise wrapped in an ExtensiblePromise\n\t *\n\t * @param value The value to resolve the promise with\n\t *\n\t * @returns {ExtensiblePromise}\n\t */\n\tstatic resolve(): any;\n\tstatic resolve<T>(value: (T | Thenable<T>)): any;\n\tstatic resolve<T>(value?: any): any {\n\t\treturn new this<T>((resolve, reject) => resolve(value));\n\t}\n\n\t/**\n\t * Return a ExtensiblePromise that resolves when all of the passed in objects have resolved\n\t *\n\t * @param iterable    An iterable of values to resolve. These can be Promises, ExtensiblePromises, or other objects\n\t * @returns {ExtensiblePromise}\n\t */\n\tstatic all<F extends ExtensiblePromise<T>, T>(iterable: Iterable<(T | Thenable<T>)> | (T | Thenable<T>)[]): F {\n\t\treturn <F> new this((resolve, reject) => {\n\t\t\tPromise.all(unwrapPromises(iterable)).then(resolve, reject);\n\t\t});\n\t}\n\n\t/**\n\t * Return a ExtensiblePromise that resolves when one of the passed in objects have resolved\n\t *\n\t * @param iterable    An iterable of values to resolve. These can be Promises, ExtensiblePromises, or other objects\n\t * @returns {ExtensiblePromise}\n\t */\n\tstatic race<F extends ExtensiblePromise<T>, T>(iterable: Iterable<(T | Thenable<T>)> | (T | Thenable<T>)[]): F {\n\t\treturn <F> new this((resolve, reject) => {\n\t\t\tPromise.race(unwrapPromises(iterable)).then(resolve, reject);\n\t\t});\n\t}\n\n\t/**\n\t * @type {Promise}\n\t * The wrapped promise\n\t */\n\t_promise: Promise<T>;\n\n\t/**\n\t * Creates a new extended Promise.\n\t *\n\t * @constructor\n\t *\n\t * @param executor\n\t * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t * starting the asynchronous operation when it is invoked.\n\t *\n\t * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t * successfully, or the `reject` function when the operation fails.\n\t */\n\tconstructor(executor: Executor<T>) {\n\t\tthis._promise = new Promise<T>(executor);\n\t}\n\n\t/**\n\t * Adds a callback to be invoked when the wrapped Promise is rejected.\n\t *\n\t * @param {Function} onRejected A function to call to handle the error. The parameter to the function will be the caught error.\n\t *\n\t * @returns {ExtensiblePromise}\n\t */\n\tcatch<U>(onRejected: (reason: Error) => (U | Thenable<U>)): this;\n\tcatch<U>(onRejected: (reason: Error) => void): this {\n\t\treturn this.then<U>(undefined, onRejected);\n\t}\n\n\t/**\n\t * Adds a callback to be invoked when the wrapped Promise resolves or is rejected.\n\t *\n\t * @param {Function} onFulfilled   A function to call to handle the resolution. The paramter to the function will be the resolved value, if any.\n\t * @param {Function} onRejected    A function to call to handle the error. The parameter to the function will be the caught error.\n\t *\n\t * @returns {ExtensiblePromise}\n\t */\n\tthen<U>(onFulfilled?: ((value: T) => (U | Thenable<U> | undefined)) | undefined, onRejected?: (reason: Error) => void): this;\n\tthen<U>(onFulfilled?: ((value: T) => (U | Thenable<U> | undefined)) | undefined, onRejected?: (reason: Error) => (U | Thenable<U>)): this {\n\t\tlet e: Executor<U> = (resolve, reject) => {\n\t\t\tfunction handler(rejected: boolean, valueOrError: T | U | Error) {\n\t\t\t\tconst callback: ((value: T | U | Error) => (U | Thenable<U> | void)) | undefined = rejected ? onRejected : onFulfilled;\n\n\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresolve(<U> callback(<T> valueOrError));\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (rejected) {\n\t\t\t\t\treject(valueOrError);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresolve(<U> valueOrError);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._promise.then(handler.bind(null, false), handler.bind(null, true));\n\t\t};\n\n\t\treturn new (<{ new(executor: Executor<U>): any }> this.constructor)(e);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/async/ExtensiblePromise.ts","import { Handle } from 'dojo-core/interfaces';\nimport { deepAssign } from 'dojo-core/lang';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { Observable, Subscription } from './interfaces';\nimport createEvented, { Evented, EventedOptions, EventedListener, TargettedEventObject } from './createEvented';\nimport { ComposeFactory } from '../compose';\nimport createCancelableEvent, { CancelableEvent } from './../util/createCancelableEvent';\n\n/**\n * Base State interface\n */\nexport interface State {\n\t[prop: string]: any;\n}\n\nexport interface ObservableState<S extends State> {\n\t/**\n\t * A method that allows the return of an `Observable` interface for a particular `id`\n\t * @param id The ID to observe\n\t */\n\tobserve(id: string): Observable<S>;\n\n\t/**\n\t * A method that allows the `Stateful` to provide a change to its state, instead of\n\t * changing its state directly.\n\t * @param partial The partial state to be *patched*\n\t * @param options A map of options, which includes the `id` being observed\n\t */\n\tpatch(partial: any, options?: { id?: string }): Promise<S>;\n}\n\nexport interface StatefulOptions<S extends State> extends EventedOptions {\n\t/**\n\t * State that should be set during creation\n\t */\n\tstate?: S;\n\n\t/**\n\t * An ID to be used in conjunction with the `stateFrom` option to observe the state\n\t */\n\tid?: string;\n\n\t/**\n\t * An object that the Stateful should observe its state from, which supplies an `observe` and\n\t * `patch` methods to be able to manage its state\n\t */\n\tstateFrom?: ObservableState<S>;\n}\n\nexport interface StateChangeEvent<S extends State> extends TargettedEventObject {\n\t/**\n\t * The event type\n\t */\n\ttype: string;\n\n\t/**\n\t * The state of the target\n\t */\n\tstate: S;\n\n\t/**\n\t * A Stateful instance\n\t */\n\ttarget: Stateful<S>;\n}\n\nexport interface StatefulMixin<S extends State>{\n\t/**\n\t * A read only view of the state\n\t */\n\treadonly state: S;\n\n\t/**\n\t * Set the state on the instance.\n\t *\n\t * Set state can take a partial value, therefore if a key is ommitted from the value, it will not be changed.\n\t * To *clear* a value, set a key to `undefined`\n\t *\n\t * @param value The state (potentially partial) to be set\n\t */\n\tsetState(value: S): void;\n\n\t/**\n\t * Observe (and update) the state from an Observable\n\t * @param id The ID to be observed on the Observable\n\t * @param observable An object which provides a `observe` and `patch` methods which allow `Stateful` to be able to\n\t *                   manage its state.\n\t */\n\tobserveState(id: string, observable: ObservableState<S>): Handle;\n}\n\nexport type Stateful<S extends State> = StatefulMixin<S> & Evented & {\n\t/**\n\t * Add a listener for a `statecomplete` event, which occures when state is observed\n\t * and is completed.  If the event is not cancelled, the instance will continue and\n\t * call `target.destroy()`.\n\t *\n\t * @param type The event type to listen for\n\t * @param listener The listener that will be called when the event occurs\n\t */\n\ton(type: 'statecomplete', listener: EventedListener<CancelableEvent<'statecomplete', Stateful<S>>>): Handle;\n\n\t/**\n\t * Add a listener for a `statechange` event, which occures whenever the state changes on the instance.\n\t *\n\t * @param type The event type to listen for\n\t * @param listener The listener that will be called when the event occurs\n\t */\n\ton(type: 'statechange', listener: EventedListener<StateChangeEvent<S>>): Handle;\n\ton(type: string, listener: EventedListener<TargettedEventObject>): Handle;\n}\n\nexport interface StatefulFactory extends ComposeFactory<Stateful<State>, StatefulOptions<State>> {\n\t<S extends State>(options?: StatefulOptions<S>): Stateful<S>;\n}\n\n/**\n * Internal interface which contains references to an observed state\n */\ninterface ObservedState {\n\tid: string;\n\tobservable: ObservableState<State>;\n\tsubscription: Subscription;\n\thandle: Handle;\n}\n\n/**\n * A weak map of stateful instances to their obseved state references\n */\nconst observedStateMap = new WeakMap<Stateful<State>, ObservedState>();\n\n/**\n * Internal function to unobserve the state of a `Stateful`.  It emits a `statecomplete` event which can be\n * cancelled.\n *\n * @param stateful The `Stateful` object to unobserve\n */\nfunction unobserve(stateful: Stateful<State>): void {\n\tconst observedState = observedStateMap.get(stateful);\n\tif (observedState) {\n\t\tobservedState.handle.destroy();\n\t\tconst statecomplete = createCancelableEvent({\n\t\t\ttype: 'statecomplete',\n\t\t\ttarget: stateful\n\t\t});\n\t\tstateful.emit(statecomplete);\n\t\tif (!statecomplete.defaultPrevented) {\n\t\t\tstateful.destroy();\n\t\t}\n\t}\n}\n\n/**\n * Internal function that actually applies the state to the Stateful's state and\n * emits the `statechange` event.\n *\n * @param stateful The Stateful instance\n * @param state The State to be set\n */\nfunction setStatefulState(stateful: Stateful<State>, state: State): void {\n\tstate = deepAssign(stateWeakMap.get(stateful), state);\n\tstateful.emit({\n\t\ttype: 'statechange',\n\t\tstate,\n\t\ttarget: stateful\n\t});\n}\n\n/**\n * A weak map that contains the stateful's state\n */\nconst stateWeakMap = new WeakMap<Stateful<State>, State>();\n\n/**\n * Create an instance of a stateful object\n */\nconst createStateful: StatefulFactory = createEvented\n\t.mixin({\n\t\tclassName: 'Stateful',\n\t\tmixin: {\n\t\t\tget state(this: Stateful<State>): State {\n\t\t\t\treturn stateWeakMap.get(this);\n\t\t\t},\n\n\t\t\tsetState(this: Stateful<State>, value: State): void {\n\t\t\t\tconst observedState = observedStateMap.get(this);\n\t\t\t\tif (observedState) {\n\t\t\t\t\tobservedState.observable.patch(value, { id: observedState.id });\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsetStatefulState(this, value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tobserveState(this: Stateful<State>, id: string, observable: ObservableState<State>): Handle {\n\t\t\t\tlet observedState = observedStateMap.get(this);\n\t\t\t\tif (observedState) {\n\t\t\t\t\tif (observedState.id === id && observedState.observable === observable) {\n\t\t\t\t\t\treturn observedState.handle;\n\t\t\t\t\t}\n\t\t\t\t\tthrow new Error(`Already observing state with ID '${observedState.id}'`);\n\t\t\t\t}\n\t\t\t\tconst stateful = this;\n\t\t\t\tobservedState = {\n\t\t\t\t\tid,\n\t\t\t\t\tobservable,\n\t\t\t\t\tsubscription: observable\n\t\t\t\t\t\t.observe(id)\n\t\t\t\t\t\t.subscribe(\n\t\t\t\t\t\t\t(item) => setStatefulState(stateful, item), /* next handler */\n\t\t\t\t\t\t\t(err) => {\n\t\t\t\t\t\t\t\t/* TODO: Should we emit an error, instead of throwing? */\n\t\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t\t}, /* error handler */\n\t\t\t\t\t\t\t() => unobserve(stateful)), /* completed handler */\n\t\t\t\t\thandle: {\n\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\tconst observedState = observedStateMap.get(stateful);\n\t\t\t\t\t\t\tif (observedState) {\n\t\t\t\t\t\t\t\tobservedState.subscription.unsubscribe();\n\t\t\t\t\t\t\t\tobservedStateMap.delete(stateful);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobservedStateMap.set(stateful, observedState);\n\t\t\t\treturn observedState.handle;\n\t\t\t}\n\t\t},\n\t\tinitialize(instance: StatefulMixin<State> & Evented, options: StatefulOptions<State>) {\n\t\t\t/* Using Object.create(null) will improve performance when looking up properties in state */\n\t\t\tstateWeakMap.set(instance, Object.create(null));\n\t\t\tinstance.own({\n\t\t\t\tdestroy() {\n\t\t\t\t\tstateWeakMap.delete(instance);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (options) {\n\t\t\t\tconst { id, stateFrom, state } = options;\n\t\t\t\tif (typeof id !== 'undefined' && stateFrom) {\n\t\t\t\t\tinstance.own(instance.observeState(id, stateFrom));\n\t\t\t\t}\n\t\t\t\telse if (stateFrom) {\n\t\t\t\t\tthrow new TypeError('When \"stateFrom\" option is supplied, factory also requires \"id\" option.');\n\t\t\t\t}\n\t\t\t\tif (state) {\n\t\t\t\t\tinstance.setState(state);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\nexport default createStateful;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/mixins/createStateful.ts","import { on } from 'dojo-core/aspect';\nimport { EventObject, Handle } from 'dojo-core/interfaces';\nimport Map from 'dojo-shim/Map';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport compose, { ComposeFactory } from '../compose';\nimport createDestroyable, { Destroyable } from './createDestroyable';\n\nexport interface TargettedEventObject extends EventObject {\n\t/**\n\t * The target of the event\n\t */\n\ttarget: any;\n}\n\nexport interface ActionableOptions<E extends TargettedEventObject> {\n\t[ option: string ]: any;\n\t/**\n\t * An event object\n\t */\n\tevent?: E;\n}\n\nexport interface Actionable<E extends TargettedEventObject> {\n\t/**\n\t * The *do* method of an Action, which can take a `options` property of an `event`\n\t *\n\t * @param options Options passed which includes an `event` object\n\t */\n\tdo(options?: ActionableOptions<E>): any;\n}\n\nexport interface EventedCallback<E extends EventObject> {\n\t/**\n\t * A callback that takes an `event` argument\n\t *\n\t * @param event The event object\n\t */\n\t(event: E): boolean | void;\n}\n\n/**\n * Either an `EventedCallback` or something that is `Actionable`\n */\nexport type EventedListener<E extends TargettedEventObject> = EventedCallback<E> | Actionable<E>;\n\n/**\n * Either a single `EventedListener` or an array\n */\nexport type EventedListenerOrArray<E extends TargettedEventObject> = EventedListener<E> | EventedListener<E>[];\n\n/**\n * A map of listeners where the key is the event `type`\n */\nexport interface EventedListenersMap {\n\t[type: string]: EventedListenerOrArray<TargettedEventObject>;\n}\n\n/**\n * A map of callbacks where the key is the event `type`\n */\ntype EventedCallbackMap = Map<string, EventedCallback<EventObject>>;\n\nexport interface EventedOptions {\n\t/**\n\t * Any listeners that should be attached during construction\n\t */\n\tlisteners?: EventedListenersMap;\n}\n\nexport interface EventedMixin {\n\t/**\n\t * Emit an event.\n\t *\n\t * The event is determined by the `event.type`, if there are no listeners for an event type,\n\t * `emit` is essentially a noop.\n\t *\n\t * @param event The `EventObject` to be delivered to listeners based on `event.type`\n\t */\n\temit<E extends EventObject>(event: E): void;\n\n\t/**\n\t * Attach a `listener` to a particular event `type`.\n\t *\n\t * @param type The event to attach the listener to\n\t * @param listener Either a function which takes an emitted `event` object, something that is `Actionable`,\n\t *                 or an array of of such listeners.\n\t * @returns A handle which can be used to remove the listener\n\t */\n\ton(type: string, listener: EventedListenerOrArray<TargettedEventObject>): Handle;\n\n\t/**\n\t * Attach a `listener` to a particular event `type`.\n\t *\n\t * @param type The event to attach the listener to\n\t * @param listeners An object which contains key value pairs of event types and listeners.\n\t */\n\ton(listeners: EventedListenersMap): Handle;\n}\n\nexport type Evented = EventedMixin & Destroyable;\n\nexport interface EventedFactory extends ComposeFactory<Evented, EventedOptions> { }\n\n/**\n * A weak map that contains a map of the listeners for an `Evented`\n */\nconst listenersMap = new WeakMap<Evented, EventedCallbackMap>();\n\n/**\n * A guard which determines if the value is `Actionable`\n *\n * @param value The value to guard against\n */\nfunction isActionable(value: any): value is Actionable<any> {\n\treturn Boolean(value && typeof value.do === 'function');\n}\n\n/**\n * An internal function that always returns an EventedCallback\n *\n * @param listener Either a `EventedCallback` or an `Actionable`\n */\nexport function resolveListener<E extends TargettedEventObject>(listener: EventedListener<E>): EventedCallback<E> {\n\treturn isActionable(listener) ? (event: E) => listener.do({ event }) : listener;\n}\n\n/**\n * Internal function to convert an array of handles to a single handle\n *\n * @param handles The array of handles to convert into a signle handle\n * @return The single handle\n */\nfunction handlesArraytoHandle(handles: Handle[]): Handle {\n\treturn {\n\t\tdestroy() {\n\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t}\n\t};\n}\n\n/**\n * Creates a new instance of an `Evented`\n */\nconst createEvented: EventedFactory = compose<EventedMixin, EventedOptions>({\n\t\temit<E extends EventObject>(this: Evented, event: E): void {\n\t\t\tconst method = listenersMap.get(this).get(event.type);\n\t\t\tif (method) {\n\t\t\t\tmethod.call(this, event);\n\t\t\t}\n\t\t},\n\n\t\ton(this: Evented, ...args: any[]): Handle {\n\t\t\tconst listenerMap = listenersMap.get(this);\n\t\t\tif (args.length === 2) { /* overload: on(type, listener) */\n\t\t\t\tconst [ type, listeners ] = <[ string, EventedListenerOrArray<TargettedEventObject>]> args;\n\t\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\t\tconst handles = listeners.map((listener) => on(listenerMap, type, resolveListener(listener)));\n\t\t\t\t\treturn handlesArraytoHandle(handles);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn on(listenerMap, type, resolveListener(listeners));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (args.length === 1) { /* overload: on(listeners) */\n\t\t\t\tconst [ listenerMapArg ] = <[EventedListenersMap]> args;\n\t\t\t\tconst handles = Object.keys(listenerMapArg).map((type) => this.on(type, listenerMapArg[type]));\n\t\t\t\treturn handlesArraytoHandle(handles);\n\t\t\t}\n\t\t\telse { /* unexpected signature */\n\t\t\t\tthrow new TypeError('Invalid arguments');\n\t\t\t}\n\t\t}\n\t})\n\t.mixin({\n\t\tclassName: 'Evented',\n\t\tmixin: createDestroyable,\n\t\tinitialize(instance, options) {\n\t\t\t/* Initialise listener map */\n\t\t\tlistenersMap.set(instance, new Map<string, EventedCallback<EventObject>>());\n\n\t\t\tif (options && options.listeners) {\n\t\t\t\tinstance.own(instance.on(options.listeners));\n\t\t\t}\n\t\t}\n\t});\n\nexport default createEvented;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-compose/mixins/createEvented.ts","import createRoute from 'dojo-routing/createRoute';\nimport createRouter from 'dojo-routing/createRouter';\nimport createHashHistory from 'dojo-routing/history/createHashHistory';\nimport { Request, Context, Parameters } from 'dojo-routing/interfaces';\n\nexport type CardDetailsRouteParameters = Parameters & {\n\tid: string;\n}\n\nimport {\n\tgotoCardDetails as gotoCardDetailsAction,\n\tgotoCards as gotoCardsAction,\n\tgotoHome as gotoHomeAction,\n\tgotoAbout as gotoAboutAction,\n\tgotoGameplay as gotoGameplayAction\n} from './actions/routeActions';\n\nconst cardDetailRoute = createRoute({\n\tpath: 'cards/{id}',\n\texec (request: Request<Context, CardDetailsRouteParameters>) {\n\t\tconst { id } = request.params;\n\t\treturn gotoCardDetailsAction.do({ id });\n\t}\n});\n\nconst cardsRoute = createRoute({\n\tpath: 'cards',\n\texec (request: any) {\n\t\treturn gotoCardsAction.do();\n\t}\n});\n\nconst homeRoute = createRoute({\n\tpath: '',\n\texec (request: any) {\n\t\treturn gotoHomeAction.do();\n\t}\n});\n\nconst aboutRoute = createRoute({\n\tpath: 'about',\n\texec (request: any) {\n\t\treturn gotoAboutAction.do();\n\t}\n});\n\nconst gameplayRoute = createRoute({\n\tpath: 'gameplay',\n\texec (request: any) {\n\t\treturn gotoGameplayAction.do();\n\t}\n});\n\nexport const history = createHashHistory();\n\nconst router = createRouter({ history });\n\nexport default router;\n\nrouter.append([\n\tcardsRoute,\n\tcardDetailRoute,\n\thomeRoute,\n\taboutRoute,\n\tgameplayRoute\n]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes.ts","import createAction from 'dojo-actions/createAction';\nimport widgetStore from '../stores/widgetStore';\nimport { CardDetailsRouteParameters } from '../routes';\nimport cardStore, { pickRandomCards } from '../stores/cardStore';\n\nexport const gotoCardDetails = createAction({\n\tdo({ id }: CardDetailsRouteParameters) {\n\t\treturn cardStore.get(id).then(function (cardDescription) {\n\t\t\treturn pickRandomCards(2, [ id ]).then((seenWith) => {\n\t\t\t\treturn Promise.all([\n\t\t\t\t\twidgetStore.patch({ id: 'cardDetails', cardDescription, seenWith }),\n\t\t\t\t\twidgetStore.patch({ id: 'container', children: [ 'cardDetails' ] })\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport const gotoCards = createAction({\n\tdo() {\n\t\treturn widgetStore.patch({ id: 'container', children: [ 'cards' ] });\n\t}\n});\n\nexport const gotoHome = createAction({\n\tdo() {\n\t\treturn widgetStore.patch({ id: 'container', children: [ 'home' ] });\n\t}\n});\n\nexport const gotoAbout = createAction({\n\tdo() {\n\t\treturn widgetStore.patch({ id: 'container', children: [ 'about' ] });\n\t}\n});\n\nexport const gotoGameplay = createAction({\n\tdo() {\n\t\treturn widgetStore.patch({ id: 'container', children: [ 'gameplay' ] });\n\t}\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/routeActions.ts","import compose, { ComposeFactory } from 'dojo-compose/compose';\nimport createEvented from 'dojo-compose/mixins/createEvented';\nimport global from 'dojo-core/global';\nimport on from 'dojo-core/on';\nimport WeakMap from 'dojo-shim/WeakMap';\n\nimport { History, HistoryOptions } from './interfaces';\n\n/**\n * A browser-based history manager that uses the location hash to store the current value.\n */\nexport type HashHistory = History;\n\n/**\n * Options for creating HashHistory instances.\n */\nexport interface HashHistoryOptions extends HistoryOptions {\n\t/**\n\t * A DOM window object. HashHistory uses the `location` property and\n\t * listens to `hashchange` events. The current value is initialized to the\n\t * initial hash.\n\t */\n\twindow: Window;\n}\n\nexport interface HashHistoryFactory extends ComposeFactory<HashHistory, HashHistoryOptions> {\n\t/**\n\t * Create a new HashHistory instance.\n\t * @param options Options to use during creation. If not specified the instance assumes\n\t *   the global object is a DOM window.\n\t */\n\t(options?: HashHistoryOptions): HashHistory;\n}\n\ninterface PrivateState {\n\tcurrent: string;\n\tbrowserLocation: Location;\n}\n\nconst privateStateMap = new WeakMap<HashHistory, PrivateState>();\n\nconst createHashHistory: HashHistoryFactory = compose.mixin(createEvented, {\n\tmixin: {\n\t\tget current(this: HashHistory) {\n\t\t\treturn privateStateMap.get(this).current;\n\t\t},\n\n\t\tprefix(path: string) {\n\t\t\treturn `#${path}`;\n\t\t},\n\n\t\tset(this: HashHistory, path: string) {\n\t\t\tconst privateState = privateStateMap.get(this);\n\t\t\tif (privateState.current === path) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprivateState.current = path;\n\t\t\tprivateState.browserLocation.hash = this.prefix(path);\n\t\t\tthis.emit({\n\t\t\t\ttype: 'change',\n\t\t\t\tvalue: path\n\t\t\t});\n\t\t},\n\n\t\treplace(this: HashHistory, path: string) {\n\t\t\tconst privateState = privateStateMap.get(this);\n\t\t\tif (privateState.current === path) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tprivateState.current = path;\n\n\t\t\tconst { pathname, search } = privateState.browserLocation;\n\t\t\tprivateState.browserLocation.replace(pathname + search + this.prefix(path));\n\n\t\t\tthis.emit({\n\t\t\t\ttype: 'change',\n\t\t\t\tvalue: path\n\t\t\t});\n\t\t}\n\t},\n\tinitialize(instance: HashHistory, { window }: HashHistoryOptions = { window: global }) {\n\t\tconst { location: browserLocation } = window;\n\n\t\tconst privateState: PrivateState = {\n\t\t\tcurrent: browserLocation.hash.slice(1),\n\t\t\tbrowserLocation\n\t\t};\n\t\tprivateStateMap.set(instance, privateState);\n\n\t\tinstance.own(on(window, 'hashchange', () => {\n\t\t\tconst path = browserLocation.hash.slice(1);\n\n\t\t\t// Ignore hashchange for the current path. Guards against browsers firing hashchange when the history\n\t\t\t// manager sets the hash.\n\t\t\tif (path !== privateState.current) {\n\t\t\t\tprivateState.current = path;\n\t\t\t\tinstance.emit({\n\t\t\t\t\ttype: 'change',\n\t\t\t\t\tvalue: path\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t}\n});\n\nexport default createHashHistory;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-routing/history/createHashHistory.ts","import { Handle, EventObject } from 'dojo-interfaces/core';\nimport { createHandle, createCompositeHandle } from './lang';\nimport Evented from './Evented';\n\nexport interface EventCallback {\n\t(event: EventObject): void;\n}\n\nexport interface EventEmitter {\n\ton(event: string, listener: EventCallback): EventEmitter;\n\tremoveListener(event: string, listener: EventCallback): EventEmitter;\n}\n\ninterface DOMEventObject extends EventObject {\n\tbubbles: boolean;\n\tcancelable: boolean;\n}\n\n/**\n * Provides a normalized mechanism for dispatching events for event emitters, Evented objects, or DOM nodes.\n * @param target The target to emit the event from\n * @param event The event object to emit\n * @return Boolean indicating if preventDefault was called on the event object (only relevant for DOM events;\n *     always false for other event emitters)\n */\nexport function emit<T extends EventObject>(target: Evented | EventTarget | EventEmitter, event: T | EventObject): boolean;\nexport function emit<T extends EventObject>(target: any, event: T | EventObject): boolean {\n\tif (\n\t\ttarget.dispatchEvent && /* includes window and document */\n\t\t\t((target.ownerDocument && target.ownerDocument.createEvent) || /* matches nodes */\n\t\t\t(target.document && target.document.createEvent) || /* matches window */\n\t\t\ttarget.createEvent) /* matches document */\n\t) {\n\t\tconst nativeEvent = (target.ownerDocument || target.document || target).createEvent('HTMLEvents');\n\t\tnativeEvent.initEvent(\n\t\t\tevent.type,\n\t\t\tBoolean((<DOMEventObject> event).bubbles),\n\t\t\tBoolean((<DOMEventObject> event).cancelable)\n\t\t);\n\n\t\tfor (let key in event) {\n\t\t\tif (!(key in nativeEvent)) {\n\t\t\t\tnativeEvent[key] = (<any> event)[key];\n\t\t\t}\n\t\t}\n\n\t\treturn target.dispatchEvent(nativeEvent);\n\t}\n\n\tif (target.emit) {\n\t\tif (target.removeListener) {\n\t\t\t// Node.js EventEmitter\n\t\t\ttarget.emit(event.type, event);\n\t\t\treturn false;\n\t\t}\n\t\telse if (target.on) {\n\t\t\t// Dojo Evented or similar\n\t\t\ttarget.emit(event);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tthrow new Error('Target must be an event emitter');\n}\n\n/**\n * Provides a normalized mechanism for listening to events from event emitters, Evented objects, or DOM nodes.\n * @param target Target to listen for event on\n * @param type Event event type(s) to listen for; may a string or an array of strings\n * @param listener Callback to handle the event when it fires\n * @param capture Whether the listener should be registered in the capture phase (DOM events only)\n * @return A handle which will remove the listener when destroy is called\n */\nexport default function on(target: EventTarget, type: string | string[], listener: EventCallback, capture?: boolean): Handle;\nexport default function on(target: EventEmitter | Evented, type: string | string[], listener: EventCallback): Handle;\nexport default function on(target: any, type: any, listener: any, capture?: boolean): Handle {\n\tif (Array.isArray(type)) {\n\t\tlet handles: Handle[] = type.map(function (type: string): Handle {\n\t\t\treturn on(target, type, listener, capture);\n\t\t});\n\n\t\treturn createCompositeHandle(...handles);\n\t}\n\n\tconst callback = function (this: any) {\n\t\tlistener.apply(this, arguments);\n\t};\n\n\t// DOM EventTarget\n\tif (target.addEventListener && target.removeEventListener) {\n\t\ttarget.addEventListener(type, callback, capture);\n\t\treturn createHandle(function () {\n\t\t\ttarget.removeEventListener(type, callback, capture);\n\t\t});\n\t}\n\n\tif (target.on) {\n\t\t// EventEmitter\n\t\tif (target.removeListener) {\n\t\t\ttarget.on(type, callback);\n\t\t\treturn createHandle(function () {\n\t\t\t\ttarget.removeListener(type, callback);\n\t\t\t});\n\t\t}\n\t\t// Evented\n\t\telse if (target.emit) {\n\t\t\treturn target.on(type, listener);\n\t\t}\n\t}\n\n\tthrow new TypeError('Unknown event emitter object');\n}\n\n/**\n * Provides a mechanism for listening to the next occurrence of an event from event\n * emitters, Evented objects, or DOM nodes.\n * @param target Target to listen for event on\n * @param type Event event type(s) to listen for; may be a string or an array of strings\n * @param listener Callback to handle the event when it fires\n * @param capture Whether the listener should be registered in the capture phase (DOM events only)\n * @return A handle which will remove the listener when destroy is called\n */\nexport function once(target: EventTarget, type: string | string[], listener: EventCallback, capture?: boolean): Handle;\nexport function once(target: EventEmitter | Evented, type: string | string[], listener: EventCallback): Handle;\nexport function once(target: any, type: any, listener: any, capture?: boolean): Handle {\n\t// FIXME\n\t// tslint:disable-next-line:no-var-keyword\n\tvar handle = on(target, type, function (this: any) {\n\t\thandle.destroy();\n\t\treturn listener.apply(this, arguments);\n\t}, capture);\n\n\treturn handle;\n}\n\nexport interface PausableHandle extends Handle {\n\tpause(): void;\n\tresume(): void;\n}\n\n/**\n * Provides a mechanism for creating pausable listeners for events from event emitters, Evented objects, or DOM nodes.\n * @param target Target to listen for event on\n * @param type Event event type(s) to listen for; may a string or an array of strings\n * @param listener Callback to handle the event when it fires\n * @param capture Whether the listener should be registered in the capture phase (DOM events only)\n * @return A handle with additional pause and resume methods; the listener will never fire when paused\n */\nexport function pausable(target: EventTarget, type: string | string[], listener: EventCallback, capture?: boolean): PausableHandle;\nexport function pausable(target: EventEmitter | Evented, type: string | string[], listener: EventCallback): PausableHandle;\nexport function pausable(target: any, type: any, listener: any, capture?: boolean): PausableHandle {\n\tlet paused: boolean;\n\n\tconst handle = <PausableHandle> on(target, type, function (this: any) {\n\t\tif (!paused) {\n\t\t\treturn listener.apply(this, arguments);\n\t\t}\n\t}, capture);\n\n\thandle.pause = function () {\n\t\tpaused = true;\n\t};\n\n\thandle.resume = function () {\n\t\tpaused = false;\n\t};\n\n\treturn handle;\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/on.ts","import compose, { ComposeFactory } from 'dojo-compose/compose';\nimport createEvented, {\n\tEvented,\n\tEventedOptions,\n\tEventedListener,\n\tTargettedEventObject\n} from 'dojo-compose/mixins/createEvented';\nimport { Handle, Hash } from 'dojo-core/interfaces';\nimport Task from 'dojo-core/async/Task';\nimport { pausable, PausableHandle } from 'dojo-core/on';\nimport UrlSearchParams from 'dojo-core/UrlSearchParams';\nimport { includes } from 'dojo-shim/array';\nimport { Thenable } from 'dojo-shim/interfaces';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\n\nimport { Route, SearchParams, Selection } from './createRoute';\nimport { Context, Parameters, Request } from './interfaces';\nimport { History, HistoryChangeEvent } from './history/interfaces';\nimport { isNamedSegment, parse as parsePath } from './lib/path';\n\n/**\n * An object to resume or cancel router dispatch.\n */\nexport interface DispatchDeferral {\n\t/**\n\t * Call to prevent a path from being dispatched.\n\t */\n\tcancel(): void;\n\n\t/**\n\t * Call to resume a path being dispatched.\n\t */\n\tresume(): void;\n}\n\n/**\n * Event object that is emitted for the 'navstart' event.\n */\nexport interface NavigationStartEvent extends TargettedEventObject {\n\t/**\n\t * The path that has been navigated to.\n\t */\n\tpath: string;\n\n\t/**\n\t * Call to prevent the path to be dispatched.\n\t */\n\tcancel(): void;\n\n\t/**\n\t * Call to defer dispatching of the path\n\t * @return an object which allows the caller to resume or cancel dispatch.\n\t */\n\tdefer(): DispatchDeferral;\n\n\t/**\n\t * The router that emitted this event.\n\t */\n\ttarget: Router<Context>;\n}\n\n/**\n * Event object that is emitted for the 'error' event.\n */\nexport interface ErrorEvent<C extends Context> extends TargettedEventObject {\n\t/**\n\t * The context that was being dispatched when the error occurred.\n\t */\n\tcontext: C;\n\n\t/**\n\t * The error.\n\t */\n\terror: any;\n\n\t/**\n\t * The path that was being dispatched when the error occurred.\n\t */\n\tpath: string;\n\n\t/**\n\t * The router that emitted this event.\n\t */\n\ttarget: Router<C>;\n}\n\n/**\n * Describes the result of a dispatch.\n */\nexport interface DispatchResult {\n\t/**\n\t * Whether a route requested a redirect to a different path.\n\t */\n\tredirect?: string;\n\n\t/**\n\t * False if dispatch was canceled (via the navstart event) or if no routes could be selected. True otherwise.\n\t */\n\tsuccess: boolean;\n}\n\nexport type LinkParams = Hash<string | string[] | undefined>;\n\n/**\n * A router mixin.\n */\nexport interface RouterMixin<C extends Context> {\n\t/**\n\t * Append one or more routes.\n\t *\n\t * A route can only appended to another route, or a router itself, once.\n\t *\n\t * @param routes A single route or an array containing 0 or more routes.\n\t */\n\tappend(add: Route<Context, Parameters> | Route<Context, Parameters>[]): void;\n\n\t/**\n\t * Select and execute routes for a given path.\n\t * @param context A context object that is provided when executing selected routes.\n\t * @param path The path.\n\t */\n\tdispatch(context: C, path: string): Task<DispatchResult>;\n\n\t/**\n\t * Generate a link for the route.\n\t *\n\t * Route hierarchies may require parameters to be present. Parameters are automatically derived from the currently\n\t * selected routes. Errors are thrown if parameters are missing or if the route is not in this router's hierarchy.\n\t *\n\t * @\n\t */\n\tlink(route: Route<Context, Parameters>, params?: LinkParams): string;\n\n\t/**\n\t * Start the router.\n\t *\n\t * Observes the history manager provided when the router was created for change events and dispatches routes in\n\t * response. Noop if no history manager was provided.\n\t *\n\t * @param options An optional options object, can be used to prevent the router from immediately dispatching.\n\t */\n\tstart(options?: StartOptions): PausableHandle;\n}\n\nexport interface RouterOverrides<C extends Context> {\n\t/**\n\t * Event emitted when dispatch is called, but before routes are selected.\n\t */\n\ton(type: 'navstart', listener: EventedListener<NavigationStartEvent>): Handle;\n\n\t/**\n\t * Event emitted when errors occur during dispatch.\n\t *\n\t * Certain errors may reject the task returned when dispatching, but this task is not always accessible and may\n\t * hide errors if it's canceled.\n\t */\n\ton(type: 'error', listener: EventedListener<ErrorEvent<C>>): Handle;\n\n\ton(type: string, listener: EventedListener<TargettedEventObject>): Handle;\n}\n\nexport type Router<C extends Context> = Evented & RouterMixin<C> & RouterOverrides<C>;\n\n/**\n * The options for the router.\n */\nexport interface RouterOptions<C extends Context> extends EventedOptions {\n\t/**\n\t * A Context object to be used for all requests, or a function that provides such an object, called for each\n\t * dispatch.\n\t */\n\tcontext?: C | (() => C);\n\n\t/**\n\t * A handler called when no routes match the dispatch path.\n\t * @param request An object whose `context` property contains the dispatch context. No extracted parameters\n\t *   are available.\n\t */\n\tfallback?: (request: Request<C, Parameters>) => void | Thenable<any>;\n\n\t/**\n\t * The history manager. Routes will be dispatched in response to change events emitted by the manager.\n\t */\n\thistory?: History;\n}\n\n/**\n * The options for the router's start() method.\n */\nexport interface StartOptions {\n\t/**\n\t * Whether to immediately dispatch with the history's current value.\n\t */\n\tdispatchCurrent: boolean;\n}\n\nexport interface RouterFactory<C extends Context> extends ComposeFactory<Router<C>, RouterOptions<C>> {\n\t/**\n\t * Create a new instance of a Router.\n\t * @param options Options to use during creation.\n\t */\n\t(options?: RouterOptions<Context>): Router<Context>;\n\t<C>(options?: RouterOptions<C>): Router<C>;\n}\n\nconst parentMap = new WeakMap<Route<Context, Parameters>, Router<Context>>();\nexport function hasBeenAppended(route: Route<Context, Parameters>): boolean {\n\treturn parentMap.has(route) || route.parent !== undefined;\n}\n\ninterface PrivateState {\n\tcontextFactory: () => Context;\n\tcurrentSelection: Selection[];\n\tdispatchFromStart: boolean;\n\tfallback?: (request: Request<Context, Parameters>) => void | Thenable<any>;\n\thistory?: History;\n\troutes: Route<Context, Parameters>[];\n\tstarted?: boolean;\n}\n\nconst privateStateMap = new WeakMap<Router<Context>, PrivateState>();\n\n// istanbul ignore next\nconst noop = () => {};\n\nfunction createDeferral() {\n\t// Use noop since TypeScript doesn't know we're assigning cancel and resume in the promise executor.\n\tlet cancel: () => void = noop;\n\tlet resume: () => void = noop;\n\tconst promise = new Promise<void>((resolve, reject) => {\n\t\tcancel = reject;\n\t\t// Wrap resolve to avoid resume being called with a thenable if type checking is not used.\n\t\tresume = () => resolve();\n\t});\n\treturn { cancel, promise, resume };\n}\n\nfunction reportError(router: Router<Context>, context: Context, path: string, error: any) {\n\trouter.emit<ErrorEvent<Context>>({\n\t\tcontext,\n\t\terror,\n\t\tpath,\n\t\ttarget: router,\n\t\ttype: 'error'\n\t});\n}\n\nfunction catchRejection(router: Router<Context>, context: Context, path: string, thenable: void | Thenable<any>) {\n\tif (thenable) {\n\t\tPromise.resolve(thenable).catch((error) => {\n\t\t\treportError(router, context, path, error);\n\t\t});\n\t}\n}\n\nconst createRouter: RouterFactory<Context> = compose.mixin(createEvented, {\n\tmixin: {\n\t\tappend(this: Router<Context>, add: Route<Context, Parameters> | Route<Context, Parameters>[]) {\n\t\t\tconst { routes } = privateStateMap.get(this);\n\t\t\tconst append = (route: Route<Context, Parameters>) => {\n\t\t\t\tif (hasBeenAppended(route)) {\n\t\t\t\t\tthrow new Error('Cannot append route that has already been appended');\n\t\t\t\t}\n\n\t\t\t\troutes.push(route);\n\t\t\t\tparentMap.set(route, this);\n\t\t\t};\n\n\t\t\tif (Array.isArray(add)) {\n\t\t\t\tfor (const route of add) {\n\t\t\t\t\tappend(route);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tappend(add);\n\t\t\t}\n\t\t},\n\n\t\tdispatch(this: Router<Context>, context: Context, path: string): Task<DispatchResult> {\n\t\t\tconst state = privateStateMap.get(this);\n\t\t\tconst { dispatchFromStart } = state;\n\t\t\t// Reset, any further calls can't have come from start(). This is necessary since the navstart listeners\n\t\t\t// may call dispatch() themselves.\n\t\t\tstate.dispatchFromStart = false;\n\n\t\t\tlet canceled = false;\n\t\t\tconst cancel = () => {\n\t\t\t\tcanceled = true;\n\t\t\t};\n\n\t\t\tconst deferrals: Promise<void>[] = [];\n\n\t\t\tthis.emit<NavigationStartEvent>({\n\t\t\t\tcancel,\n\t\t\t\tdefer () {\n\t\t\t\t\tconst { cancel, promise, resume } = createDeferral();\n\t\t\t\t\tdeferrals.push(promise);\n\t\t\t\t\treturn { cancel, resume };\n\t\t\t\t},\n\t\t\t\tpath,\n\t\t\t\ttarget: this,\n\t\t\t\ttype: 'navstart'\n\t\t\t});\n\n\t\t\t// Synchronous cancelation.\n\t\t\tif (canceled) {\n\t\t\t\treturn Task.resolve({ success: false });\n\t\t\t}\n\n\t\t\tconst { searchParams, segments, trailingSlash } = parsePath(path);\n\t\t\treturn new Task<DispatchResult>((resolve, reject) => {\n\t\t\t\t// *Always* start dispatching in a future turn, even if there were no deferrals.\n\t\t\t\tPromise.all(deferrals).then<DispatchResult>(\n\t\t\t\t\t() => {\n\t\t\t\t\t\t// The cancel() function used in the NavigationStartEvent is reused as the Task canceler.\n\t\t\t\t\t\t// Strictly speaking any navstart listener can cancel the dispatch asynchronously, as long as it\n\t\t\t\t\t\t// manages to do so before this turn.\n\t\t\t\t\t\tif (canceled) {\n\t\t\t\t\t\t\treturn { success: false };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst { fallback, routes } = state;\n\t\t\t\t\t\tlet redirect: undefined | string;\n\t\t\t\t\t\tconst dispatched = routes.some((route) => {\n\t\t\t\t\t\t\tconst result = route.select(context, segments, trailingSlash, searchParams);\n\n\t\t\t\t\t\t\tif (typeof result === 'string') {\n\t\t\t\t\t\t\t\tredirect = result;\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (result.length === 0) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Update the selected routes after selecting new routes, but before invoking the handlers.\n\t\t\t\t\t\t\t// This means the original value is available to guard() and params() functions, and the\n\t\t\t\t\t\t\t// new value when the newly selected routes are executed.\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// Reset selected routes if not dispatched from start().\n\t\t\t\t\t\t\tstate.currentSelection = dispatchFromStart ? result : [];\n\n\t\t\t\t\t\t\tfor (const { handler, params } of result) {\n\t\t\t\t\t\t\t\tcatchRejection(this, context, path, handler({ context, params }));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Reset the selected routes if the dispatch was unsuccessful, or if a redirect was requested.\n\t\t\t\t\t\tif (!dispatched || redirect !== undefined) {\n\t\t\t\t\t\t\tstate.currentSelection = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dispatched && fallback) {\n\t\t\t\t\t\t\tcatchRejection(this, context, path, fallback({ context, params: {} }));\n\t\t\t\t\t\t\treturn { success: false };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst result: DispatchResult = { success: dispatched };\n\t\t\t\t\t\tif (redirect !== undefined) {\n\t\t\t\t\t\t\tresult.redirect = redirect;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t},\n\t\t\t\t\t// When deferrals are canceled their corresponding promise is rejected. Ensure the task resolves\n\t\t\t\t\t// with `false` instead of being rejected too.\n\t\t\t\t\t() => {\n\t\t\t\t\t\treturn { success: false };\n\t\t\t\t\t}\n\t\t\t\t).then(resolve, (error) => {\n\t\t\t\t\treportError(this, context, path, error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t\t}, cancel);\n\t\t},\n\n\t\tlink(this: Router<Context>, route: Route<Context, Parameters>, params: LinkParams = {}): string {\n\t\t\tconst { history, routes: roots, currentSelection } = privateStateMap.get(this);\n\n\t\t\tconst hierarchy = [ route ];\n\t\t\tfor (let parent = route.parent; parent !== undefined; parent = parent.parent) {\n\t\t\t\thierarchy.unshift(parent);\n\t\t\t}\n\n\t\t\tif (!includes(roots, hierarchy[0])) {\n\t\t\t\tthrow new Error('Cannot generate link for route that is not in the hierarchy');\n\t\t\t}\n\n\t\t\tconst { leadingSlash: addLeadingSlash } = hierarchy[0].path;\n\t\t\tlet addTrailingSlash = false;\n\t\t\tconst segments: string[] = [];\n\t\t\tconst searchParams = new UrlSearchParams();\n\n\t\t\thierarchy\n\t\t\t\t.map((route, index) => {\n\t\t\t\t\tconst { path } = route;\n\t\t\t\t\tlet currentPathValues: string[] | undefined;\n\t\t\t\t\tlet currentSearchParams: SearchParams | undefined;\n\n\t\t\t\t\tconst selection = currentSelection[index];\n\t\t\t\t\tif (selection && selection.route === route) {\n\t\t\t\t\t\tcurrentPathValues = selection.rawPathValues;\n\t\t\t\t\t\tcurrentSearchParams = selection.rawSearchParams;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { currentPathValues, currentSearchParams, path };\n\t\t\t\t})\n\t\t\t\t.forEach(({ currentPathValues, currentSearchParams, path }) => {\n\t\t\t\t\tconst { expectedSegments, searchParameters, trailingSlash } = path;\n\t\t\t\t\taddTrailingSlash = trailingSlash;\n\n\t\t\t\t\tlet namedOffset = 0;\n\t\t\t\t\tfor (const segment of expectedSegments) {\n\t\t\t\t\t\tif (isNamedSegment(segment)) {\n\t\t\t\t\t\t\tconst value = params[segment.name];\n\t\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\t\tsegments.push(value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\t\t\t\tif (value.length === 1) {\n\t\t\t\t\t\t\t\t\tsegments.push(value[0]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tthrow new TypeError(`Cannot generate link, multiple values for parameter '${segment.name}'`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (currentPathValues) {\n\t\t\t\t\t\t\t\tsegments.push(currentPathValues[namedOffset]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthrow new Error(`Cannot generate link, missing parameter '${segment.name}'`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnamedOffset++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tsegments.push(segment.literal);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const key of searchParameters) {\n\t\t\t\t\t\t// Don't repeat the search parameter if a previous route in the hierarchy has already appended\n\t\t\t\t\t\t// it.\n\t\t\t\t\t\tif (searchParams.has(key)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst value = params[key];\n\t\t\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\t\t\tsearchParams.append(key, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (const item of value) {\n\t\t\t\t\t\t\t\tsearchParams.append(key, item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (currentSearchParams) {\n\t\t\t\t\t\t\tfor (const item of currentSearchParams[key]) {\n\t\t\t\t\t\t\t\tsearchParams.append(key, item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthrow new Error(`Cannot generate link, missing search parameter '${key}'`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tlet pathname = segments.join('/');\n\t\t\tif (addLeadingSlash) {\n\t\t\t\tpathname = '/' + pathname;\n\t\t\t}\n\t\t\tif (addTrailingSlash) {\n\t\t\t\tpathname += '/';\n\t\t\t}\n\t\t\tif (history) {\n\t\t\t\tpathname = history.prefix(pathname);\n\t\t\t}\n\n\t\t\tconst search = searchParams.toString();\n\t\t\tconst path = search ? `${pathname}?${search}` : pathname;\n\n\t\t\treturn path;\n\t\t},\n\n\t\tstart(this: Router<Context>, { dispatchCurrent }: StartOptions = { dispatchCurrent: true }): PausableHandle {\n\t\t\tconst state = privateStateMap.get(this);\n\t\t\tif (state.started) {\n\t\t\t\tthrow new Error('start can only be called once');\n\t\t\t}\n\t\t\tstate.started = true;\n\n\t\t\tconst { contextFactory, history } = state;\n\t\t\tif (!history) {\n\t\t\t\treturn {\n\t\t\t\t\tpause() {},\n\t\t\t\t\tresume() {},\n\t\t\t\t\tdestroy() {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet lastDispatch: Task<void>;\n\t\t\tlet redirectCount = 0;\n\t\t\tlet redirecting = false;\n\n\t\t\tconst dispatch = (path: string) => {\n\t\t\t\tif (lastDispatch) {\n\t\t\t\t\tlastDispatch.cancel();\n\t\t\t\t}\n\n\t\t\t\t// Reset redirect count if the dispatch was triggered by a non-redirect history change. This allows\n\t\t\t\t// a route's exec / fallback / index handler to change the history, setting off a new flurry of\n\t\t\t\t// redirects, without being encumbered by the number of redirects that led to that route being selected.\n\t\t\t\tif (!redirecting) {\n\t\t\t\t\tredirectCount = 0;\n\t\t\t\t}\n\n\t\t\t\t// Signal to dispatch() that it was called from here.\n\t\t\t\tstate.dispatchFromStart = true;\n\n\t\t\t\tconst context = contextFactory();\n\t\t\t\tlastDispatch = this.dispatch(context, path).then(({ redirect, success }) => {\n\t\t\t\t\tif (success && redirect !== undefined) {\n\t\t\t\t\t\tredirectCount++;\n\t\t\t\t\t\tif (redirectCount > 20) {\n\t\t\t\t\t\t\tconst error = new Error('More than 20 redirects, giving up');\n\t\t\t\t\t\t\treportError(this, context, path, error);\n\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tredirecting = true;\n\t\t\t\t\t\t// The history manager MUST emit the change event synchronously.\n\t\t\t\t\t\thistory.replace(redirect);\n\t\t\t\t\t\tredirecting = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst listener = pausable(history, 'change', (event: HistoryChangeEvent) => {\n\t\t\t\tdispatch(event.value);\n\t\t\t});\n\t\t\tthis.own(listener);\n\n\t\t\tif (dispatchCurrent) {\n\t\t\t\tdispatch(history.current);\n\t\t\t}\n\n\t\t\treturn listener;\n\t\t}\n\t},\n\tinitialize<C extends Context>(instance: Router<C>, { context, fallback, history }: RouterOptions<C> = {}) {\n\t\tlet contextFactory: () => C;\n\t\tif (typeof context === 'function') {\n\t\t\tcontextFactory = context;\n\t\t}\n\t\telse if (typeof context === 'undefined') {\n\t\t\tcontextFactory = () => {\n\t\t\t\treturn {} as C;\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\t// Assign to a constant since the context variable may be changed after the function is defined,\n\t\t\t// which would violate its typing.\n\t\t\tconst sharedContext = context;\n\t\t\tcontextFactory = () => sharedContext;\n\t\t}\n\n\t\tif (history) {\n\t\t\tinstance.own(history);\n\t\t}\n\n\t\tprivateStateMap.set(instance, {\n\t\t\tcontextFactory,\n\t\t\tcurrentSelection: [],\n\t\t\tdispatchFromStart: false,\n\t\t\tfallback,\n\t\t\thistory,\n\t\t\troutes: []\n\t\t});\n\t}\n});\n\nexport default createRouter;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-routing/createRouter.ts","import { Hash } from 'dojo-interfaces/core';\nimport { duplicate } from './lang';\n\n/**\n * Object with string keys and string or string array values that describes a query string.\n */\nexport type ParamList = Hash<string | string[]>;\n\n/**\n * Parses a query string, returning a ParamList object.\n */\nfunction parseQueryString(input: string): ParamList {\n\tconst query: Hash<string[]> = {};\n\tfor (const entry of input.split('&')) {\n\t\tconst indexOfFirstEquals = entry.indexOf('=');\n\t\tlet key: string;\n\t\tlet value = '';\n\n\t\tif (indexOfFirstEquals >= 0) {\n\t\t\tkey = entry.slice(0, indexOfFirstEquals);\n\t\t\tvalue = entry.slice(indexOfFirstEquals + 1);\n\t\t} else {\n\t\t\tkey = entry;\n\t\t}\n\n\t\tkey = key ? decodeURIComponent(key) : '';\n\t\tvalue = value ? decodeURIComponent(value) : '';\n\n\t\tif (key in query) {\n\t\t\tquery[key].push(value);\n\t\t}\n\t\telse {\n\t\t\tquery[key] = [ value ];\n\t\t}\n\t}\n\treturn query;\n}\n\n/**\n * Represents a set of URL query search parameters.\n */\nexport default class UrlSearchParams {\n\t/**\n\t * Constructs a new UrlSearchParams from a query string, an object of parameters and values, or another\n\t * UrlSearchParams.\n\t */\n\tconstructor(input?: string | ParamList | UrlSearchParams) {\n\t\tlet list: ParamList;\n\n\t\tif (input instanceof UrlSearchParams) {\n\t\t\t// Copy the incoming UrlSearchParam's internal list\n\t\t\tlist = <ParamList> duplicate(input._list);\n\t\t}\n\t\telse if (typeof input === 'object') {\n\t\t\t// Copy the incoming object, assuming its property values are either arrays or strings\n\t\t\tlist = {};\n\t\t\tfor (const key in input) {\n\t\t\t\tconst value = (<ParamList> input)[key];\n\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tlist[key] = value.length ? value.slice() : [ '' ];\n\t\t\t\t}\n\t\t\t\telse if (value == null) {\n\t\t\t\t\tlist[key] = [ '' ];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlist[key] = [ <string> value ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof input === 'string') {\n\t\t\t// Parse the incoming string as a query string\n\t\t\tlist = parseQueryString(input);\n\t\t}\n\t\telse {\n\t\t\tlist = {};\n\t\t}\n\n\t\tObject.defineProperty(this, '_list', { value: list });\n\t}\n\n\t/**\n\t * Maps property keys to arrays of values. The value for any property that has been set will be an array containing\n\t * at least one item. Properties that have been deleted will have a value of 'undefined'.\n\t */\n\tprotected _list: Hash<string[] | undefined>;\n\n\t/**\n\t * Appends a new value to the set of values for a key.\n\t * @param key The key to add a value for\n\t * @param value The value to add\n\t */\n\tappend(key: string, value: string): void {\n\t\tif (!this.has(key)) {\n\t\t\tthis.set(key, value);\n\t\t}\n\t\telse {\n\t\t\tconst values = this._list[key];\n\t\t\tif (values) {\n\t\t\t\tvalues.push(value);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Deletes all values for a key.\n\t * @param key The key whose values are to be removed\n\t */\n\tdelete(key: string): void {\n\t\t// Set to undefined rather than deleting the key, for better consistency across browsers.\n\t\t// If a deleted key is re-added, most browsers put it at the end of iteration order, but IE maintains\n\t\t// its original position.  This approach maintains the original position everywhere.\n\t\tthis._list[key] = undefined;\n\t}\n\n\t/**\n\t * Returns the first value associated with a key.\n\t * @param key The key to return the first value for\n\t * @return The first string value for the key\n\t */\n\tget(key: string): string | undefined {\n\t\tif (!this.has(key)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst value = this._list[key];\n\t\treturn value ? value[0] : undefined;\n\t}\n\n\t/**\n\t * Returns all the values associated with a key.\n\t * @param key The key to return all values for\n\t * @return An array of strings containing all values for the key\n\t */\n\tgetAll(key: string): string[] | undefined {\n\t\tif (!this.has(key)) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this._list[key];\n\t}\n\n\t/**\n\t * Returns true if a key has been set to any value, false otherwise.\n\t * @param key The key to test for existence\n\t * @return A boolean indicating if the key has been set\n\t */\n\thas(key: string): boolean {\n\t\treturn Array.isArray(this._list[key]);\n\t}\n\n\t/**\n\t * Returns an array of all keys which have been set.\n\t * @return An array of strings containing all keys set in the UrlSearchParams instance\n\t */\n\tkeys(): string[] {\n\t\tconst keys: string[] = [];\n\n\t\tfor (const key in this._list) {\n\t\t\tif (this.has(key)) {\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\n\t\treturn keys;\n\t}\n\n\t/**\n\t * Sets the value associated with a key.\n\t * @param key The key to set the value of\n\t */\n\tset(key: string, value: string): void {\n\t\tthis._list[key] = [ value ];\n\t}\n\n\t/**\n\t * Returns this object's data as an encoded query string.\n\t * @return A string in application/x-www-form-urlencoded format containing all of the set keys/values\n\t */\n\ttoString(): string {\n\t\tconst query: string[] = [];\n\n\t\tfor (const key in this._list) {\n\t\t\tif (!this.has(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst values = this._list[key];\n\t\t\tif (values) {\n\t\t\t\tconst encodedKey = encodeURIComponent(key);\n\t\t\t\tfor (const value of values) {\n\t\t\t\t\tquery.push(encodedKey + (value ? ('=' + encodeURIComponent(value)) : ''));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn query.join('&');\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/UrlSearchParams.ts","import UrlSearchParams from 'dojo-core/UrlSearchParams';\n\nexport interface ParsedPath {\n\t/**\n\t * Parameters extracted from the search component.\n\t */\n\tsearchParams: UrlSearchParams;\n\n\t/**\n\t * Pathname segments.\n\t */\n\tsegments: string[];\n\n\t/**\n\t * Whether the pathname ended with a trailing slash.\n\t */\n\ttrailingSlash: boolean;\n}\n\n/**\n * Parses a path\n * @param path The path to parse.\n * @return The search params, pathname segments, and whether it ended with a trailing slash.\n */\nexport function parse(path: string): ParsedPath {\n\tconst tokens: string[] = path.split(/([/?#])/).filter(Boolean);\n\n\tlet pathnameTokens = tokens;\n\tlet searchParams: UrlSearchParams;\n\n\tconst searchStart = tokens.indexOf('?');\n\tconst hashStart = tokens.indexOf('#');\n\tif (searchStart >= 0) {\n\t\tif (hashStart >= 0) {\n\t\t\t// Either `/foo?bar#baz` or `/foo#bar?baz`\n\t\t\tpathnameTokens = tokens.slice(0, Math.min(searchStart, hashStart));\n\t\t\tsearchParams = new UrlSearchParams(tokens.slice(searchStart + 1, hashStart).join(''));\n\t\t}\n\t\telse {\n\t\t\t// `/foo?bar`\n\t\t\tpathnameTokens = tokens.slice(0, searchStart);\n\t\t\tsearchParams = new UrlSearchParams(tokens.slice(searchStart + 1).join(''));\n\t\t}\n\t}\n\telse {\n\t\tsearchParams = new UrlSearchParams();\n\t\tif (hashStart >= 0) {\n\t\t\t// `/foo#bar`\n\t\t\tpathnameTokens = tokens.slice(0, hashStart);\n\t\t}\n\t}\n\n\tconst segments = pathnameTokens.filter(t => t !== '/');\n\tconst trailingSlash = pathnameTokens[pathnameTokens.length - 1] === '/' && segments.length > 0;\n\n\treturn {\n\t\tsearchParams,\n\t\tsegments,\n\t\ttrailingSlash\n\t};\n}\n\nexport interface MatchResult {\n\t/**\n\t * Whether there are remaining segments that weren't matched.\n\t */\n\thasRemaining: boolean;\n\n\t/**\n\t * Position in the segments array that the remaining unmatched segments start.\n\t */\n\toffset: number;\n\n\t/**\n\t * Values for named segments.\n\t */\n\tvalues: string[];\n}\n\n/**\n * Determines whether a DeconstructedPath is a (partial) match for given pathname segments.\n * @param expectedSegments Part of a DeconstructedPath object.\n * @param segments Pathname segments as returned by `parse()`\n * @return A result object.\n */\nexport function match({ expectedSegments }: DeconstructedPath, segments: string[]): MatchResult | null {\n\tif (expectedSegments.length === 0) {\n\t\treturn {\n\t\t\thasRemaining: segments.length > 0,\n\t\t\toffset: 0,\n\t\t\tvalues: []\n\t\t};\n\t}\n\n\tif (expectedSegments.length > segments.length) {\n\t\treturn null;\n\t}\n\n\tlet isMatch = true;\n\tconst values: string[] = [];\n\tfor (let i = 0; isMatch && i < expectedSegments.length; i++) {\n\t\tconst value = segments[i];\n\t\tconst expected = expectedSegments[i];\n\t\tif (isNamedSegment(expected)) {\n\t\t\tvalues.push(value);\n\t\t}\n\t\telse if (expected.literal !== value) {\n\t\t\tisMatch = false;\n\t\t}\n\t}\n\n\tif (!isMatch) {\n\t\treturn null;\n\t}\n\n\treturn {\n\t\thasRemaining: expectedSegments.length < segments.length,\n\t\toffset: expectedSegments.length,\n\t\tvalues\n\t};\n}\n\nexport interface LiteralSegment {\n\tliteral: string;\n}\n\nexport interface NamedSegment {\n\tname: string;\n}\n\nexport type Segment = LiteralSegment | NamedSegment;\n\n/**\n * Determine whether the segment is a NamedSegment.\n *\n * @param segment The segment to be checked\n * @return true if the segment is a NamedSegment, false otherwise\n */\nexport function isNamedSegment(segment: Segment): segment is NamedSegment {\n\treturn (<NamedSegment> segment).name !== undefined;\n}\n\n/**\n * Describes a route path, broken down into its constituent parts.\n */\nexport interface DeconstructedPath {\n\t/**\n\t * Segments (literal and named) that are expected to be present when matching paths.\n\t */\n\texpectedSegments: Segment[];\n\n\t/**\n\t * Whether the pathname started with a slash.\n\t */\n\tleadingSlash: boolean;\n\n\t/**\n\t * Named path parameters, in the order that they occurred in the path.\n\t */\n\tparameters: string[];\n\n\t/**\n\t * Named query parameters, in the order that they occurred in the path.\n\t */\n\tsearchParameters: string[];\n\n\t/**\n\t * Whether the pathname ended with a slash.\n\t */\n\ttrailingSlash: boolean;\n}\n\n/**\n * Deconstruct a route path into its constituent parts.\n * @param path The path to deconstruct.\n * @return An object describing the path's constituent parts.\n */\nexport function deconstruct(path: string): DeconstructedPath {\n\tconst expectedSegments: Segment[] = [];\n\tconst parameters: string[] = [];\n\tconst searchParameters: string[] = [];\n\tlet trailingSlash = false;\n\n\tconst tokens = path.split(/([/{}?&])/).filter(Boolean);\n\tconst leadingSlash = tokens[0] === '/';\n\n\tlet i = 0;\n\tconst consume = () => tokens[i++];\n\tconst peek = () => tokens[i];\n\n\tlet inSearchComponent = false;\n\twhile (i < tokens.length) {\n\t\tconst t = consume();\n\n\t\tswitch (t) {\n\t\t\tcase '{': {\n\t\t\t\tconst name = consume();\n\t\t\t\tif (!name || name === '}') {\n\t\t\t\t\tthrow new TypeError('Parameter must have a name');\n\t\t\t\t}\n\t\t\t\t// Reserve : for future use, e.g. including type data in the parameter declaration.\n\t\t\t\tif (name === '{' || name === '&' || /:/.test(name)) {\n\t\t\t\t\tthrow new TypeError('Parameter name must not contain \\'{\\', \\'&\\' or \\':\\'');\n\t\t\t\t}\n\t\t\t\tif (parameters.indexOf(name) !== -1 || searchParameters.indexOf(name) !== -1) {\n\t\t\t\t\tthrow new TypeError(`Parameter must have a unique name, got '${name}'`);\n\t\t\t\t}\n\n\t\t\t\tconst closing = consume();\n\t\t\t\tif (!closing || closing !== '}') {\n\t\t\t\t\tthrow new TypeError(`Parameter name must be followed by '}', got '${closing}'`);\n\t\t\t\t}\n\n\t\t\t\tconst separator = peek();\n\t\t\t\tif (separator) {\n\t\t\t\t\tif (inSearchComponent) {\n\t\t\t\t\t\tif (separator !== '&') {\n\t\t\t\t\t\t\tthrow new TypeError(`Search parameter must be followed by '&', got '${separator}'`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (separator !== '/' && separator !== '?') {\n\t\t\t\t\t\tthrow new TypeError(`Parameter must be followed by '/' or '?', got '${separator}'`);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (inSearchComponent) {\n\t\t\t\t\tsearchParameters.push(name);\n\t\t\t\t} else {\n\t\t\t\t\tparameters.push(name);\n\t\t\t\t\texpectedSegments.push(Object.freeze({ name }));\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase '?':\n\t\t\tcase '/':\n\t\t\t\tif (inSearchComponent) {\n\t\t\t\t\tthrow new TypeError(`Expected parameter in search component, got '${t}'`);\n\t\t\t\t}\n\n\t\t\t\tif (t === '?') {\n\t\t\t\t\tinSearchComponent = true;\n\t\t\t\t\tif (expectedSegments.length === 0) {\n\t\t\t\t\t\tthrow new TypeError('Path must contain at least one segment');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (t === '/') {\n\t\t\t\t\tconst next = peek();\n\t\t\t\t\tif (next === '/') {\n\t\t\t\t\t\tthrow new TypeError('Path segment must not be empty');\n\t\t\t\t\t}\n\t\t\t\t\tif (expectedSegments.length > 0 && (!next || next === '?')) {\n\t\t\t\t\t\ttrailingSlash = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase '&':\n\t\t\t\tif (!inSearchComponent) {\n\t\t\t\t\tthrow new TypeError('Path segment must not contain \\'&\\'');\n\t\t\t\t}\n\n\t\t\t\tconst next = peek();\n\t\t\t\tif (next === '&') {\n\t\t\t\t\tthrow new TypeError('Expected parameter in search component, got \\'&\\'');\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tif (inSearchComponent) {\n\t\t\t\t\tthrow new TypeError(`Expected parameter in search component, got '${t}'`);\n\t\t\t\t}\n\n\t\t\t\texpectedSegments.push(Object.freeze({ literal: t }));\n\t\t}\n\t}\n\n\treturn Object.freeze({\n\t\texpectedSegments: Object.freeze(expectedSegments),\n\t\tleadingSlash,\n\t\tparameters: Object.freeze(parameters),\n\t\tsearchParameters: Object.freeze(searchParameters),\n\t\ttrailingSlash\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-routing/lib/path.ts","import compose, { ComposeFactory } from 'dojo-compose/compose';\nimport UrlSearchParams from 'dojo-core/UrlSearchParams';\nimport { Hash } from 'dojo-core/interfaces';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { Thenable } from 'dojo-shim/interfaces';\n\nimport { DefaultParameters, Context, Parameters, Request } from './interfaces';\nimport { hasBeenAppended } from './createRouter';\nimport {\n\tdeconstruct as deconstructPath,\n\tmatch as matchPath,\n\tDeconstructedPath\n} from './lib/path';\n\n/**\n * Hash object where keys are parameter names and keys are arrays of one or more\n * parameter values.\n */\nexport type SearchParams = Hash<string[]>;\n\n/**\n * Describes whether a route matched.\n */\nexport interface MatchResult<P> {\n\t/**\n\t * Whether there are path segments that weren't matched by this route.\n\t */\n\thasRemaining: boolean;\n\n\t/**\n\t * Position in the segments array that the remaining unmatched segments start.\n\t */\n\toffset: number;\n\n\t/**\n\t * Any extracted parameters. Only available if the route matched.\n\t */\n\tparams: P;\n\n\t/**\n\t * Values for named segments in the path, in order of occurrence.\n\t */\n\trawPathValues: string[];\n\n\t/**\n\t * Values for known named query parameters that were actually present in the\n\t * path.\n\t */\n\trawSearchParams: SearchParams;\n}\n\n/**\n * A request handler.\n */\nexport type Handler = (request: Request<Context, Parameters>) => void | Thenable<any>;\n\n/**\n * Describes the selection of a particular route.\n */\nexport interface Selection {\n\t/**\n\t * Which handler should be called when the route is executed.\n\t */\n\thandler: Handler;\n\n\t/**\n\t * The selected path.\n\t */\n\tpath: DeconstructedPath;\n\n\t/**\n\t * The extracted parameters.\n\t */\n\tparams: Parameters;\n\n\t/**\n\t * Values for named segments in the path, in order of occurrence.\n\t */\n\trawPathValues: string[];\n\n\t/**\n\t * Values for known named query parameters that were actually present in the\n\t * path.\n\t */\n\trawSearchParams: SearchParams;\n\n\t/**\n\t * The selected route.\n\t */\n\troute: Route<Context, Parameters>;\n}\n\n/**\n * A route.\n * The generic should be specified if parameter access is required.\n */\nexport interface Route<C extends Context, P extends Parameters> {\n\t/**\n\t * The route this route has been appended to.\n\t */\n\treadonly parent?: Route<Context, Parameters>;\n\n\t/**\n\t * Frozen, deconstructed path object.\n\t */\n\treadonly path: DeconstructedPath;\n\n\t/**\n\t * Append one or more routes.\n\t *\n\t * A route can only appended to another route, or a router itself, once.\n\t *\n\t * @param routes A single route or an array containing 0 or more routes.\n\t */\n\tappend(add: Route<Context, Parameters> | Route<Context, Parameters>[]): void;\n\n\t/**\n\t * Determine whether the route matches.\n\t * @param segments Segments of the pathname (excluding slashes).\n\t * @param hasTrailingSlash Whether the pathname that's being matched ended with a slashes.\n\t * @param searchParams Parameters extracted from the search component.\n\t * @return Whether and how the route matched.\n\t */\n\tmatch(segments: string[], hasTrailingSlash: boolean, searchParams: UrlSearchParams): null | MatchResult<P>;\n\n\t/**\n\t * Attempt to select this and any nested routes.\n\t * @param context The dispatch context.\n\t * @param segments Segments of the pathname (excluding slashes).\n\t * @param hasTrailingSlash Whether the pathname that's being matched ended with a slashes.\n\t * @param searchParams Parameters extracted from the search component.\n\t * @return A string if a matching route determined a redirect is necessary. The string should be the path to\n\t *   redirect to. Otherwise an empty array if this (and any nested routes) could not be selected, else the selected\n\t *   routes and accompanying `params` objects.\n\t */\n\tselect(\n\t\tcontext: Context,\n\t\tsegments: string[],\n\t\thasTrailingSlash: boolean,\n\t\tsearchParams: UrlSearchParams\n\t): string | Selection[];\n}\n\n/**\n * The options for the route.\n */\nexport interface RouteOptions<C, P> {\n\t/**\n\t * Path the route matches against. Pathname segments may be named, same for query parameters. Leading slashes are\n\t * ignored. Defaults to `/`.\n\t */\n\tpath?: string;\n\n\t/**\n\t * If the `path` option contains a trailing slash (in the pathname component), the route will only match against\n\t * another pathname that contains a trailing slash, and vice-versa if the path does not contain a trailing slash.\n\t * Defaults to `true`, change to `false` to allow routes to match regardless of trailing slashes.\n\t */\n\ttrailingSlashMustMatch?: boolean;\n\n\t/**\n\t * A handler called when the route is executed.\n\t * @param request An object whose `context` property contains the dispatch context. Extracted parameters are\n\t *   available under `params`.\n\t */\n\texec?(request: Request<C, P>): void | Thenable<any>;\n\n\t/**\n\t * If specified, causes the route to be selected if there are no nested routes that match the remainder of\n\t * the dispatched path. When the route is executed, this handler is called rather than `exec()`.\n\t * @param request An object whose `context` property contains the dispatch context. Extracted parameters are\n\t *   available under `params`.\n\t */\n\tfallback?(request: Request<C, P>): void | Thenable<any>;\n\n\t/**\n\t * Callback used to determine whether the route should be selected after it's been matched.\n\t * @param request An object whose `context` property contains the dispatch context. Extracted parameters are\n\t *   available under `params`.\n\t * @return Returning `true` causes the route to be selected. Returning a string indicates that a redirect is\n\t *   required; the string should be the path to redirect to.\n\t */\n\tguard?(request: Request<C, P>): string | boolean;\n\n\t/**\n\t * If specified, and the route is the final route in the hierarchy, when the route is executed, this handler is\n\t * called rather than `exec()`.\n\t * @param request An object whose `context` property contains the dispatch context. Extracted parameters are\n\t *   available under `params`.\n\t */\n\tindex?(request: Request<C, P>): void | Thenable<any>;\n\n\t/**\n\t * Callback used for constructing the `params` object from extracted parameters, and validating the parameters.\n\t * @param fromPathname Array of parameter values extracted from the pathname.\n\t * @param searchParams Parameters extracted from the search component.\n\t * @return If `null` prevents the route from being selected, else the value for the `params` object.\n\t */\n\tparams?(fromPathname: string[], searchParams: UrlSearchParams): null | P;\n}\n\nexport interface RouteFactory<C extends Context, P extends Parameters> extends ComposeFactory<Route<C, P>, RouteOptions<C, P>> {\n\t/**\n\t * Create a new instance of a route.\n\t * @param options Options to use during creation.\n\t */\n\t<P>(options?: RouteOptions<Context, P>): Route<Context, P>;\n\t<C, P>(options?: RouteOptions<C, P>): Route<C, P>;\n}\n\ninterface PrivateState {\n\tpath: DeconstructedPath;\n\troutes: Route<Context, Parameters>[];\n\ttrailingSlashMustMatch: boolean;\n\n\tcomputeParams<P extends Parameters>(fromPathname: string[], searchParams: UrlSearchParams): null | P;\n\texec?: Handler;\n\tfallback?: Handler;\n\tguard?(request: Request<Context, Parameters>): string | boolean;\n\tindex?: Handler;\n}\n\nconst privateStateMap = new WeakMap<Route<Context, Parameters>, PrivateState>();\n\n// Store parent relationships in a separate map, since it's the parent that adds entries to this map. Parents shouldn't\n// change the private state of their children.\nconst parentMap = new WeakMap<Route<Context, Parameters>, Route<Context, Parameters>>();\n\nconst noop = () => {};\n\nfunction computeDefaultParams(\n\tparameters: string[],\n\tsearchParameters: string[],\n\tfromPathname: string[],\n\tsearchParams: UrlSearchParams\n): null | DefaultParameters {\n\tconst params: DefaultParameters = {};\n\tparameters.forEach((name, index) => {\n\t\tparams[name] = fromPathname[index];\n\t});\n\tsearchParameters.forEach(name => {\n\t\tconst value = searchParams.get(name);\n\t\tif (value !== undefined) {\n\t\t\tparams[name] = value;\n\t\t}\n\t});\n\n\treturn params;\n}\n\nconst createRoute: RouteFactory<Context, Parameters> =\n\tcompose({\n\t\tget parent(this: Route<Context, Parameters>) {\n\t\t\treturn parentMap.get(this);\n\t\t},\n\n\t\tget path(this: Route<Context, Parameters>) {\n\t\t\treturn privateStateMap.get(this).path;\n\t\t},\n\n\t\tappend(this: Route<Context, Parameters>, add: Route<Context, Parameters> | Route<Context, Parameters>[]) {\n\t\t\tconst { routes } = privateStateMap.get(this);\n\t\t\tconst append = (route: Route<Context, Parameters>) => {\n\t\t\t\tif (hasBeenAppended(route)) {\n\t\t\t\t\tthrow new Error('Cannot append route that has already been appended');\n\t\t\t\t}\n\n\t\t\t\troutes.push(route);\n\t\t\t\tparentMap.set(route, this);\n\t\t\t};\n\n\t\t\tif (Array.isArray(add)) {\n\t\t\t\tfor (const route of add) {\n\t\t\t\t\tappend(route);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tappend(add);\n\t\t\t}\n\t\t},\n\n\t\tmatch(\n\t\t\tthis: Route<Context, Parameters>,\n\t\t\tsegments: string[],\n\t\t\thasTrailingSlash: boolean,\n\t\t\tsearchParams: UrlSearchParams\n\t\t): null | MatchResult<Parameters> {\n\t\t\tconst { computeParams, path, trailingSlashMustMatch } = privateStateMap.get(this);\n\n\t\t\tconst result = matchPath(path, segments);\n\t\t\tif (result === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!result.hasRemaining && trailingSlashMustMatch && path.trailingSlash !== hasTrailingSlash) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Only extract the search params defined in the route's path.\n\t\t\tconst knownSearchParams = path.searchParameters.reduce<SearchParams>((list, name) => {\n\t\t\t\tconst value = searchParams.getAll(name);\n\t\t\t\tif (value !== undefined) {\n\t\t\t\t\tlist[name] = value;\n\t\t\t\t}\n\t\t\t\treturn list;\n\t\t\t}, {});\n\n\t\t\tconst params = computeParams(result.values, new UrlSearchParams(knownSearchParams));\n\t\t\tif (params === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\thasRemaining: result.hasRemaining,\n\t\t\t\toffset: result.offset,\n\t\t\t\tparams,\n\t\t\t\trawPathValues: result.values,\n\t\t\t\trawSearchParams: knownSearchParams\n\t\t\t};\n\t\t},\n\n\t\tselect(\n\t\t\tthis: Route<Context, Parameters>,\n\t\t\tcontext: Context,\n\t\t\tsegments: string[],\n\t\t\thasTrailingSlash: boolean,\n\t\t\tsearchParams: UrlSearchParams\n\t\t): string | Selection[] {\n\t\t\tconst { exec, index, fallback, guard, path, routes } = privateStateMap.get(this);\n\n\t\t\tconst matchResult = this.match(segments, hasTrailingSlash, searchParams);\n\n\t\t\t// Return early if possible.\n\t\t\tif (!matchResult || matchResult.hasRemaining && routes.length === 0 && !fallback) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst { params } = matchResult;\n\t\t\tif (guard) {\n\t\t\t\tconst guardResult = guard({ context, params });\n\t\t\t\tif (typeof guardResult === 'string') {\n\t\t\t\t\treturn guardResult;\n\t\t\t\t}\n\t\t\t\tif (!guardResult) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet handler = exec;\n\t\t\tlet redirect: string | undefined;\n\t\t\tlet remainingSelection: Selection[] | undefined;\n\t\t\tlet selected = false;\n\n\t\t\tif (matchResult.hasRemaining) {\n\t\t\t\t// Match the remaining segments. Return a hierarchy if nested routes were selected.\n\t\t\t\tconst remainingSegments = segments.slice(matchResult.offset);\n\t\t\t\tselected = routes.some((nested) => {\n\t\t\t\t\tconst nestedResult = nested.select(context, remainingSegments, hasTrailingSlash, searchParams);\n\t\t\t\t\tif (typeof nestedResult === 'string') {\n\t\t\t\t\t\tredirect = nestedResult;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (nestedResult.length > 0) {\n\t\t\t\t\t\tremainingSelection = nestedResult;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\t// No remaining segments matched, only select this route if a fallback handler was specified.\n\t\t\t\tif (!selected && fallback) {\n\t\t\t\t\tselected = true;\n\t\t\t\t\thandler = fallback;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Select this route, configure the index handler if specified.\n\t\t\telse {\n\t\t\t\tselected = true;\n\t\t\t\tif (index) {\n\t\t\t\t\thandler = index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!selected) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tif (redirect !== undefined) {\n\t\t\t\treturn redirect;\n\t\t\t}\n\n\t\t\tconst { rawPathValues, rawSearchParams } = matchResult;\n\t\t\tconst selection = {\n\t\t\t\t// Use a noop handler if exec was not provided. Something needs to be returned otherwise the router may\n\t\t\t\t// think no routes were selected.\n\t\t\t\thandler: handler || noop,\n\t\t\t\tpath,\n\t\t\t\tparams,\n\t\t\t\trawPathValues,\n\t\t\t\trawSearchParams,\n\t\t\t\troute: this\n\t\t\t};\n\t\t\treturn remainingSelection ? [selection, ...remainingSelection] : [selection];\n\t\t}\n\t},\n\t(\n\t\tinstance: Route<Context, Parameters>,\n\t\t{\n\t\t\texec,\n\t\t\tfallback,\n\t\t\tguard,\n\t\t\tindex,\n\t\t\tparams: computeParams,\n\t\t\tpath,\n\t\t\ttrailingSlashMustMatch = true\n\t\t}: RouteOptions<Context, Parameters> = {}\n\t) => {\n\t\tif (path && /#/.test(path)) {\n\t\t\tthrow new TypeError('Path must not contain \\'#\\'');\n\t\t}\n\n\t\tconst deconstructedPath = deconstructPath(path || '/');\n\t\tconst { parameters, searchParameters } = deconstructedPath;\n\n\t\tif (computeParams) {\n\t\t\tif (parameters.length === 0 && searchParameters.length === 0) {\n\t\t\t\tthrow new TypeError('Can\\'t specify params() if path doesn\\'t contain any');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tcomputeParams = (fromPathname: string[], searchParams: UrlSearchParams) => {\n\t\t\t\treturn computeDefaultParams(parameters, searchParameters, fromPathname, searchParams);\n\t\t\t};\n\t\t}\n\n\t\tprivateStateMap.set(instance, {\n\t\t\tcomputeParams,\n\t\t\texec,\n\t\t\tfallback,\n\t\t\tguard,\n\t\t\tindex,\n\t\t\tpath: deconstructedPath,\n\t\t\troutes: [],\n\t\t\ttrailingSlashMustMatch\n\t\t});\n\t});\n\nexport default createRoute;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-routing/createRoute.ts","import { Action } from 'dojo-actions/createAction';\nimport compose, { ComposeFactory } from 'dojo-compose/compose';\nimport { EventedListener, EventedListenersMap } from 'dojo-compose/mixins/createEvented';\nimport { ObservableState, State } from 'dojo-compose/mixins/createStateful';\nimport { Handle } from 'dojo-core/interfaces';\nimport IdentityRegistry from 'dojo-core/IdentityRegistry';\nimport { assign } from 'dojo-core/lang';\nimport Promise from 'dojo-shim/Promise';\nimport Set from 'dojo-shim/Set';\nimport Symbol from 'dojo-shim/Symbol';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { Child } from 'dojo-widgets/mixins/interfaces';\n\nimport extractRegistrationElements from './lib/extractRegistrationElements';\nimport {\n\tmakeActionFactory,\n\tmakeCustomElementFactory,\n\tmakeStoreFactory,\n\tmakeWidgetFactory\n} from './lib/factories';\nimport InstanceRegistry from './lib/InstanceRegistry';\nimport makeIdGenerator from './lib/makeIdGenerator';\nimport makeMidResolver, { ToAbsMid, ResolveMid } from './lib/moduleResolver';\nimport realizeCustomElements, {\n\tisValidName,\n\tnormalizeName\n} from './lib/realizeCustomElements';\nimport RegistryProvider from './lib/RegistryProvider';\n\nexport { RegistryProvider, ToAbsMid };\n\n/**\n * Any kind of action.\n */\nexport type ActionLike = Action<any, any, any>;\n\n/**\n * Any kind of store.\n */\nexport type StoreLike = ObservableState<State> & {\n\tadd<T>(item: T, options?: any): Promise<T>;\n\tget<T>(id: string): Promise<T>;\n}\n\n/**\n * Any kind of widget.\n */\nexport type WidgetLike = Child;\n\n/**\n * Options passed to action factories.\n */\nexport interface ActionFactoryOptions {\n\t/**\n\t * Provides access to read-only registries for actions, stores and widgets.\n\t */\n\tregistryProvider: RegistryProvider;\n\n\t/**\n\t * The store that was defined for this action.\n\t *\n\t * It's the factories responsibility to create an action that observes the store.\n\t */\n\tstateFrom?: StoreLike;\n}\n\n/**\n * Options passed to widget factories.\n */\nexport interface WidgetFactoryOptions {\n\t/**\n\t * The ID for the widget to be created by the factory.\n\t */\n\tid?: string;\n\n\t/**\n\t * Listeners that should be attached when the widget is created.\n\t */\n\tlisteners?: EventedListenersMap;\n\n\t/**\n\t * Provides access to read-only registries for actions, stores and widgets.\n\t */\n\tregistryProvider: RegistryProvider;\n\n\t/**\n\t * State that should be set while the widget is being created.\n\t */\n\tstate?: any;\n\n\t/**\n\t * The store that was defined for this widget.\n\t *\n\t * It's the factories responsibility to create a widget that observes the store.\n\t */\n\tstateFrom?: StoreLike;\n}\n\n/**\n * Factory method to (asynchronously) create an action.\n *\n * @return The action, or a promise for it\n */\nexport interface ActionFactory {\n\t(options: ActionFactoryOptions): ActionLike | Promise<ActionLike>;\n}\n\n/**\n * Factory method to (asynchronously) create a store.\n *\n * @return The store, or a promise for it\n */\nexport interface StoreFactory {\n\t(options?: Object): StoreLike | Promise<StoreLike>;\n}\n\n/**\n * Factory method to (asynchronously) create a widget.\n *\n * @return The widget, or a promise for it\n */\nexport interface WidgetFactory {\n\t(options?: WidgetFactoryOptions): WidgetLike | Promise<WidgetLike>;\n}\n\n/**\n * Plain old JavaScript object that contains definitions of actions, stores and widgets.\n */\nexport interface Definitions {\n\t/**\n\t * Action definitions.\n\t */\n\tactions?: ActionDefinition[];\n\n\t/**\n\t * Custom element definitions.\n\t */\n\tcustomElements?: CustomElementDefinition[];\n\n\t/**\n\t * Store definitions.\n\t */\n\tstores?: StoreDefinition[];\n\n\t/**\n\t * Widget definitions.\n\t */\n\twidgets?: WidgetDefinition[];\n}\n\n/**\n * Actions, stores and widgets should have string identifiers.\n */\nexport type Identifier = string;\n\n/**\n * Base definition for a single action, store or widget.\n */\nexport interface ItemDefinition<Factory, Instance> {\n\t/**\n\t * Identifier for which the action, store or widget is to be registered.\n\t */\n\tid: Identifier;\n\n\t/**\n\t * Factory to create an action, store or widget, or a module identifier that resolves to\n\t * such a factory.\n\t */\n\tfactory?: Factory | string;\n\n\t/**\n\t * An action, store or widget instance, or a module identifier that resolves to such\n\t * an instance.\n\t */\n\tinstance?: Instance | string;\n}\n\n/**\n * Definition for a single action.\n */\nexport interface ActionDefinition extends ItemDefinition<ActionFactory, ActionLike> {\n\t/**\n\t * Initial state, to be added to the action's store, if any.\n\t */\n\tstate?: any;\n\n\t/**\n\t * Identifier of a store which the action should observe for its state.\n\t *\n\t * When the action is created it'll automatically observe this store.\n\t *\n\t * Note that the `DEFAULT_ACTION_STORE` and `DEFAULT_WIDGET_STORE` identifiers are not supported. The default action\n\t * store is automatically used if stateFrom is not provided.\n\t */\n\tstateFrom?: Identifier | StoreLike;\n}\n\n/**\n * Definition for a custom element;\n */\nexport interface CustomElementDefinition {\n\t/**\n\t * The name of the custom element. Must be valid according to\n\t * <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\n\t */\n\tname: string;\n\n\t/**\n\t * Factory to create a widget, or a module identifier that resolves to such a factory.\n\t */\n\tfactory: WidgetFactory | string;\n}\n\n/**\n * Definition for a single store.\n */\nexport interface StoreDefinition extends ItemDefinition<StoreFactory, StoreLike> {\n\t/**\n\t * Optional options object passed to the store factory.\n\t */\n\toptions?: Object;\n}\n\n/**\n * Definition for a single widget.\n */\nexport interface WidgetDefinition extends ItemDefinition<WidgetFactory, WidgetLike> {\n\t/**\n\t * Any listeners that should automatically be attached to the widget.\n\t */\n\tlisteners?: WidgetListenersMap;\n\n\t/**\n\t * Initial state, to be added to the widget's store, if any.\n\t */\n\tstate?: any;\n\n\t/**\n\t * Identifier of a store which the widget should observe for its state.\n\t *\n\t * When the widget is created, the store is passed as the `stateFrom` option.\n\t *\n\t * Note that the `DEFAULT_ACTION_STORE` and `DEFAULT_WIDGET_STORE` identifiers are not supported. The default widget\n\t * store is automatically used if stateFrom is not provided.\n\t */\n\tstateFrom?: Identifier | StoreLike;\n\n\t/**\n\t * Optional options object passed to the widget factory. Must not contain `id`, `listeners` and `stateFrom`\n\t * properties.\n\t */\n\toptions?: Object;\n}\n\n/**\n * A listener for widgets, as used in definitions. May be an identifier for an action or an actual event listener.\n */\nexport type WidgetListener = Identifier | EventedListener<any>;\n\nexport type WidgetListenerOrArray = WidgetListener | WidgetListener[];\n\n/**\n * A map of listeners where the key is the event type.\n */\nexport interface WidgetListenersMap {\n\t[eventType: string]: WidgetListenerOrArray;\n}\n\n/**\n * Read-only interface to access actions, custom element factories, stores and widgets.\n *\n * Used in helper modules which shouldn't write to the app registry.\n */\nexport interface ReadOnlyRegistry {\n\t/**\n\t * Get the action with the given identifier.\n\t *\n\t * Note that the action may still need to be loaded when this method is called.\n\t *\n\t * @param id Identifier for the action\n\t * @return A promise for when the action has been loaded. Rejected if loading fails or if no action is registered\n\t *   with the given identifier.\n\t */\n\tgetAction(id: Identifier): Promise<ActionLike>;\n\n\t/**\n\t * Check whether an action has been registered with the given identifier.\n\t *\n\t * @param id Identifier for the action\n\t * @return `true` if an action has been registered, `false` otherwise.\n\t */\n\thasAction(id: Identifier): boolean;\n\n\t/**\n\t * Look up the identifier for which the given action has been registered.\n\t *\n\t * Throws if the value hasn't been registered.\n\t *\n\t * @param action The action\n\t * @return The identifier\n\t */\n\tidentifyAction(action: ActionLike): Identifier;\n\n\t/**\n\t * Get the factory for the custom element with the given name.\n\t *\n\t * @param name Name of the custom element\n\t * @return A factory to create a widget for the custom element.\n\t */\n\tgetCustomElementFactory(name: string): WidgetFactory;\n\n\t/**\n\t * Check whether a custom element has been registered with the given name.\n\t *\n\t * @param name Name of the custom element\n\t * @return `true` if a custom element has been registered, `false` otherwise.\n\t */\n\thasCustomElementFactory(name: string): boolean;\n\n\t/**\n\t * Get the store with the given identifier.\n\t *\n\t * Note that the store may still need to be loaded when this method is called.\n\t *\n\t * @param id Identifier for the store\n\t * @return A promise for when the store has been loaded. Rejected if loading fails or if no store is registered\n\t *   with the given identifier.\n\t */\n\tgetStore(id: Identifier | symbol): Promise<StoreLike>;\n\n\t/**\n\t * Check whether a store has been registered with the given identifier.\n\t *\n\t * @param id Identifier for the store\n\t * @return `true` if a store has been registered, `false` otherwise.\n\t */\n\thasStore(id: Identifier | symbol): boolean;\n\n\t/**\n\t * Look up the identifier for which the given store has been registered.\n\t *\n\t * Throws if the value hasn't been registered.\n\t *\n\t * @param store The store\n\t * @return The identifier\n\t */\n\tidentifyStore(store: StoreLike): Identifier | symbol;\n\n\t/**\n\t * Create a new widget and add it to the registry.\n\t *\n\t * @param factory Factory to create the widget\n\t * @param options Options to be passed to the factory. Automatically extended with the `registryProvider` option,\n\t *   and the `stateFrom` option if an `id` was present and the application factory has a default store.\n\t * @return A promise for a tuple containing the ID of the created widget, and the widget instance itself.\n\t */\n\tcreateWidget<U extends Child, O>(factory: ComposeFactory<U, O>, options?: O): Promise<[string, U]>;\n\n\t/**\n\t * Get the widget with the given identifier.\n\t *\n\t * Note that the widget may still need to be loaded when this method is called.\n\t *\n\t * @param id Identifier for the widget\n\t * @return A promise for when the widget has been loaded. Rejected if loading fails or if no widget is registered\n\t *   with the given identifier.\n\t */\n\tgetWidget(id: Identifier): Promise<WidgetLike>;\n\n\t/**\n\t * Check whether a widget has been registered or would be created based on an associated state record for the given identifier.\n\t *\n\t * @param id Identifier for the widget\n\t * @return A promise that will resolve to `true` if a widget has been registered or would be created, `false` otherwise.\n\t */\n\thasWidget(id: Identifier): Promise<boolean>;\n\n\t/**\n\t * Look up the identifier for which the given widget has been registered.\n\t *\n\t * Throws if the value hasn't been registered.\n\t *\n\t * @param widget The widget\n\t * @return The identifier\n\t */\n\tidentifyWidget(widget: WidgetLike): Identifier;\n}\n\nexport interface AppMixin {\n\t/**\n\t * A default store to be used as the `stateFrom` option to action factories, unless another store is specified.\n\t */\n\tdefaultActionStore?: StoreLike;\n\n\t/**\n\t * A default store to be used as the `stateFrom` option to widget and custom element factories, unless another\n\t * store is specified.\n\t */\n\tdefaultWidgetStore?: StoreLike;\n\n\t/**\n\t * Provides access to read-only registries for actions, stores and widgets.\n\t */\n\treadonly registryProvider: RegistryProvider;\n\n\t/**\n\t * Register an action with the app.\n\t *\n\t * @param id How the action is identified\n\t * @param action The action to be registered\n\t * @return A handle to deregister the action\n\t */\n\tregisterAction(id: Identifier, action: ActionLike): Handle;\n\n\t/**\n\t * Register an action factory with the app.\n\t *\n\t * The factory will be called the first time the action is needed. It'll be called with an options object that has\n\t * a `registryProvider` property containing a RegistryProvider implementation for the app. If a default action store\n\t * is available it'll be passed as the `stateFrom` property. It's the factories responsibility to create an action\n\t * that observes the store.\n\t *\n\t * Note that the `createAction()` factory from `dojo-actions` cannot be used here since it requires you to define\n\t * the `do()` implementation, which the app factory does not allow.\n\t *\n\t * @param id How the action is identified\n\t * @param factory A factory function that (asynchronously) creates an action.\n\t * @return A handle to deregister the action factory, or the action itself once it's been created\n\t */\n\tregisterActionFactory(id: Identifier, factory: ActionFactory): Handle;\n\n\t/**\n\t * Register a widget factory for a custom element.\n\t *\n\t * The factory will be called each time a widget instance is needed. It may be called with an options argument\n\t * derived from a `data-options` attribute on the custom element that is to be be replaced by the created widget.\n\t *\n\t * @param name The name of the custom element. Must be valid according to\n\t *   <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\n\t * @param factory A factory that (asynchronously) creates a widget.\n\t * @return A handle to deregister the custom element\n\t */\n\tregisterCustomElementFactory(name: string, factory: WidgetFactory): Handle;\n\n\t/**\n\t * Register a store with the app.\n\t *\n\t * @param id How the store is identified\n\t * @param store The store to be registered\n\t * @return A handle to deregister the store\n\t */\n\tregisterStore(id: Identifier, store: StoreLike): Handle;\n\n\t/**\n\t * Register a store factory with the app.\n\t *\n\t * The factory will be called the first time the store is needed. It'll be called *without* any arguments.\n\t *\n\t * @param id How the store is identified\n\t * @param factory A factory function that (asynchronously) creates a store.\n\t * @return A handle to deregister the store factory, or the store itself once it's been created\n\t */\n\tregisterStoreFactory(id: Identifier, factory: StoreFactory): Handle;\n\n\t/**\n\t * Register a widget with the app.\n\t *\n\t * @param id How the widget is identified\n\t * @param widget The widget to be registered\n\t * @return A handle to deregister the widget\n\t */\n\tregisterWidget(id: Identifier, widget: WidgetLike): Handle;\n\n\t/**\n\t * Register a widget factory with the app.\n\t *\n\t * The factory will be called the first time the widget is needed. It'll be called with an options object\n\t * that has its `id` property set to the widget ID, and a `registryProvider` property containing a RegistryProvider\n\t * implementation for the app. If a default widget store is available it'll be passed as the `stateFrom` property.\n\t *\n\t * @param id How the widget is identified\n\t * @param factory A factory function that (asynchronously) creates a widget.\n\t * @return A handle to deregister the widget factory, or the widget itself once it's been created\n\t */\n\tregisterWidgetFactory(id: Identifier, factory: WidgetFactory): Handle;\n\n\t/**\n\t * Load a POJO definition containing actions, stores and widgets that need to be registered.\n\t *\n\t * All factories will be called with an options object.\n\t *\n\t * @return A handle to deregister *all* actions, stores and widgets that were registered.\n\t */\n\tloadDefinition(definitions: Definitions): Handle;\n\n\t/**\n\t * Extract declarative definition custom elements in the root and render widgets.\n\t *\n\t * @param root The root element that is searched for custom elements\n\t * @return A handle to detach rendered widgets from the DOM and remove them from the widget registry\n\t */\n\trealize(root: Element): Promise<Handle>;\n}\n\nexport type App = AppMixin & ReadOnlyRegistry;\n\nexport interface AppOptions {\n\t/**\n\t * A default store to be used as the `stateFrom` option to action factories, unless another store is specified.\n\t */\n\tdefaultActionStore?: StoreLike;\n\n\t/**\n\t * A default store to be used as the `stateFrom` option to widget and custom element factories, unless another\n\t * store is specified.\n\t */\n\tdefaultWidgetStore?: StoreLike;\n\n\t/**\n\t * Function that maps a (relative) module identifier to an absolute one. Used to resolve relative module\n\t * identifiers in definitions.\n\t */\n\ttoAbsMid?: ToAbsMid;\n}\n\nexport interface AppFactory extends ComposeFactory<App, AppOptions> {}\n\n/**\n * Identifier for the default action store, if any.\n */\nexport const DEFAULT_ACTION_STORE = Symbol('Identifier for default action stores');\n\n/**\n * Identifier for the default widget store, if any.\n */\nexport const DEFAULT_WIDGET_STORE = Symbol('Identifier for default widget stores');\n\nconst generateWidgetId = makeIdGenerator('app-widget-');\n\nconst noop = () => {};\n\ntype RegisteredFactory<T> = () => T | Promise<T>;\n\ninterface PrivateState {\n\treadonly actionFactories: IdentityRegistry<RegisteredFactory<ActionLike>>;\n\treadonly customElementFactories: IdentityRegistry<WidgetFactory>;\n\treadonly identifiers: Set<Identifier>;\n\treadonly instanceRegistry: InstanceRegistry;\n\treadonly registryProvider: RegistryProvider;\n\treadonly resolveMid: ResolveMid;\n\treadonly storeFactories: IdentityRegistry<RegisteredFactory<StoreLike>>;\n\treadonly widgetFactories: IdentityRegistry<RegisteredFactory<WidgetLike>>;\n\treadonly widgetInstances: IdentityRegistry<WidgetLike>;\n}\n\nconst privateStateMap = new WeakMap<App, PrivateState>();\n\nfunction addIdentifier(app: App, id: Identifier) {\n\tconst { identifiers } = privateStateMap.get(app);\n\tif (identifiers.has(id)) {\n\t\tthrow new Error(`'${id}' has already been used as an identifier`);\n\t}\n\n\tidentifiers.add(id);\n\n\treturn {\n\t\tdestroy(this: Handle) {\n\t\t\tthis.destroy = noop;\n\t\t\tidentifiers.delete(id);\n\t\t}\n\t};\n}\n\nfunction createCustomWidget(app: App, id: string) {\n\tconst { registryProvider, defaultWidgetStore } = app;\n\tlet factoryHandle: Handle;\n\t// istanbul ignore if\n\tif (!defaultWidgetStore) {\n\t\tthrow new Error('A default widget store must be configured in order to create custom widgets');\n\t}\n\n\treturn defaultWidgetStore.get(id).then((state: any) => {\n\t\tconst { customElementFactories, widgetFactories, widgetInstances } = privateStateMap.get(app);\n\n\t\tconst hasRegisteredFactory = widgetFactories.has(id);\n\t\tconst hasRegisteredInstance = widgetInstances.has(id);\n\n\t\tif (!hasRegisteredFactory && !hasRegisteredInstance) {\n\t\t\tconst customFactory = customElementFactories.get(state.type);\n\t\t\tfactoryHandle = app.registerWidgetFactory(id, customFactory);\n\t\t}\n\n\t\treturn app.getWidget(id);\n\t}).then((widget) => {\n\t\twidget.own(factoryHandle);\n\t\treturn widget;\n\t});\n}\n\nfunction registerInstance(app: App, instance: WidgetLike, id: string): Handle {\n\tconst { instanceRegistry, widgetInstances } = privateStateMap.get(app);\n\n\t// Maps the instance to its ID\n\tconst instanceHandle = instanceRegistry.addWidget(instance, id);\n\t// Maps the ID to the instance\n\tconst idHandle = widgetInstances.register(id, instance);\n\n\treturn {\n\t\tdestroy(this: Handle) {\n\t\t\tthis.destroy = noop;\n\t\t\tinstanceHandle.destroy();\n\t\t\tidHandle.destroy();\n\t\t}\n\t};\n}\n\nconst createApp = compose({\n\tset defaultActionStore(store: StoreLike) {\n\t\tconst { instanceRegistry, storeFactories } = privateStateMap.get(this);\n\t\tinstanceRegistry.addStore(store, DEFAULT_ACTION_STORE);\n\t\tstoreFactories.register(DEFAULT_ACTION_STORE, () => store);\n\t},\n\n\tget defaultActionStore(this: App) {\n\t\tconst { storeFactories } = privateStateMap.get(this);\n\t\tif (storeFactories.has(DEFAULT_ACTION_STORE)) {\n\t\t\treturn <StoreLike> storeFactories.get(DEFAULT_ACTION_STORE)();\n\t\t}\n\t},\n\n\tset defaultWidgetStore(store: StoreLike) {\n\t\tconst { instanceRegistry, storeFactories } = privateStateMap.get(this);\n\t\tinstanceRegistry.addStore(store, DEFAULT_WIDGET_STORE);\n\t\tstoreFactories.register(DEFAULT_WIDGET_STORE, () => store);\n\t},\n\n\tget defaultWidgetStore(this: App) {\n\t\tconst { storeFactories } = privateStateMap.get(this);\n\t\tif (storeFactories.has(DEFAULT_WIDGET_STORE)) {\n\t\t\treturn <StoreLike> storeFactories.get(DEFAULT_WIDGET_STORE)();\n\t\t}\n\t},\n\n\tget registryProvider(this: App) {\n\t\treturn privateStateMap.get(this).registryProvider;\n\t},\n\n\tregisterAction(this: App, id: Identifier, action: ActionLike): Handle {\n\t\tconst { actionFactories, instanceRegistry } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\t\tconst instanceHandle = instanceRegistry.addAction(action, id);\n\n\t\tlet registryHandle = actionFactories.register(id, () => {\n\t\t\tconst promise = new Promise<void>((resolve) => {\n\t\t\t\tresolve(action.configure(this.registryProvider));\n\t\t\t})\n\t\t\t.then(() => action);\n\n\t\t\t// Replace the registered factory to ensure the action is not configured twice.\n\t\t\tregistryHandle.destroy();\n\t\t\tregistryHandle = actionFactories.register(id, () => promise);\n\n\t\t\treturn promise;\n\t\t});\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tinstanceHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterActionFactory(this: App, id: Identifier, factory: ActionFactory): Handle {\n\t\tconst { actionFactories, instanceRegistry } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\n\t\tlet destroyed = false;\n\t\tlet instanceHandle: Handle;\n\t\tlet registryHandle = actionFactories.register(id, () => {\n\t\t\tconst promise = Promise.resolve()\n\t\t\t\t.then(() => {\n\t\t\t\t\t// Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t\t\t\t\t// factory is registered through this method or loaded from a definition.\n\n\t\t\t\t\tconst { defaultActionStore: stateFrom, registryProvider } = this;\n\t\t\t\t\treturn factory({ registryProvider, stateFrom });\n\t\t\t\t})\n\t\t\t\t.then((action) => {\n\t\t\t\t\tif (!destroyed) {\n\t\t\t\t\t\tinstanceHandle = instanceRegistry.addAction(action, id);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Configure the action, allow for a promise to be returned.\n\t\t\t\t\treturn Promise.resolve(action.configure(this.registryProvider)).then(() => {\n\t\t\t\t\t\treturn action;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t// Replace the registered factory to ensure next time this action is needed, the same action is returned.\n\t\t\tregistryHandle.destroy();\n\t\t\tregistryHandle = actionFactories.register(id, () => promise);\n\n\t\t\treturn promise;\n\t\t});\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tdestroyed = true;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t\tif (instanceHandle) {\n\t\t\t\t\tinstanceHandle.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterCustomElementFactory(this: App, name: string, factory: WidgetFactory): Handle {\n\t\tif (!isValidName(name)) {\n\t\t\tthrow new SyntaxError(`'${name}' is not a valid custom element name`);\n\t\t}\n\n\t\t// Wrap the factory since the registry cannot store frozen factories, and dojo-compose creates\n\t\t// frozen factories…\n\t\tconst wrapped = (options: WidgetFactoryOptions) => factory(options);\n\n\t\t// Note that each custom element requires a new widget, so there's no need to replace the\n\t\t// registered factory.\n\t\tconst registryHandle = privateStateMap.get(this).customElementFactories.register(normalizeName(name), wrapped);\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tregistryHandle.destroy();\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterStore(this: App, id: Identifier, store: StoreLike): Handle {\n\t\tconst { instanceRegistry, storeFactories } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\t\tconst instanceHandle = instanceRegistry.addStore(store, id);\n\t\tconst registryHandle = storeFactories.register(id, () => store);\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tinstanceHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterStoreFactory(this: App, id: Identifier, factory: StoreFactory): Handle {\n\t\tconst { instanceRegistry, storeFactories } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\n\t\tlet destroyed = false;\n\t\tlet instanceHandle: Handle;\n\t\tlet registryHandle = storeFactories.register(id, () => {\n\t\t\tconst promise = Promise.resolve().then(() => {\n\t\t\t\t// Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t\t\t\t// factory is registered through this method or loaded from a definition.\n\t\t\t\treturn factory();\n\t\t\t}).then((store) => {\n\t\t\t\tif (!destroyed) {\n\t\t\t\t\tinstanceHandle = instanceRegistry.addStore(store, id);\n\t\t\t\t}\n\n\t\t\t\treturn store;\n\t\t\t});\n\t\t\t// Replace the registered factory to ensure next time this store is needed, the same store is returned.\n\t\t\tregistryHandle.destroy();\n\t\t\tregistryHandle = storeFactories.register(id, () => promise);\n\t\t\treturn promise;\n\t\t});\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tdestroyed = true;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t\tif (instanceHandle) {\n\t\t\t\t\tinstanceHandle.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterWidget(this: App, id: Identifier, widget: WidgetLike): Handle {\n\t\tconst { instanceRegistry, widgetFactories } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\t\tconst instanceHandle = instanceRegistry.addWidget(widget, id);\n\t\tconst registryHandle = widgetFactories.register(id, () => widget);\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tinstanceHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t}\n\t\t};\n\t},\n\n\tregisterWidgetFactory(this: App, id: Identifier, factory: WidgetFactory): Handle {\n\t\tconst { instanceRegistry, widgetFactories } = privateStateMap.get(this);\n\n\t\tconst idHandle = addIdentifier(this, id);\n\n\t\tlet destroyed = false;\n\t\tlet instanceHandle: Handle;\n\t\tlet registryHandle = widgetFactories.register(id, () => {\n\t\t\tconst promise = Promise.resolve().then(() => {\n\t\t\t\t// Always call the factory in a future turn. This harmonizes behavior regardless of whether the\n\t\t\t\t// factory is registered through this method or loaded from a definition.\n\n\t\t\t\tconst { registryProvider, defaultWidgetStore } = this;\n\t\t\t\tconst options: WidgetFactoryOptions = { id, registryProvider };\n\t\t\t\tif (defaultWidgetStore) {\n\t\t\t\t\toptions.stateFrom = defaultWidgetStore;\n\t\t\t\t}\n\t\t\t\treturn factory(options);\n\t\t\t}).then((widget) => {\n\t\t\t\tif (!destroyed) {\n\t\t\t\t\tinstanceHandle = instanceRegistry.addWidget(widget, id);\n\t\t\t\t}\n\n\t\t\t\treturn widget;\n\t\t\t});\n\t\t\t// Replace the registered factory to ensure next time this widget is needed, the same widget is returned.\n\t\t\tregistryHandle.destroy();\n\t\t\tregistryHandle = widgetFactories.register(id, () => promise);\n\t\t\treturn promise;\n\t\t});\n\n\t\treturn {\n\t\t\tdestroy(this: Handle) {\n\t\t\t\tthis.destroy = noop;\n\t\t\t\tdestroyed = true;\n\t\t\t\tidHandle.destroy();\n\t\t\t\tregistryHandle.destroy();\n\t\t\t\tif (instanceHandle) {\n\t\t\t\t\tinstanceHandle.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\n\tloadDefinition(this: App, { actions, customElements, stores, widgets }: Definitions): Handle {\n\t\tconst { resolveMid } = privateStateMap.get(this);\n\n\t\tconst handles: Handle[] = [];\n\n\t\tif (actions) {\n\t\t\tfor (const definition of actions) {\n\t\t\t\tconst factory = makeActionFactory(definition, resolveMid, this);\n\t\t\t\tconst handle = this.registerActionFactory(definition.id, factory);\n\t\t\t\thandles.push(handle);\n\t\t\t}\n\t\t}\n\n\t\tif (customElements) {\n\t\t\tfor (const definition of customElements) {\n\t\t\t\tconst factory = makeCustomElementFactory(definition, resolveMid);\n\t\t\t\tconst handle = this.registerCustomElementFactory(definition.name, factory);\n\t\t\t\thandles.push(handle);\n\t\t\t}\n\t\t}\n\n\t\tif (stores) {\n\t\t\tfor (const definition of stores) {\n\t\t\t\tconst factory = makeStoreFactory(definition, resolveMid);\n\t\t\t\tconst handle = this.registerStoreFactory(definition.id, factory);\n\t\t\t\thandles.push(handle);\n\t\t\t}\n\t\t}\n\n\t\tif (widgets) {\n\t\t\tfor (const definition of widgets) {\n\t\t\t\tconst factory = makeWidgetFactory(definition, resolveMid, this);\n\t\t\t\tconst handle = this.registerWidgetFactory(definition.id, factory);\n\t\t\t\thandles.push(handle);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tfor (const handle of handles.splice(0, handles.length)) {\n\t\t\t\t\thandle.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\n\trealize(this: App, root: Element) {\n\t\tconst { resolveMid } = privateStateMap.get(this);\n\n\t\treturn extractRegistrationElements(resolveMid, root)\n\t\t\t.then(({ actions, customElements, defaultStores, stores, widgets }) => {\n\t\t\t\tconst definitionHandle = this.loadDefinition({ actions, customElements, stores, widgets });\n\t\t\t\tif (defaultStores.length === 0) {\n\t\t\t\t\treturn definitionHandle;\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all(defaultStores.map((definition) => {\n\t\t\t\t\t// N.B. The ID is ignored by the store factory\n\t\t\t\t\tconst { id: type } = definition;\n\t\t\t\t\tconst factory = makeStoreFactory(definition, resolveMid);\n\t\t\t\t\treturn Promise.resolve(factory())\n\t\t\t\t\t\t.then((store) => {\n\t\t\t\t\t\t\tif (type === 'action') {\n\t\t\t\t\t\t\t\tthis.defaultActionStore = store;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.defaultWidgetStore = store;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}))\n\t\t\t\t.then(() => definitionHandle);\n\t\t\t})\n\t\t\t.then((definitionHandle) => {\n\t\t\t\treturn realizeCustomElements(\n\t\t\t\t\t(id) => addIdentifier(this, id),\n\t\t\t\t\t(instance: WidgetLike, id: string) => registerInstance(this, instance, id),\n\t\t\t\t\tthis,\n\t\t\t\t\tthis.registryProvider,\n\t\t\t\t\troot,\n\t\t\t\t\tthis.defaultWidgetStore\n\t\t\t\t)\n\t\t\t\t.then((realizationHandle) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdestroy(this: Handle) {\n\t\t\t\t\t\t\tthis.destroy = noop;\n\t\t\t\t\t\t\tdefinitionHandle.destroy();\n\t\t\t\t\t\t\trealizationHandle.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t});\n\t}\n})\n.mixin({\n\tmixin: {\n\t\tgetAction(this: App, id: Identifier): Promise<ActionLike> {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(privateStateMap.get(this).actionFactories.get(id)());\n\t\t\t});\n\t\t},\n\n\t\thasAction(this: App, id: Identifier): boolean {\n\t\t\treturn privateStateMap.get(this).actionFactories.has(id);\n\t\t},\n\n\t\tidentifyAction(this: App, action: ActionLike): string {\n\t\t\treturn privateStateMap.get(this).instanceRegistry.identifyAction(action);\n\t\t},\n\n\t\tgetCustomElementFactory(this: App, name: string): WidgetFactory {\n\t\t\treturn privateStateMap.get(this).customElementFactories.get(name);\n\t\t},\n\n\t\thasCustomElementFactory(this: App, name: string) {\n\t\t\treturn privateStateMap.get(this).customElementFactories.has(name);\n\t\t},\n\n\t\tgetStore(this: App, id: Identifier | symbol): Promise<StoreLike> {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(privateStateMap.get(this).storeFactories.get(id)());\n\t\t\t});\n\t\t},\n\n\t\thasStore(this: App, id: Identifier | symbol): boolean {\n\t\t\treturn privateStateMap.get(this).storeFactories.has(id);\n\t\t},\n\n\t\tidentifyStore(this: App, store: StoreLike): Identifier | symbol {\n\t\t\treturn privateStateMap.get(this).instanceRegistry.identifyStore(store);\n\t\t},\n\n\t\tcreateWidget<U extends Child, O extends WidgetFactoryOptions>(\n\t\t\tthis: App,\n\t\t\tfactory: ComposeFactory<U, O>,\n\t\t\toptions: any = {}\n\t\t): Promise<[ string, U ]> {\n\t\t\tconst { defaultWidgetStore, registryProvider } = this;\n\t\t\tconst { id = generateWidgetId() } = options;\n\t\t\t// Like for custom elements, don't add the generated ID to the options.\n\n\t\t\tconst { widgetFactories, widgetInstances } = privateStateMap.get(this);\n\n\t\t\t// Ensure no other widget with this ID exists.\n\t\t\tif (widgetFactories.has(id) || widgetInstances.has(id)) {\n\t\t\t\treturn Promise.reject(new Error(`A widget with ID '${id}' already exists`));\n\t\t\t}\n\n\t\t\tif (!options.registryProvider) {\n\t\t\t\toptions.registryProvider = registryProvider;\n\t\t\t}\n\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tif (options.id && (options.stateFrom || defaultWidgetStore)) {\n\t\t\t\t\tconst store: StoreLike = options.stateFrom = options.stateFrom || defaultWidgetStore;\n\n\t\t\t\t\t// We will attempt to create an initial state, if it isn't present in the store\n\t\t\t\t\tconst state = { id };\n\t\t\t\t\tif (options.state) {\n\t\t\t\t\t\tassign(state, options.state);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO: What happens if the store rejects?\n\t\t\t\t\tresolve(store.add(state));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tconst widget = factory(options);\n\t\t\t\t// Add the instance to the various registries the app may maintain.\n\t\t\t\t//\n\t\t\t\t// No need to trap registerInstance for duplicates, because we are creating new\n\t\t\t\t// in this function\n\t\t\t\twidget.own(registerInstance(this, widget, id));\n\t\t\t\treturn [ id, widget ];\n\t\t\t});\n\t\t},\n\n\t\tgetWidget(this: App, id: Identifier): Promise<WidgetLike> {\n\t\t\t// Widgets either need to be resolved from a factory, or have been created when realizing\n\t\t\t// custom elements.\n\t\t\tconst { widgetFactories: factories, widgetInstances: instances } = privateStateMap.get(this);\n\n\t\t\tlet missingFactory: any;\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tlet factory: WidgetFactory;\n\t\t\t\ttry {\n\t\t\t\t\tfactory = factories.get(id);\n\t\t\t\t\t// Don't call the factory yet. Errors thrown during its execution should be differentiated from\n\t\t\t\t\t// errors thrown when getting the factory.\n\t\t\t\t}\n\t\t\t\tcatch (err) {\n\t\t\t\t\tmissingFactory = err;\n\t\t\t\t\tresolve(Promise.reject(err));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Be sure to call the factory synchronously.\n\t\t\t\tresolve(factory());\n\t\t\t}).catch((err) => {\n\t\t\t\tif (missingFactory && instances.has(id)) {\n\t\t\t\t\treturn instances.get(id);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t}\n\t\t\t}).catch((err) => {\n\t\t\t\tif (missingFactory && this.defaultWidgetStore) {\n\t\t\t\t\t// Note that errors thrown by the createCustomWidget are masked by the missingFactory error.\n\t\t\t\t\treturn createCustomWidget(this, id);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t}\n\t\t\t}).catch((err) => {\n\t\t\t\treturn Promise.reject(missingFactory || err);\n\t\t\t});\n\t\t},\n\n\t\thasWidget(this: App, id: Identifier): Promise<boolean> {\n\t\t\tconst { customElementFactories, widgetFactories, widgetInstances } = privateStateMap.get(this);\n\t\t\tconst { defaultWidgetStore } = this;\n\n\t\t\tlet exists: Promise<boolean> | boolean = widgetFactories.has(id) || widgetInstances.has(id);\n\n\t\t\tif (exists || !defaultWidgetStore) {\n\t\t\t\treturn Promise.resolve(exists);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn defaultWidgetStore.get(id).then(({ type }) => customElementFactories.has(type));\n\t\t\t}\n\t\t},\n\n\t\tidentifyWidget(this: App, widget: WidgetLike): string {\n\t\t\treturn privateStateMap.get(this).instanceRegistry.identifyWidget(widget);\n\t\t}\n\t},\n\n\tinitialize (\n\t\tinstance: App,\n\t\t{\n\t\t\tdefaultActionStore,\n\t\t\tdefaultWidgetStore,\n\t\t\ttoAbsMid = (moduleId: string) => moduleId\n\t\t}: AppOptions = {}\n\t) {\n\t\tprivateStateMap.set(instance, {\n\t\t\tactionFactories: new IdentityRegistry<RegisteredFactory<ActionLike>>(),\n\t\t\tcustomElementFactories: new IdentityRegistry<RegisteredFactory<WidgetLike>>(),\n\t\t\tidentifiers: new Set<Identifier>(),\n\t\t\tinstanceRegistry: new InstanceRegistry(),\n\t\t\tregistryProvider: new RegistryProvider(instance),\n\t\t\tresolveMid: makeMidResolver(toAbsMid),\n\t\t\tstoreFactories: new IdentityRegistry<RegisteredFactory<StoreLike>>(),\n\t\t\twidgetFactories: new IdentityRegistry<RegisteredFactory<WidgetLike>>(),\n\t\t\twidgetInstances: new IdentityRegistry<WidgetLike>()\n\t\t});\n\n\t\tif (defaultActionStore) {\n\t\t\tinstance.defaultActionStore = defaultActionStore;\n\t\t}\n\t\tif (defaultWidgetStore) {\n\t\t\tinstance.defaultWidgetStore = defaultWidgetStore;\n\t\t}\n\t}\n}) as AppFactory;\n\nexport default createApp;\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/createApp.ts","import { EventedListenersMap } from 'dojo-compose/mixins/createEvented';\nimport { Handle } from 'dojo-core/interfaces';\nimport { from as arrayFrom } from 'dojo-shim/array';\nimport Promise from 'dojo-shim/Promise';\nimport Set from 'dojo-shim/Set';\nimport Map from 'dojo-shim/Map';\nimport { place, Position } from 'dojo-dom/dom';\nimport { createProjector, Projector } from 'dojo-widgets/projector';\n\nimport {\n\tReadOnlyRegistry,\n\tRegistryProvider,\n\tStoreLike,\n\tWidgetFactory,\n\tWidgetFactoryOptions,\n\tWidgetLike,\n\tWidgetListenersMap\n} from '../createApp';\nimport makeIdGenerator from './makeIdGenerator';\nimport parseJsonAttribute from './parseJsonAttribute';\nimport resolveListenersMap from './resolveListenersMap';\n\nconst reservedNames = new Set([\n\t// According to <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\n\t'annotation-xml',\n\t'color-profile',\n\t'font-face',\n\t'font-face-src',\n\t'font-face-uri',\n\t'font-face-format',\n\t'font-face-name',\n\t'missing-glyph'\n]);\n\n// According to <https://www.w3.org/TR/custom-elements/#valid-custom-element-name>.\nexport function isValidName(name: string): boolean {\n\tif (!/^[a-z]/.test(name)) { // Names must start with a lowercase ASCII letter\n\t\treturn false;\n\t}\n\n\tif (name.indexOf('-') === -1) { // Names must contain at least one hyphen\n\t\treturn false;\n\t}\n\n\tif (/[A-Z]/.test(name)) { // Names must not include uppercase ASCII letters\n\t\treturn false;\n\t}\n\n\tif (reservedNames.has(name)) { // Reserved names must not be used.\n\t\treturn false;\n\t}\n\n\tif (/^app-/.test(name)) { // Names must not start with app-\n\t\treturn false;\n\t}\n\n\t// Assume name does not contain other invalid characters.\n\t// TODO: Are the above rules sufficiently exclusive given the allowed PCENChar characters in the\n\t// <https://www.w3.org/TR/custom-elements/#valid-custom-element-name> specification?\n\treturn true;\n}\n\n// <https://www.w3.org/TR/custom-elements/#look-up-a-custom-element-definition> doesn't define *how* names\n// are to be compared. Additionally browsers and document modes differ in the case used for Element#tagName\n// values. Lowercasing the name is the most compatible solution. This is also the approach taken by the\n// Web Components polyfill:\n// <https://github.com/webcomponents/webcomponentsjs/blob/251f4afedec0ce649728fa1cf22e4fc16bf2bea5/src/CustomElements/register.js#L93>\nexport function normalizeName(name: string): string {\n\treturn name.toLowerCase();\n}\n\ninterface CustomElement {\n\treadonly children: CustomElement[];\n\treadonly element: Element;\n\treadonly name: string;\n\twidget?: WidgetLike;\n}\n\nfunction isCustomElement(registry: ReadOnlyRegistry, name: string): boolean {\n\treturn name === 'app-projector' || name === 'app-widget' || registry.hasCustomElementFactory(name);\n}\n\nfunction getCustomElementsByWidgetProjector(registry: ReadOnlyRegistry, root: Element): CustomElement[] {\n\tconst allElements: Element[] = arrayFrom(root.getElementsByTagName('*'));\n\tallElements.unshift(root); // Be inclusive!\n\n\tconst customElements: CustomElement[] = [];\n\tfor (const element of allElements) {\n\t\tlet name: string | undefined;\n\n\t\tconst tagName = normalizeName(element.tagName);\n\t\tif (isCustomElement(registry, tagName)) {\n\t\t\tname = tagName;\n\t\t}\n\t\telse {\n\t\t\tconst attrIs = normalizeName(element.getAttribute('is') || '');\n\t\t\tif (attrIs !== '' && isCustomElement(registry, attrIs)) {\n\t\t\t\tname = attrIs;\n\t\t\t}\n\t\t}\n\n\t\tif (name) {\n\t\t\tcustomElements.push({ children: [], element, name });\n\t\t}\n\t}\n\n\t// A list of trees, reconstructed from the `customElements`.\n\tconst widgetProjectors: CustomElement[] = [];\n\t// Inverse stack of the nodes in the current tree. The deepest node is at the start of the list.\n\tconst inverseStack: CustomElement[] = [];\n\n\tconst discardFirstNode = (element: Element) => {\n\t\tif (inverseStack.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Return `true` if the top-most element in the stack does *not* contain `element`.\n\t\treturn !(inverseStack[0].element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_CONTAINED_BY);\n\t};\n\n\t// `customElements` is a flat list of elements, in document order. Reconstruct a tree structure where each\n\t// root is assumed to be a widget projector.\n\tfor (const custom of customElements) {\n\t\t// Remove nodes from the stack that do not contain the element.\n\t\twhile (discardFirstNode(custom.element)) {\n\t\t\tinverseStack.shift();\n\t\t}\n\n\t\t// Start a new tree if the element is not contained in any existing node.\n\t\tif (inverseStack.length === 0) {\n\t\t\t// Don't costruct an invalid tree.\n\t\t\tif (custom.name !== 'app-projector') {\n\t\t\t\tthrow new Error('Custom tags must be rooted in a app-projector');\n\t\t\t}\n\n\t\t\twidgetProjectors.push(custom);\n\t\t}\n\t\t// Add the element to the deepest node it is contained by.\n\t\telse {\n\t\t\t// Don't costruct an invalid tree.\n\t\t\tif (custom.name === 'app-projector') {\n\t\t\t\tthrow new Error('app-projector cannot contain another app-projector');\n\t\t\t}\n\n\t\t\tinverseStack[0].children.push(custom);\n\t\t}\n\n\t\t// Prepare for the next iteration.\n\t\tinverseStack.unshift(custom);\n\t}\n\n\treturn widgetProjectors;\n}\n\nfunction getIdFromAttributes(element: Element): string | undefined {\n\treturn element.getAttribute('data-uid') || element.getAttribute('id') || undefined;\n}\n\ninterface JsonOptions {\n\treadonly id?: string;\n\treadonly listeners?: any;\n\treadonly stateFrom?: any;\n}\n\ninterface Options {\n\tid?: string;\n\treadonly listeners?: EventedListenersMap;\n\tregistryProvider: RegistryProvider;\n\treadonly stateFrom?: StoreLike;\n}\n\nfunction resolveListeners(registry: ReadOnlyRegistry, element: Element): null | Promise<EventedListenersMap> {\n\tconst str = element.getAttribute('data-listeners');\n\tif (!str) {\n\t\treturn null;\n\t}\n\n\tconst listeners = parseJsonAttribute<WidgetListenersMap>('data-listeners', str);\n\tlet valid = true;\n\t// Prefer breaking a labeled loop over nesting Array#some() calls or repeating the throwing of\n\t// the TypeError.\n\tcheck: for (const eventType in listeners) {\n\t\tconst value = listeners[eventType];\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (const identifier of value) {\n\t\t\t\tif (typeof identifier !== 'string') {\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak check;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (typeof value !== 'string') {\n\t\t\tvalid = false;\n\t\t\tbreak check;\n\t\t}\n\t}\n\n\tif (!valid) {\n\t\tthrow new TypeError(`Expected data-listeners to be a widget listeners map with action identifiers (in ${JSON.stringify(str)})`);\n\t}\n\n\treturn resolveListenersMap(registry, listeners);\n}\n\nfunction resolveOptions(registry: ReadOnlyRegistry, registryProvider: RegistryProvider, element: Element, idFromAttributes?: string): Options {\n\tconst str = element.getAttribute('data-options') || '';\n\tif (!str) {\n\t\treturn idFromAttributes ? { id: idFromAttributes, registryProvider } : { registryProvider };\n\t}\n\n\tconst json = parseJsonAttribute<JsonOptions>('data-options', str);\n\tif ('id' in json) {\n\t\tthrow new Error(`Unexpected id value in data-options (in ${JSON.stringify(str)})`);\n\t}\n\tif ('listeners' in json) {\n\t\tthrow new Error(`Unexpected listeners value in data-options (in ${JSON.stringify(str)})`);\n\t}\n\tif ('registryProvider' in json) {\n\t\tthrow new Error(`Unexpected registryProvider value in data-options (in ${JSON.stringify(str)})`);\n\t}\n\tif ('state' in json) {\n\t\tthrow new Error(`Unexpected state value in data-options (in ${JSON.stringify(str)})`);\n\t}\n\tif ('stateFrom' in json) {\n\t\tthrow new Error(`Unexpected stateFrom value in data-options (in ${JSON.stringify(str)})`);\n\t}\n\n\t// Reassign, casted to the correct interface.\n\tconst options = <Options> json;\n\toptions.registryProvider = registryProvider;\n\tif (idFromAttributes) {\n\t\toptions.id = idFromAttributes;\n\t}\n\treturn options;\n}\n\nfunction getTransitionOptionFromProjector(element: Element): boolean {\n\tif (!element.hasAttribute('data-css-transitions')) {\n\t\treturn false;\n\t}\n\tconst value = element.getAttribute('data-css-transitions');\n\treturn value ? value === 'true' : true;\n}\n\nfunction resolveStateFromAttribute(registry: ReadOnlyRegistry, element: Element): null | Promise<StoreLike> {\n\tconst stateFrom = element.getAttribute('data-state-from');\n\treturn stateFrom ? registry.getStore(stateFrom) : null;\n}\n\nfunction getInitialState(element: Element): null | Object {\n\tconst str = element.getAttribute('data-state') || '';\n\tif (!str) {\n\t\treturn null;\n\t}\n\n\treturn parseJsonAttribute('data-state', str);\n}\n\nconst generateId = makeIdGenerator('custom-element-');\n\n/**\n * Realizes custom elements within a root element.\n *\n * @param defaultWidgetStore The default widget store of the app, may be null.\n * @param registerInstance Callback for registering new widget instances with the app\n * @param registry Read-only registry of actions, custom element factories, stores and widgets\n * @param registryProvider Registry provider, to be passed to custom element factories\n * @param root The element within which custom elements are realized\n *\n * @return A handle to detach rendered widgets from the DOM and remove them from the widget registry\n */\nexport default function realizeCustomElements(\n\taddIdentifier: (id: string) => Handle,\n\tregisterInstance: (widget: WidgetLike, id: string) => Handle,\n\tregistry: ReadOnlyRegistry,\n\tregistryProvider: RegistryProvider,\n\troot: Element,\n\tdefaultWidgetStore?: StoreLike,\n): Promise<Handle> {\n\t// Bottom up, breadth first queue of custom elements who's children's widgets need to be appended to\n\t// their own widget. Combined for all widget projectors.\n\tconst appendQueue: CustomElement[] = [];\n\t// For each projector, track the immediate custom element descendants. These placeholder\n\t// elements will be replaced with rendered widgets.\n\tconst immediatePlaceholderLookup = new Map<Projector, CustomElement[]>();\n\t// Projector instances for each widget projector.\n\tconst projectors: Projector[] = [];\n\t// Widgets that are created during realization (not registered instances).\n\tconst managedWidgets: WidgetLike[] = [];\n\t// Other handles that need to be cleaned up.\n\tconst handles: Handle[] = [];\n\n\t// Return a new promise here so API errors can be thrown in the executor, while still resulting in a\n\t// promise rejection.\n\treturn new Promise<WidgetLike[]>((resolve) => {\n\t\t// Flat list of all widgets that are being loaded.\n\t\tconst loadedWidgets: Promise<WidgetLike>[] = [];\n\n\t\tconst widgetProjectors = getCustomElementsByWidgetProjector(registry, root);\n\t\tfor (const { children, element: root } of widgetProjectors) {\n\t\t\tconst cssTransitions = getTransitionOptionFromProjector(root);\n\t\t\tconst projector = createProjector({ root, cssTransitions });\n\t\t\timmediatePlaceholderLookup.set(projector, children);\n\t\t\tprojectors.push(projector);\n\n\t\t\tconst projectorStateFrom = resolveStateFromAttribute(registry, root);\n\n\t\t\t// Recursion-free, depth first processing of the tree.\n\t\t\tlet processing = [children];\n\t\t\twhile (true) {\n\t\t\t\tconst next = processing.shift();\n\t\t\t\tif (!next) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tfor (const custom of next) {\n\t\t\t\t\tconst isWidgetInstance = custom.name === 'app-widget';\n\t\t\t\t\tlet id = getIdFromAttributes(custom.element);\n\n\t\t\t\t\tlet promise: Promise<WidgetLike>;\n\t\t\t\t\tif (isWidgetInstance) {\n\t\t\t\t\t\tif (!id) {\n\t\t\t\t\t\t\tthrow new Error('app-widget requires data-uid or id attribute');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpromise = registry.getWidget(id);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tpromise = Promise.all<any>([\n\t\t\t\t\t\t\tregistry.getCustomElementFactory(custom.name),\n\t\t\t\t\t\t\tresolveListeners(registry, custom.element),\n\t\t\t\t\t\t\tresolveOptions(registry, registryProvider, custom.element, id),\n\t\t\t\t\t\t\tresolveStateFromAttribute(registry, custom.element),\n\t\t\t\t\t\t\tprojectorStateFrom\n\t\t\t\t\t\t]).then(([_factory, _listeners, _options, _store, projectorStore]) => {\n\t\t\t\t\t\t\tconst factory: WidgetFactory = _factory;\n\t\t\t\t\t\t\tconst listeners: EventedListenersMap = _listeners;\n\t\t\t\t\t\t\tconst options: WidgetFactoryOptions = _options;\n\t\t\t\t\t\t\t// `data-state-from` store of the element takes precedence, then of the projector, then\n\t\t\t\t\t\t\t// the application's default widget store.\n\t\t\t\t\t\t\tconst store: StoreLike = _store || projectorStore || defaultWidgetStore;\n\n\t\t\t\t\t\t\tid = options.id;\n\n\t\t\t\t\t\t\tif (listeners) {\n\t\t\t\t\t\t\t\toptions.listeners = listeners;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// If the widget has an ID, and either its `data-state-from` attribute resolved to a store,\n\t\t\t\t\t\t\t// or there is a default store, set the stateFrom option to the `data-state-from` or default\n\t\t\t\t\t\t\t// widget store.\n\t\t\t\t\t\t\tif (id && store) {\n\t\t\t\t\t\t\t\toptions.stateFrom = store;\n\n\t\t\t\t\t\t\t\tconst initialState = getInitialState(custom.element);\n\t\t\t\t\t\t\t\tif (initialState) {\n\t\t\t\t\t\t\t\t\treturn store.add(initialState, { id })\n\t\t\t\t\t\t\t\t\t\t// Ignore error, assume store already contains state for this widget.\n\t\t\t\t\t\t\t\t\t\t.catch(() => undefined)\n\t\t\t\t\t\t\t\t\t\t.then(() => factory(options));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn factory(options);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tloadedWidgets.push(promise.then((widget) => {\n\t\t\t\t\t\t// Store the widget for easy access.\n\t\t\t\t\t\tcustom.widget = widget;\n\n\t\t\t\t\t\t// Widget instances come straight from the registry, but the other widgets were created\n\t\t\t\t\t\t// whilst realizing the custom elements. These should be managed.\n\t\t\t\t\t\tif (!isWidgetInstance) {\n\t\t\t\t\t\t\tmanagedWidgets.push(widget);\n\n\t\t\t\t\t\t\t// Assign a presumably unique ID if necessary. It's OK for the widget to not be aware of its\n\t\t\t\t\t\t\t// generated ID.\n\t\t\t\t\t\t\tif (!id) {\n\t\t\t\t\t\t\t\tid = generateId();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Belatedly ensure no other widget with this ID exists.\n\t\t\t\t\t\t\thandles.push(addIdentifier(id));\n\n\t\t\t\t\t\t\t// Add the instance to the various registries the app may maintain.\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\thandles.push(registerInstance(widget, id));\n\t\t\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\t\t\t// registerInstance() will throw if the widget has already been registered. Throw a\n\t\t\t\t\t\t\t\t// friendlier error message.\n\t\t\t\t\t\t\t\tthrow new Error('Cannot attach a widget multiple times');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn widget;\n\t\t\t\t\t}));\n\n\t\t\t\t\tif (custom.children.length > 0) {\n\t\t\t\t\t\t// Ensure the children are processed.\n\t\t\t\t\t\tprocessing.push(custom.children);\n\t\t\t\t\t\t// Ensure the children are appended to their parent.\n\t\t\t\t\t\tappendQueue.unshift(custom);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Wait for all widgets to be loaded in parallel.\n\t\tresolve(Promise.all(loadedWidgets));\n\t}).then((widgets) => {\n\t\t// Guard against improper widget usage.\n\t\tfor (const widget of widgets) {\n\t\t\t// <any> hammer because `widget` could be anything.\n\t\t\tif ((<any> widget).parent) {\n\t\t\t\tthrow new Error('Cannot attach a widget that already has a parent');\n\t\t\t}\n\t\t}\n\n\t\t// Build up the widget hierarchy.\n\t\tfor (const custom of appendQueue) {\n\t\t\tconst widgets = custom.children.map(child => child.widget);\n\t\t\t// Assume the widget has an append() method. Don't bother typing it since it's resolved dynamically anyway.\n\t\t\t(<any> custom.widget).append(widgets);\n\t\t}\n\n\t\t// Attach all projectors at the same time.\n\t\tconst attachedProjectors = projectors.map((projector) => {\n\t\t\t// The lookup is guaranteed to contain custom elements, which are guaranteed to have a widget.\n\t\t\t// Cast to the RealizedElement type to avoid strict null check violations.\n\t\t\ttype RealizedElement = CustomElement & { widget: WidgetLike }\n\t\t\tconst immediatePlaceholders = <RealizedElement[]> immediatePlaceholderLookup.get(projector);\n\t\t\timmediatePlaceholderLookup.delete(projector);\n\n\t\t\t// Append the top-level widgets to the projector.\n\t\t\tprojector.append(immediatePlaceholders.map(custom => custom.widget));\n\n\t\t\t// Get ready to replace the placeholder elements as soon as the widgets have rendered.\n\t\t\tconst handle = projector.on('attach', () => {\n\t\t\t\thandle.destroy();\n\n\t\t\t\tconst { root } = projector;\n\t\t\t\t// Rendered widgets start at this offset.\n\t\t\t\tconst offset = root.childNodes.length - immediatePlaceholders.length;\n\t\t\t\tfor (const { element: placeholder } of immediatePlaceholders) {\n\t\t\t\t\tplace(root.childNodes[offset], Position.Replace, placeholder);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Now attach the projector.\n\t\t\treturn projector.attach({ type: 'merge' });\n\t\t});\n\n\t\t// Wait for the projectors to be attached.\n\t\treturn Promise.all(attachedProjectors);\n\t}).then(() => {\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tfor (const p of projectors) {\n\t\t\t\t\tp.destroy();\n\t\t\t\t}\n\t\t\t\tfor (const w of managedWidgets) {\n\t\t\t\t\tw.destroy();\n\t\t\t\t}\n\t\t\t\tfor (const h of handles) {\n\t\t\t\t\th.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/realizeCustomElements.ts","export default function parseJsonAttribute<O extends Object>(name: string, value: string): O {\n\tlet object: O;\n\ttry {\n\t\tobject = JSON.parse(value);\n\t}\n\tcatch (err) {\n\t\tthrow new SyntaxError(`Invalid ${name}: ${err.message} (in ${JSON.stringify(value)})`);\n\t}\n\tif (!object || typeof object !== 'object') {\n\t\tthrow new TypeError(`Expected object from ${name} (in ${JSON.stringify(value)})`);\n\t}\n\treturn object;\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/parseJsonAttribute.ts","export default function makeIdGenerator(prefix: string): () => string {\n\tlet count = 0;\n\treturn () => prefix + (++count);\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/makeIdGenerator.ts","import { h, createProjector as createMaquetteProjector, Projector as MaquetteProjector, VNode, VNodeProperties } from 'maquette';\nimport compose, { ComposeFactory } from 'dojo-compose/compose';\nimport global from 'dojo-core/global';\nimport { EventTargettedObject, Handle } from 'dojo-interfaces/core';\nimport { EventedListener, EventedOptions } from 'dojo-interfaces/bases';\nimport { assign } from 'dojo-core/lang';\nimport { queueTask } from 'dojo-core/queue';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport createVNodeEvented, { VNodeEvented } from './mixins/createVNodeEvented';\nimport createParentListMixin, { ParentListMixin, ParentListMixinOptions } from './mixins/createParentListMixin';\nimport { Child } from './mixins/interfaces';\n\nexport type AttachType = 'append' | 'merge' | 'replace';\n\nexport interface ProjectorOptions extends ParentListMixinOptions<Child>, EventedOptions {\n\t/**\n\t * The root element for the projector\n\t */\n\troot?: Element;\n\n\t/**\n\t * If `true`, automatically attach to the DOM during creation (by merging). Do the same if a valid attach type is\n\t * provided (see `AttachOptions`). The attach type determines how the projector is attached.\n\t */\n\tautoAttach?: boolean | AttachType;\n\n\t/**\n\t * If `true`, will configure the projector to support css transitions using `cssTransitions` global object.\n\t * The projector will fail create if the options is true but the global object cannot be found.\n\t */\n\tcssTransitions?: boolean;\n}\n\nexport interface AttachOptions {\n\t/**\n\t * If `'append'` it will append to the root. If `'merge'` it will merge with the root. If `'replace'` it will\n\t * replace the root.\n\t */\n\n\ttype?: AttachType;\n\t/**\n\t * If `type` is `'append'` or `'replace'` then `tagName` will be used to determine what tag name\n\t * is used to append to or replace the root element. Defaults to `div`.\n\t */\n\ttagName?: string;\n}\n\nexport interface ProjectorMixin {\n\t/**\n\t * Get the projector's VNode attributes\n\t */\n\tgetNodeAttributes(overrides?: VNodeProperties): VNodeProperties;\n\n\t/**\n\t * Returns a VNode which represents the DOM for the projector\n\t */\n\trender(): VNode;\n\n\t/**\n\t * Attach the projector to the DOM and return a promise.\n\t *\n\t * The promise is fulfilled when all previously appended children have been created.\n\t * It is fulfilled with a handle which can be used to detach the projector. The same promise is\n\t * returned when called more than once.\n\t *\n\t * @param options An optional map of options that change the default behaviour of the attachment\n\t */\n\tattach(options?: AttachOptions): Promise<Handle>;\n\n\t/**\n\t * Inform the projector that it is in a dirty state and should re-render.  Calling event handles will automatically\n\t * schedule a re-render.\n\t */\n\tinvalidate(): void;\n\n\t/**\n\t * If unattached, set the root element for the projector.\n\t * @param root The Element that should serve as the root for the projector\n\t */\n\tsetRoot(root: Element): void;\n\n\t/**\n\t * The native maquette Projector that is being managed\n\t */\n\tprojector: MaquetteProjector;\n\n\t/**\n\t * The root of the projector\n\t */\n\troot: Element;\n\n\t/**\n\t * An array of classes that should be applied to the root of the projector\n\t */\n\tclasses?: string[];\n\n\t/**\n\t * A hash of inline styles that should be applied to the root of the projector\n\t */\n\tstyles?: { [style: string]: string; };\n\n\t/**\n\t * A reference to the document that the projector is attached to\n\t */\n\tdocument: Document;\n\n\t/**\n\t * The current state of the projector\n\t */\n\tstate: ProjectorState;\n}\n\nexport interface ProjectorOverrides {\n\t/**\n\t * Event emitted after the projector has been attached to the DOM.\n\t */\n\ton(type: 'attach', listener: EventedListener<this, EventTargettedObject<this>>): Handle;\n\n\ton(type: string, listener: EventedListener<this, EventTargettedObject<this>>): Handle;\n}\n\nexport type Projector = VNodeEvented & ParentListMixin<Child> & ProjectorMixin;\n\nexport interface ProjectorFactory extends ComposeFactory<Projector, ProjectorOptions> { }\n\nexport enum ProjectorState {\n\tAttached = 1,\n\tDetached\n};\n\ninterface ProjectorData {\n\tafterInitialCreate?: () => void;\n\tattachHandle: Handle;\n\tattachPromise?: Promise<Handle>;\n\tboundRender: () => VNode;\n\tprojector: MaquetteProjector;\n\troot: Element;\n\tstate: ProjectorState;\n\ttagName: string;\n}\n\nconst projectorDataMap = new WeakMap<Projector, ProjectorData>();\n\nconst noopHandle = { destroy() { } };\nconst emptyVNode = h('div');\nconst noopVNode = function(): VNode { return emptyVNode; };\n\ninterface ProjectorAttributes {\n\n\tclasses?: {\n\t\t[index: string]: boolean | null | undefined;\n\t};\n\n\tstyles?: {\n\t\t[index: string]: string | null | undefined;\n\t};\n\n\t[index: string]: any;\n}\n\nexport const createProjector: ProjectorFactory = compose<ProjectorMixin, ProjectorOptions>({\n\t\tgetNodeAttributes(this: Projector, overrides?: VNodeProperties): VNodeProperties {\n\t\t\t/* TODO: This is the same logic as createCachedRenderMixin, merge somehow */\n\t\t\tconst props: ProjectorAttributes  = {};\n\t\t\tfor (let key in this.listeners) {\n\t\t\t\tprops[key] = this.listeners[key];\n\t\t\t}\n\t\t\tconst classes: { [index: string]: boolean; } = {};\n\t\t\tif (this.classes) {\n\t\t\t\tthis.classes.forEach((c) => classes[c] = true);\n\t\t\t}\n\t\t\tprops.classes = classes;\n\t\t\tprops.styles = this.styles || {};\n\t\t\tif (overrides) {\n\t\t\t\tassign(props, overrides);\n\t\t\t}\n\t\t\treturn props;\n\t\t},\n\t\trender(this: Projector): VNode {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\tconst childVNodes: VNode[] = [];\n\t\t\tthis.children.forEach((child) => {\n\t\t\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t\t\t// istanbul ignore else\n\t\t\t\tif (child) {\n\t\t\t\t\tchildVNodes.push(child.render());\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst props = this.getNodeAttributes();\n\t\t\tprops.afterCreate = projectorData.afterInitialCreate;\n\t\t\treturn h(projectorData.tagName, props, childVNodes);\n\t\t},\n\t\tattach(this: Projector, { type, tagName }: AttachOptions = {}): Promise<Handle> {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\tif (projectorData.state === ProjectorState.Attached) {\n\t\t\t\treturn projectorData.attachPromise || Promise.resolve(noopHandle);\n\t\t\t}\n\t\t\tprojectorData.boundRender = this.render.bind(this);\n\t\t\tif (tagName !== undefined) {\n\t\t\t\tprojectorData.tagName = tagName;\n\t\t\t}\n\t\t\tprojectorData.state = ProjectorState.Attached;\n\t\t\tprojectorData.attachHandle = this.own({\n\t\t\t\tdestroy() {\n\t\t\t\t\tif (projectorData.state === ProjectorState.Attached) {\n\t\t\t\t\t\tprojectorData.projector.stop();\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t/* Sometimes Maquette can't seem to find function */\n\t\t\t\t\t\t\tprojectorData.projector.detach(projectorData.boundRender);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t\tif (e.message !== 'renderMaquetteFunction was not found') {\n\t\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* else, swallow */\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* for some reason, Maquette still trys to call this in some situations, so the noopVNode is\n\t\t\t\t\t\t * used to return an empty structure */\n\t\t\t\t\t\tprojectorData.boundRender = noopVNode;\n\t\t\t\t\t\tprojectorData.state = ProjectorState.Detached;\n\t\t\t\t\t}\n\t\t\t\t\tprojectorData.attachHandle = noopHandle;\n\t\t\t\t}\n\t\t\t});\n\t\t\tprojectorData.attachPromise = new Promise((resolve, reject) => {\n\t\t\t\tprojectorData.afterInitialCreate = () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.emit({ type: 'attach' });\n\t\t\t\t\t\tresolve(projectorData.attachHandle);\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\t/* attaching async, in order to help ensure that if there are any other async behaviours scheduled at the end of the\n\t\t\t * turn, they are executed before this, since the attachement is actually done in turn, but subsequent schedule\n\t\t\t * renders are done out of turn */\n\t\t\tqueueTask(() => {\n\t\t\t\tconst { projector } = projectorData;\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'append':\n\t\t\t\t\t\tprojector.append(projectorData.root, projectorData.boundRender);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'replace':\n\t\t\t\t\t\tprojector.replace(projectorData.root, projectorData.boundRender);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'merge':\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tprojector.merge(projectorData.root, projectorData.boundRender);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn projectorData.attachPromise;\n\t\t},\n\t\tinvalidate(this: Projector): void {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\tif (projectorData.state === ProjectorState.Attached) {\n\t\t\t\tthis.emit({\n\t\t\t\t\ttype: 'schedulerender',\n\t\t\t\t\ttarget: this\n\t\t\t\t});\n\t\t\t\tprojectorData.projector.scheduleRender();\n\t\t\t}\n\t\t},\n\t\tsetRoot(this: Projector, root: Element): void {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\tif (projectorData.state === ProjectorState.Attached) {\n\t\t\t\tthrow new Error('Projector already attached, cannot change root element');\n\t\t\t}\n\t\t\tprojectorData.root = root;\n\t\t},\n\n\t\tget root(this: Projector): Element {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\treturn projectorData && projectorData.root;\n\t\t},\n\n\t\tget projector(this: Projector): MaquetteProjector {\n\t\t\treturn projectorDataMap.get(this).projector;\n\t\t},\n\n\t\tget document(this: Projector): Document {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\treturn projectorData && projectorData.root && projectorData.root.ownerDocument;\n\t\t},\n\n\t\tget state(this: Projector): ProjectorState {\n\t\t\tconst projectorData = projectorDataMap.get(this);\n\t\t\treturn projectorData && projectorData.state;\n\t\t}\n\t})\n\t.mixin({\n\t\tmixin: createVNodeEvented,\n\t\tinitialize(instance) {\n\t\t\t/* We have to stub out listeners for Maquette, otherwise it won't allow us to change them down the road */\n\t\t\tinstance.on('touchend', function () {});\n\t\t\tinstance.on('touchmove', function () {});\n\t\t}\n\t})\n\t.mixin({\n\t\tmixin: createParentListMixin,\n\t\tinitialize(instance: Projector, { cssTransitions = false, autoAttach = false, root = document.body }: ProjectorOptions = {}) {\n\t\t\tconst options: { transitions?: any } = {};\n\t\t\tif (cssTransitions) {\n\t\t\t\tif (global.cssTransitions) {\n\t\t\t\t\toptions.transitions = global.cssTransitions;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error('Unable to create projector with css transitions enabled. Is the \\'css-transition.js\\' script loaded in the page?');\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst projector = createMaquetteProjector(options);\n\t\t\tprojectorDataMap.set(instance, {\n\t\t\t\tattachHandle: noopHandle,\n\t\t\t\tboundRender: noopVNode,\n\t\t\t\tprojector,\n\t\t\t\troot,\n\t\t\t\tstate: ProjectorState.Detached,\n\t\t\t\ttagName: 'div'\n\t\t\t});\n\t\t\tif (autoAttach === true) {\n\t\t\t\tinstance.attach({ type: 'merge' });\n\t\t\t}\n\t\t\telse if (typeof autoAttach === 'string') {\n\t\t\t\tinstance.attach({ type: autoAttach });\n\t\t\t}\n\t\t},\n\t\taspectAdvice: {\n\t\t\tafter: {\n\t\t\t\tclear(this: Projector): void {\n\t\t\t\t\tthis.invalidate();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n// Projectors cannot be created outside of browser environments. Ensure that a default projector can always be\n// exported, even if it can't do anything.\nconst createStubbedProjector: ProjectorFactory = compose({\n\t\tgetNodeAttributes(): VNodeProperties {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\trender(): VNode {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tattach(): Promise<Handle> {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tinvalidate() {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tsetRoot(root: Element) {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tget projector(): MaquetteProjector {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tget root(): Element {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tget document(): Document {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t},\n\t\tget state(): ProjectorState {\n\t\t\tthrow new Error('Projector is stubbed');\n\t\t}\n\t})\n\t.mixin(createVNodeEvented)\n\t.mixin(createParentListMixin);\n\nconst defaultProjector: Projector = typeof global.document === 'undefined' ?\n\tcreateStubbedProjector() :\n\tcreateProjector();\n\nexport default defaultProjector;\n\n\n\n// WEBPACK FOOTER //\n// src/projector.ts","import { EventTargettedObject, EventObject, Handle } from 'dojo-interfaces/core';\nimport { on } from 'dojo-core/aspect';\nimport { assign } from 'dojo-core/lang';\nimport { ComposeFactory } from 'dojo-compose/compose';\nimport createEvented, { resolveListener } from 'dojo-compose/bases/createEvented';\nimport {\n\tEvented,\n\tEventedOptions,\n\tEventedListenerOrArray,\n\tEventedListenersMap\n} from 'dojo-interfaces/bases';\nimport Set from 'dojo-shim/Set';\nimport { VNodeProperties } from 'dojo-interfaces/vdom';\nimport { NodeAttributeFunction } from 'dojo-interfaces/widgetBases';\n\nexport type VNodeListenerReturn = boolean | undefined | null;\n\nexport interface VNodeListeners {\n\t[on: string]: undefined | ((ev?: EventTargettedObject<any>) => VNodeListenerReturn);\n\tontouchcancel?(ev?: TouchEvent): VNodeListenerReturn;\n\tontouchend?(ev?: TouchEvent): VNodeListenerReturn;\n\tontouchmove?(ev?: TouchEvent): VNodeListenerReturn;\n\tontouchstart?(ev?: TouchEvent): VNodeListenerReturn;\n\tonblur?(ev?: FocusEvent): VNodeListenerReturn;\n\tonchange?(ev?: Event): VNodeListenerReturn;\n\tonclick?(ev?: MouseEvent): VNodeListenerReturn;\n\tondblclick?(ev?: MouseEvent): VNodeListenerReturn;\n\tonfocus?(ev?: FocusEvent): VNodeListenerReturn;\n\toninput?(ev?: Event): VNodeListenerReturn;\n\tonkeydown?(ev?: KeyboardEvent): VNodeListenerReturn;\n\tonkeypress?(ev?: KeyboardEvent): VNodeListenerReturn;\n\tonkeyup?(ev?: KeyboardEvent): VNodeListenerReturn;\n\tonload?(ev?: Event): VNodeListenerReturn;\n\tonmousedown?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmouseenter?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmouseleave?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmousemove?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmouseout?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmouseover?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmouseup?(ev?: MouseEvent): VNodeListenerReturn;\n\tonmousewheel?(ev?: MouseWheelEvent): VNodeListenerReturn;\n\tonscroll?(ev?: UIEvent): VNodeListenerReturn;\n\tonsubmit?(ev?: Event): VNodeListenerReturn;\n}\n\nconst vnodeEvents = new Set([\n\t'touchcancel',\n\t'touchend',\n\t'touchmove',\n\t'touchstart',\n\t'blur',\n\t'change',\n\t'click',\n\t'dblclick',\n\t'focus',\n\t'input',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'load',\n\t'mousedown',\n\t'mouseenter',\n\t'mouseleave',\n\t'mousemove',\n\t'mouseout',\n\t'mouseover',\n\t'mouseup',\n\t'mousewheel',\n\t'scroll',\n\t'submit'\n]);\n\nexport interface VNodeEventedMixin {\n\t/**\n\t * A map of listeners that are exposed for use by the virutal DOM\n\t */\n\tlisteners: VNodeListeners;\n\n\t/**\n\t * An array of functions the provide the VNode attributes when rendering\n\t */\n\tnodeAttributes: NodeAttributeFunction[];\n}\n\nexport interface VNodeEventedOverrides {\n\ton(type: 'touchcancel', listener: EventedListenerOrArray<EventTarget, TouchEvent>): Handle;\n\ton(type: 'touchend', listener: EventedListenerOrArray<EventTarget, TouchEvent>): Handle;\n\ton(type: 'touchmove', listener: EventedListenerOrArray<EventTarget, TouchEvent>): Handle;\n\ton(type: 'blur', listener: EventedListenerOrArray<EventTarget, FocusEvent>): Handle;\n\ton(type: 'change', listener: EventedListenerOrArray<EventTarget, Event>): Handle;\n\ton(type: 'click', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'dblclick', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'focus', listener: EventedListenerOrArray<EventTarget, FocusEvent>): Handle;\n\ton(type: 'input', listener: EventedListenerOrArray<EventTarget, Event>): Handle;\n\ton(type: 'keydown', listener: EventedListenerOrArray<EventTarget, KeyboardEvent>): Handle;\n\ton(type: 'keypress', listener: EventedListenerOrArray<EventTarget, KeyboardEvent>): Handle;\n\ton(type: 'keyup', listener: EventedListenerOrArray<EventTarget, KeyboardEvent>): Handle;\n\ton(type: 'load', listener: EventedListenerOrArray<EventTarget, Event>): Handle;\n\ton(type: 'mousedown', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mouseenter', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mouseleave', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mousemove', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mouseout', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mouseover', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mouseup', listener: EventedListenerOrArray<EventTarget, MouseEvent>): Handle;\n\ton(type: 'mousewheel', listener: EventedListenerOrArray<EventTarget, MouseWheelEvent>): Handle;\n\ton(type: 'scroll', listener: EventedListenerOrArray<EventTarget, UIEvent>): Handle;\n\ton(type: 'submit', listener: EventedListenerOrArray<EventTarget, Event>): Handle;\n}\n\nexport type VNodeEvented = Evented & VNodeEventedMixin & VNodeEventedOverrides;\n\nexport type VNodeEventedOptions = EventedOptions;\n\nexport interface VNodeEventedFactory extends ComposeFactory<VNodeEvented, VNodeEventedOptions> { }\n\n/**\n * Internal function to convert an array of handles to a single array\n *\n * TODO: This is used in a couple places, maybe should migrate to a better place\n *\n * @params handles An array of handles\n */\nfunction handlesArraytoHandle(handles: Handle[]): Handle {\n\treturn {\n\t\tdestroy() {\n\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t}\n\t};\n}\n\nconst UNINITIALIZED_LISTENERS = Object.freeze({});\n\nconst createVNodeEvented: VNodeEventedFactory = createEvented\n\t.mixin({\n\t\tmixin: {\n\t\t\tlisteners: UNINITIALIZED_LISTENERS,\n\n\t\t\tnodeAttributes: [\n\t\t\t\tfunction (this: any): VNodeProperties {\n\t\t\t\t\treturn assign({}, this.listeners);\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\taspectAdvice: {\n\t\t\taround: {\n\t\t\t\ton(origFn): (...args: any[]) => Handle {\n\t\t\t\t\treturn function (this: VNodeEvented, ...args: any[]): Handle {\n\t\t\t\t\t\tif (args.length === 2) { /* overload: on(type, listener) */\n\t\t\t\t\t\t\t/* During initialization, sometimes the initialize functions occur out of order,\n\t\t\t\t\t\t\t* and Evented's initialize function could be called before this mixins, therefore\n\t\t\t\t\t\t\t* leaving this.listeners with an uninitiliazed value, therefore it is better to\n\t\t\t\t\t\t\t* determine if the value is unitialized here, ensuring that this.listeners is\n\t\t\t\t\t\t\t* always valid.\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tif (this.listeners === UNINITIALIZED_LISTENERS) {\n\t\t\t\t\t\t\t\tthis.listeners = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet type: string;\n\t\t\t\t\t\t\tlet listeners: EventedListenerOrArray<VNodeEvented, EventTargettedObject<any>>;\n\t\t\t\t\t\t\t[ type, listeners ] = args;\n\t\t\t\t\t\t\tif (Array.isArray(listeners)) {\n\t\t\t\t\t\t\t\tconst handles = listeners.map((listener) => vnodeEvents.has(type) ?\n\t\t\t\t\t\t\t\t\ton(this.listeners, 'on' + type, resolveListener(listener)) :\n\t\t\t\t\t\t\t\t\torigFn.call(this, type, listener));\n\t\t\t\t\t\t\t\treturn handlesArraytoHandle(handles);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\treturn vnodeEvents.has(type) ?\n\t\t\t\t\t\t\t\t\ton(this.listeners, 'on' + type, resolveListener(listeners)) :\n\t\t\t\t\t\t\t\t\torigFn.call(this, type, listeners);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (args.length === 1) { /* overload: on(listeners) */\n\t\t\t\t\t\t\tconst listenerMapArg: EventedListenersMap<any> = args[0];\n\t\t\t\t\t\t\treturn handlesArraytoHandle(Object.keys(listenerMapArg).map((type) => this.on(type, listenerMapArg[type])));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse { /* unexpected signature */\n\t\t\t\t\t\t\tthrow new TypeError('Invalid arguments');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\temit(origFn): <T extends EventObject>(event: T) => void {\n\t\t\t\t\treturn function <T extends EventObject>(this: VNodeEvented, event: T): void {\n\t\t\t\t\t\tif (vnodeEvents.has(event.type)) {\n\t\t\t\t\t\t\tif (this.listeners === null) {\n\t\t\t\t\t\t\t\tthis.listeners = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst method = this.listeners['on' + event.type];\n\t\t\t\t\t\t\tif (method) {\n\t\t\t\t\t\t\t\tmethod.call(this, event);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\torigFn.call(this, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\nexport default createVNodeEvented;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createVNodeEvented.ts","import { ArrayLike } from 'dojo-interfaces/shim';\nimport { hasClass } from './support/decorators';\nimport global from './support/global';\nimport { forOf, IterableIterator, Iterable, ShimIterator } from './iterator';\nimport './Symbol';\n\nexport namespace Shim {\n\texport class Set<T> {\n\t\tprivate _setData: T[] = [];\n\n\t\tconstructor(iterable?: ArrayLike<T> | Iterable<T>) {\n\t\t\tif (iterable) {\n\t\t\t\tforOf(iterable, (value) => this.add(value));\n\t\t\t}\n\t\t};\n\n\t\tadd(value: T): this {\n\t\t\tif (this.has(value)) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis._setData.push(value);\n\t\t\treturn this;\n\t\t};\n\n\t\tclear(): void {\n\t\t\tthis._setData.length = 0;\n\t\t};\n\n\t\tdelete(value: T): boolean {\n\t\t\tconst idx = this._setData.indexOf(value);\n\t\t\tif (idx === -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._setData.splice(idx, 1);\n\t\t\treturn true;\n\t\t};\n\n\t\tentries(): IterableIterator<[T, T]> {\n\t\t\treturn new ShimIterator<[any, any]>(this._setData.map<[any, any]>((value) => [ value, value ]));\n\t\t};\n\n\t\tforEach(callbackfn: (value: T, index: T, set: Set<T>) => void, thisArg?: any): void {\n\t\t\tconst iterator = this.values();\n\t\t\tlet result = iterator.next();\n\t\t\twhile (!result.done) {\n\t\t\t\tcallbackfn.call(thisArg, result.value, result.value, this);\n\t\t\t\tresult = iterator.next();\n\t\t\t}\n\t\t};\n\n\t\thas(value: T): boolean {\n\t\t\treturn this._setData.indexOf(value) > -1;\n\t\t};\n\n\t\tkeys(): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t};\n\n\t\tget size(): number {\n\t\t\treturn this._setData.length;\n\t\t};\n\n\t\tvalues(): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t};\n\n\t\t[Symbol.iterator](): IterableIterator<T> {\n\t\t\treturn new ShimIterator(this._setData);\n\t\t};\n\n\t\t[Symbol.toStringTag]: string = 'Set';\n\t}\n}\n\n@hasClass('es6-set', global.Set, Shim.Set)\nexport default class Set<T> {\n\t/* istanbul ignore next */\n\tconstructor(iterable?: ArrayLike<T> | Iterable<T>) { };\n\n\t/* istanbul ignore next */\n\tadd(value: T): this { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tclear(): void { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tdelete(value: T): boolean { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tentries(): IterableIterator<[T, T]> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tforEach(callbackfn: (value: T, index: T, set: Set<T>) => void, thisArg?: any): void { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\thas(value: T): boolean { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tkeys(): IterableIterator<T> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tget size(): number { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\tvalues(): IterableIterator<T> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\t[Symbol.iterator](): IterableIterator<T> { throw new Error('Abstract method'); };\n\t/* istanbul ignore next */\n\t[Symbol.toStringTag]: string = 'Set';\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-shim/Set.ts","import global from './global';\nimport has from './has';\nimport { Handle } from 'dojo-interfaces/core';\n\nfunction executeTask(item: QueueItem | undefined): void {\n\tif (item && item.isActive && item.callback) {\n\t\titem.callback();\n\t}\n}\n\nfunction getQueueHandle(item: QueueItem, destructor?: (...args: any[]) => any): Handle {\n\treturn {\n\t\tdestroy: function (this: Handle) {\n\t\t\tthis.destroy = function () {};\n\t\t\titem.isActive = false;\n\t\t\titem.callback = null;\n\n\t\t\tif (destructor) {\n\t\t\t\tdestructor();\n\t\t\t}\n\t\t}\n\t};\n}\n\ninterface PostMessageEvent extends Event {\n\tsource: any;\n\tdata: string;\n}\n\nexport interface QueueItem {\n\tisActive: boolean;\n\tcallback: null | ((...args: any[]) => any);\n}\n\nlet checkMicroTaskQueue: () => void;\nlet microTasks: QueueItem[];\n\n/**\n * Schedules a callback to the macrotask queue.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueTask = (function() {\n\tlet destructor: (...args: any[]) => any;\n\tlet enqueue: (item: QueueItem) => void;\n\n\t// Since the IE implementation of `setImmediate` is not flawless, we will test for `postMessage` first.\n\tif (has('postmessage')) {\n\t\tconst queue: QueueItem[] = [];\n\n\t\tglobal.addEventListener('message', function (event: PostMessageEvent): void {\n\t\t\t// Confirm that the event was triggered by the current window and by this particular implementation.\n\t\t\tif (event.source === global && event.data === 'dojo-queue-message') {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (queue.length) {\n\t\t\t\t\texecuteTask(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tglobal.postMessage('dojo-queue-message', '*');\n\t\t};\n\t}\n\telse if (has('setimmediate')) {\n\t\tdestructor = global.clearImmediate;\n\t\tenqueue = function (item: QueueItem): any {\n\t\t\treturn setImmediate(executeTask.bind(null, item));\n\t\t};\n\t}\n\telse {\n\t\tdestructor = global.clearTimeout;\n\t\tenqueue = function (item: QueueItem): any {\n\t\t\treturn setTimeout(executeTask.bind(null, item), 0);\n\t\t};\n\t}\n\n\tfunction queueTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst id: any = enqueue(item);\n\n\t\treturn getQueueHandle(item, destructor && function () {\n\t\t\tdestructor(id);\n\t\t});\n\t};\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks') ? queueTask : function (callback: (...args: any[]) => any): Handle {\n\t\tcheckMicroTaskQueue();\n\t\treturn queueTask(callback);\n\t};\n})();\n\n// When no mechanism for registering microtasks is exposed by the environment, microtasks will\n// be queued and then executed in a single macrotask before the other macrotasks are executed.\nif (!has('microtasks')) {\n\tlet isMicroTaskQueued = false;\n\n\tmicroTasks = [];\n\tcheckMicroTaskQueue = function (): void {\n\t\tif (!isMicroTaskQueued) {\n\t\t\tisMicroTaskQueued = true;\n\t\t\tqueueTask(function () {\n\t\t\t\tisMicroTaskQueued = false;\n\n\t\t\t\tif (microTasks.length) {\n\t\t\t\t\tlet item: QueueItem | undefined;\n\t\t\t\t\twhile (item = microTasks.shift()) {\n\t\t\t\t\t\texecuteTask(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * Schedules an animation task with `window.requestAnimationFrame` if it exists, or with `queueTask` otherwise.\n *\n * Since requestAnimationFrame's behavior does not match that expected from `queueTask`, it is not used there.\n * However, at times it makes more sense to delegate to requestAnimationFrame; hence the following method.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueAnimationTask = (function () {\n\tif (!has('raf')) {\n\t\treturn queueTask;\n\t}\n\n\tfunction queueAnimationTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst rafId: number = requestAnimationFrame(executeTask.bind(null, item));\n\n\t\treturn getQueueHandle(item, function () {\n\t\t\tcancelAnimationFrame(rafId);\n\t\t});\n\t}\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks') ? queueAnimationTask : function (callback: (...args: any[]) => any): Handle {\n\t\tcheckMicroTaskQueue();\n\t\treturn queueAnimationTask(callback);\n\t};\n})();\n\n/**\n * Schedules a callback to the microtask queue.\n *\n * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n * registered with `queueTask` or `queueAnimationTask`.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport let queueMicroTask = (function () {\n\tlet enqueue: (item: QueueItem) => void;\n\n\tif (has('host-node')) {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tglobal.process.nextTick(executeTask.bind(null, item));\n\t\t};\n\t}\n\telse if (has('es6-promise')) {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tglobal.Promise.resolve(item).then(executeTask);\n\t\t};\n\t}\n\telse if (has('dom-mutationobserver')) {\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\tconst node = document.createElement('div');\n\t\tconst queue: QueueItem[] = [];\n\t\tconst observer = new HostMutationObserver(function (): void {\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tconst item = queue.shift();\n\t\t\t\tif (item && item.isActive && item.callback) {\n\t\t\t\t\titem.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(node, { attributes: true });\n\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tnode.setAttribute('queueStatus', '1');\n\t\t};\n\t}\n\telse {\n\t\tenqueue = function (item: QueueItem): void {\n\t\t\tcheckMicroTaskQueue();\n\t\t\tmicroTasks.push(item);\n\t\t};\n\t}\n\n\treturn function (callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\n\t\tenqueue(item);\n\n\t\treturn getQueueHandle(item);\n\t};\n})();\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/queue.ts","import compose, { ComposeFactory } from 'dojo-compose/compose';\nimport createEvented from 'dojo-compose/bases/createEvented';\nimport { EventTargettedObject, Handle } from 'dojo-interfaces/core';\nimport { Evented, EventedListener } from 'dojo-interfaces/bases';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { List } from 'immutable';\nimport { getRemoveHandle, insertInList, Position } from '../util/lang';\nimport { Parent, Child, ChildListEvent } from './interfaces';\n\nexport interface ParentListMixinOptions<C extends Child> {\n\t/**\n\t * Children that are owned by the parent on creation\n\t */\n\tchildren?: C[];\n}\n\nexport interface ParentList<C extends Child> extends Parent {\n\t/**\n\t * An immutable list of children for this parent\n\t */\n\tchildren: List<Child>;\n\n\t/**\n\t * Remove all children (but don't destory them)\n\t */\n\tclear(): void;\n\n\t/**\n\t * Insert a child in a specific position, providing the reference if required\n\t *\n\t * @param child The child to insert\n\t * @param position The position to insert the child\n\t * @param reference The referencable child, if required\n\t */\n\tinsert(child: C, position: Position, reference?: C): Handle;\n}\n\nexport interface ParentListOverloads<C extends Child> {\n\t/**\n\t * Listen for events emitted from a parent when its children are mutated\n\t */\n\ton(type: 'childlist', listener: EventedListener<this, ChildListEvent<this, C>>): Handle;\n\ton(type: string, listener: EventedListener<this, EventTargettedObject<this>>): Handle;\n}\n\nexport type ParentListMixin<C extends Child> = ParentList<C> & Evented & ParentListOverloads<C>;\n\nexport interface ParentListMixinFactory extends ComposeFactory<ParentListMixin<Child>, ParentListMixinOptions<Child>> { }\n\n/**\n * Contains a List of children per instance\n */\nconst childrenMap = new WeakMap<ParentListMixin<Child>, List<Child & Evented>>();\n\nconst createParentMixin: ParentListMixinFactory = compose<ParentList<Child>, ParentListMixinOptions<Child>>({\n\t\tget children(this: ParentListMixin<Child>): List<Child & Evented> {\n\t\t\treturn childrenMap.get(this);\n\t\t},\n\n\t\tset children(this: ParentListMixin<Child>, value: List<Child & Evented>) {\n\t\t\tif (!value.equals(childrenMap.get(this))) {\n\t\t\t\tvalue.forEach((widget) => {\n\t\t\t\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t\t\t\t// istanbul ignore else\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\twidget.on('invalidated', () => {\n\t\t\t\t\t\t\tif (this.invalidate) {\n\t\t\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgetRemoveHandle(this, widget);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tchildrenMap.set(this, value);\n\t\t\t\tthis.emit({\n\t\t\t\t\ttype: 'childlist',\n\t\t\t\t\ttarget: this,\n\t\t\t\t\tchildren: value\n\t\t\t\t});\n\t\t\t\tif (this.invalidate) {\n\t\t\t\t\tthis.invalidate();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tappend(this: ParentListMixin<Child>, child: Child[] | Child): Handle {\n\t\t\tthis.children = Array.isArray(child) ? <List<Child>> this.children.concat(child) : this.children.push(child);\n\t\t\treturn getRemoveHandle<Child>(this, child);\n\t\t},\n\n\t\tclear(this: ParentListMixin<Child>): void {\n\t\t\tconst children = childrenMap.get(this);\n\t\t\tif (children) {\n\t\t\t\tthis.children = List<Child>();\n\t\t\t}\n\t\t},\n\n\t\tinsert(this: ParentListMixin<Child>, child: Child, position: Position, reference?: Child): Handle {\n\t\t\tthis.children = insertInList(childrenMap.get(this), child, position, reference);\n\t\t\treturn getRemoveHandle(this, child);\n\t\t}\n\t})\n\t.mixin({\n\t\tmixin: createEvented,\n\t\tinitialize(instance, options) {\n\t\t\tchildrenMap.set(instance, List<any>());\n\t\t\tif (options && options.children && options.children.length) {\n\t\t\t\tinstance.own(instance.append(options.children));\n\t\t\t}\n\t\t\tinstance.own({\n\t\t\t\tdestroy() {\n\t\t\t\t\tconst children = childrenMap.get(instance);\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t\t\t\t\t// istanbul ignore else\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tchild.destroy();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\nexport default createParentMixin;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createParentListMixin.ts","import { List } from 'immutable';\nimport { Handle } from 'dojo-core/interfaces';\nimport { Parent, Child, ChildrenMap } from '../mixins/interfaces';\n\nexport type Position = number | 'first' | 'last' | 'before' | 'after';\n\nfunction getIndex<T>(list: List<T> | T[], item: T, position: Position, reference?: T): number {\n\tlet idx: number;\n\tif (typeof position === 'number') {\n\t\tidx = position;\n\t\tconst size = Array.isArray(list) ? list.length : list.size;\n\t\tif (idx < 0 || idx > size) {\n\t\t\tthrow new Error('position is out of range');\n\t\t}\n\t}\n\telse {\n\t\tswitch (position) {\n\t\tcase 'first':\n\t\t\tidx = 0;\n\t\t\tbreak;\n\t\tcase 'last':\n\t\t\tidx = Array.isArray(list) ? list.length : list.size;\n\t\t\tbreak;\n\t\tcase 'before':\n\t\t\tidx = reference === undefined ? -1 : list.indexOf(reference);\n\t\t\tif (idx === -1) {\n\t\t\t\tthrow new Error('reference not contained in this list');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'after':\n\t\t\tidx = reference === undefined ? 0 : list.indexOf(reference) + 1;\n\t\t\tif (idx === 0) {\n\t\t\t\tthrow new Error('reference not contained in this list');\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow Error(`Invalid position \"${position}\"`);\n\t\t}\n\t}\n\treturn idx;\n}\n\nexport function insertInList<T>(list: List<T>, item: T, position: Position, reference?: T): List<T> {\n\treturn list.insert(getIndex(list, item, position, reference), item);\n}\n\nexport function insertInArray<T>(array: T[], item: T, position: Position, reference?: T): T[] {\n\tarray.splice(getIndex(array, item, position, reference), 0, item);\n\treturn array;\n}\n\nfunction valueReplacer(key: string, value: any): any {\n\tif (value instanceof RegExp) {\n\t\treturn (`__RegExp(${value.toString()})`);\n\t}\n\treturn value;\n}\n\nfunction valueReviver(key: string, value: any): any {\n\tif (value.toString().indexOf('__RegExp(') === 0) {\n\t\tconst [ , regExpStr ] = value.match(/__RegExp\\(([^\\)]*)\\)/);\n\t\tconst [ , regExp, flags ] = regExpStr.match(/^\\/(.*?)\\/([gimy]*)$/);\n\t\treturn new RegExp(regExp, flags);\n\t}\n\treturn value;\n}\n\n/**\n * Internal function to convert a state value to a string\n * @param value The value to be converted\n */\nexport function valueToString(value: any): string {\n\treturn value\n\t\t? Array.isArray(value) || typeof value === 'object'\n\t\t\t? JSON.stringify(value, valueReplacer) : String(value)\n\t\t: value === 0\n\t\t\t? '0' : value === false\n\t\t\t\t? 'false' : '';\n}\n\n/**\n * Internal function to convert a string to the likely more complex value stored in\n * state\n * @param str The string to convert to a state value\n */\nexport function stringToValue(str: string): any {\n\ttry {\n\t\tconst value = JSON.parse(str, valueReviver);\n\t\treturn value;\n\t}\n\tcatch (e) {\n\t\tif (/^(\\-|\\+)?([0-9]+(\\.[0-9]+)?|Infinity)$/.test(str)) {\n\t\t\treturn Number(str);\n\t\t}\n\t\tif (str) {\n\t\t\treturn str;\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\n/**\n * A type guard that deterimines if a value is an immutable List or not\n */\nexport function isList<T>(value: any): value is List<T> {\n\treturn value instanceof List;\n}\n\n/**\n * A type guard that checks to see if the value is a Child\n * @param value the value to guard for\n */\nexport function isChild<C extends Child>(value: any): value is C {\n\treturn value && typeof value === 'object' && typeof value.render === 'function';\n}\n\n/**\n * A utility function that generates a handle that destroys any children\n * @param parent The parent that the handle relates to\n * @param child The child (or array of children) that the handle relates to\n */\nexport function getRemoveHandle<C extends Child>(parent: Parent, child: C | C[] | ChildrenMap<C>): Handle {\n\tfunction getDestroyHandle(c: C): Handle {\n\t\tlet destroyed = false;\n\t\treturn c.own({\n\t\t\tdestroy() {\n\t\t\t\tif (destroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { children } = parent;\n\t\t\t\tif (children.includes(c)) {\n\t\t\t\t\tparent.children = isList(children) ? children.delete(children.lastIndexOf(c)) : children.delete(children.keyOf(c));\n\t\t\t\t}\n\t\t\t\tdestroyed = true;\n\t\t\t}\n\t\t});\n\t}\n\n\tlet destroyed = false;\n\n\tif (Array.isArray(child)) {\n\t\tconst handles = child.map((c) => getDestroyHandle(c));\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tif (destroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thandles.forEach(({ destroy }) => destroy());\n\t\t\t\tdestroyed = true;\n\t\t\t}\n\t\t};\n\t}\n\telse if (isChild(child)) {\n\t\tconst handle = getDestroyHandle(child);\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t};\n\t}\n\telse {\n\t\tconst handles: Handle[] = [];\n\t\tfor (let key in child) {\n\t\t\thandles.push(getDestroyHandle(child[key]));\n\t\t}\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tif (destroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\thandles.forEach(({ destroy }) => destroy());\n\t\t\t\tdestroyed = true;\n\t\t\t}\n\t\t};\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// src/util/lang.ts","import has from './has';\nimport { CreateArgs, CreateFunction } from './interfaces';\n\n/**\n * Validates a token for the CSS class manipulation methods.\n */\nfunction validateToken(token: string): void {\n\tif (token === '') {\n\t\tthrow new Error('An invalid or illegal string was specified');\n\t}\n\tif (/\\s/.test(token)) {\n\t\tthrow new Error('String contains an invalid character');\n\t}\n}\n\n/**\n * Adds one or more CSS class names to an HTMLElement, without duplication.\n *\n * @param element The Element to which to add CSS classes\n * @param classes One or more CSS class strings to add to the Element\n *\n * @example\n * dom.addClass(document.body, 'loaded');\n *\n * @example\n * dom.addClass(document.body, 'loaded', 'ready');\n */\nexport function addClass(element: HTMLElement, ...classes: string[]): void {\n\t// Cast to <any> to support multiple Element types. For more info,\n\t// see https://github.com/Microsoft/TypeScript/issues/3220\n\tlet targetElement = <any> element;\n\tif (!targetElement || !classes.length) {\n\t\treturn;\n\t}\n\tlet newClasses: string[] = [];\n\tfor (let className of classes) {\n\t\tvalidateToken(className);\n\t\tif (!containsClass(targetElement, className)) {\n\t\t\t// Convert to string to match native classList implementations for values like null\n\t\t\tnewClasses.push(String(className));\n\t\t}\n\t}\n\tif (newClasses.length) {\n\t\ttargetElement.className += (targetElement.className.length ? ' ' : '') + newClasses.join(' ');\n\t}\n}\n\n/**\n * Applies CSS classes to the root element if the specified has features have truthy values.\n *\n * @param features One or more features to test and potentially apply CSS classes based on\n */\nexport function applyFeatureClass(...features: string[]) {\n\t// args will be applied to addClass, so start with the element classes will be added to\n\tlet args: any[] = [ document.documentElement ];\n\tfor (let feature of features) {\n\t\tif (has(feature)) {\n\t\t\targs.push('has-' + feature.replace(/\\s/g, '-'));\n\t\t}\n\t}\n\taddClass.apply(null, args);\n}\n\n/**\n * Retrieves an element from the document by its ID attribute.\n *\n * @param id ID to match in the DOM\n * @return the element with a matching ID attribute if found, otherwise null\n *\n * @example\n * let element = dom.byId('anElement');\n */\nexport function byId(id: string): HTMLElement | null {\n\treturn document.getElementById(id);\n}\n\n/**\n * Indicates whether the given parent contains the given node.\n * @param parent The parent node to check within\n * @param node The node to test whether parent is its ancestor\n * @return `true` if parent contains node, `false` otherwise\n */\nexport function contains(parent: Element, node: Node): boolean {\n\t// While modern browsers do support parent.contains, some support it only on HTML elements,\n\t// and IE has a known bug involving passing a text node as the argument:\n\t// https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n\t// Meanwhile, compareDocumentPosition works in all supported browsers.\n\n\tif (node == null) {\n\t\treturn false;\n\t}\n\tif (parent === node) {\n\t\treturn true;\n\t}\n\treturn Boolean(node.compareDocumentPosition(parent) & Node.DOCUMENT_POSITION_CONTAINS);\n}\n\n/*\n * Creates an Element.\n *\n * @param tagName Type of Element to create\n * @param kwArgs An object containing properties to add to the Element.\n *               If an \"attributes\" property is present, each member of this sub-object will be added to the Element\n *               via element.setAttribute\n * @param children An array of Nodes or strings, the latter of which will be converted to Text nodes\n * @return The created Element, with any passed properties/attributes applied\n *\n * @example\n * let div = dom.create('div', { className: 'loaded', attributes: { 'data-index': '1' } });\n *\n * @example\n * let div = dom.create('ul', null, [ dom.create('li'), dom.create('li') ]);\n *\n * @example\n * let div = dom.create('div', null, [ 'hello', ' ', 'world' ]);\n */\n\nexport let create: CreateFunction = function (\n\t\ttagName: string, kwArgs?: CreateArgs, children?: (Node | string)[]): any {\n\tconst element = document.createElement(tagName);\n\tif (children) {\n\t\tfor (let child of children) {\n\t\t\tif (typeof child === 'string') {\n\t\t\t\tchild = document.createTextNode(<string> child);\n\t\t\t}\n\t\t\telement.appendChild(<Node> child);\n\t\t}\n\t}\n\tif (kwArgs) {\n\t\tfor (let property in kwArgs) {\n\t\t\tif (property === 'attributes') {\n\t\t\t\tif (kwArgs.attributes) {\n\t\t\t\t\tfor (let attribute in kwArgs.attributes) {\n\t\t\t\t\t\telement.setAttribute(attribute, kwArgs.attributes[attribute]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t(<any> element)[property] = kwArgs[property];\n\t\t\t}\n\t\t}\n\t}\n\treturn element;\n};\n\n// Tag trees for element creation, used by fromString\nconst tagWrap: {[key: string]: any} = {\n\tcaption: [ 'table' ],\n\tcol: [ 'table', 'colgroup' ],\n\tcolgroup: [ 'table' ],\n\toptgroup: [ 'select' ],\n\toption: [ 'select' ],\n\trp: [ 'ruby' ],\n\trt: [ 'ruby' ],\n\trtc: [ 'ruby' ],\n\tsource: [ 'audio' ],\n\ttbody: [ 'table' ],\n\ttd: [ 'table', 'tbody', 'tr' ],\n\ttfoot: [ 'table' ],\n\tth: [ 'table', 'thead', 'tr' ],\n\tthead: [ 'table' ],\n\ttr: [ 'table', 'tbody' ]\n};\n\nfor (const param in tagWrap) {\n\tconst tw = tagWrap[param];\n\ttw.pre = param === 'option' ? '<select multiple=\"multiple\">' : '<' + tw.join('><') + '>';\n\ttw.post = '</' + tw.reverse().join('></') + '>';\n}\n\n/**\n * Determines whether an HTMLElement has a given CSS class name.\n *\n * @param element The Element to check for a CSS class\n * @param className The CSS class name to check for\n *\n * @example\n * let hasLoaded = dom.containsClass(document.body, 'loaded');\n */\nexport function containsClass(element: HTMLElement, className: string): boolean | void {\n\tlet targetElement = <any> element;\n\tif (!targetElement) {\n\t\treturn;\n\t}\n\tvalidateToken(className);\n\tlet targetClass = ' ' + targetElement.className + ' ';\n\treturn targetClass.indexOf(' ' + className + ' ') > -1;\n}\n\n/**\n * Creates a DocumentFragment from a string.\n *\n * @param html string representation of nodes to create\n * @return DocumentFragment containing childNodes based on html string\n *\n * @example\n * let fragment = dom.fromString('<div></div>');\n *\n * @example\n * let fragment = dom.fromString('<div></div><span></span>');\n *\n * @example\n * let fragment = dom.fromString('<tr>');\n */\nexport function fromString(html: string): DocumentFragment  {\n\tlet fragment: DocumentFragment;\n\tconst useContextualFragment = has('dom-contextual-fragment');\n\n\tlet master: HTMLElement = document.createElement('div');\n\tconst match = String(html).match(/<\\s*([\\w\\:]+)/);\n\tconst tag = match ? match[1].toLowerCase() : '';\n\n\tfunction unwrapElement(element: HTMLElement, levels: number): HTMLElement {\n\t\tfor (let i = 0; i < levels; i++) {\n\t\t\telement = <HTMLElement> element.firstChild;\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tif (useContextualFragment) {\n\t\tmaster.style.display = 'none';\n\t\tdocument.body.appendChild(master);\n\t\tconst range = document.createRange();\n\t\trange.selectNode(master);\n\n\t\tif (match && tagWrap[tag]) {\n\t\t\tconst wrap = tagWrap[tag];\n\t\t\tconst wrappedHTML = wrap.pre + html + wrap.post;\n\t\t\tfragment = range.createContextualFragment(wrappedHTML);\n\t\t\tfragment = unwrapElement(<HTMLElement> fragment, wrap.length);\n\t\t}\n\t\telse {\n\t\t\tfragment = range.createContextualFragment(html);\n\t\t}\n\t}\n\telse {\n\t\tif (match && tagWrap[tag]) {\n\t\t\tconst wrap = tagWrap[tag];\n\t\t\tconst wrappedHTML = wrap.pre + html + wrap.post;\n\t\t\tmaster.innerHTML = wrappedHTML;\n\t\t\tmaster = unwrapElement(master, wrap.length);\n\t\t}\n\t\telse {\n\t\t\tmaster.innerHTML = html;\n\t\t}\n\n\t\tfragment = document.createDocumentFragment();\n\t\tlet firstChild: Node;\n\t\twhile (firstChild = master.firstChild) {\n\t\t\tfragment.appendChild(firstChild);\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n/*\n * Positions used with the place API for node placement.\n */\nexport enum Position {\n\tAfter,\n\tBefore,\n\tFirstIn,\n\tLastIn,\n\tReplace\n}\n\n/**\n * Places a node in the DOM relative to another node.\n *\n * @param node The node to place in the DOM\n * @param position The position to place the node, relative to relativeElement\n * @param relativeElement The node to use as a reference when placing\n *\n * @example\n * dom.place(node, dom.Position.After, anotherNode);\n */\nexport function place(node: Node, position: Position, relativeElement: Element): void {\n\tlet parent: Node;\n\n\tif (position === Position.After || position === Position.Before || position === Position.Replace) {\n\t\tparent = relativeElement.parentNode;\n\t\tif (!parent) {\n\t\t\tthrow new ReferenceError('dom.place: Reference node must have a parent to determine placement');\n\t\t}\n\t\tif (position === Position.After) {\n\t\t\tif (parent.lastChild === relativeElement) {\n\t\t\t\tparent.appendChild(node);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparent.insertBefore(node, relativeElement.nextSibling);\n\t\t\t}\n\t\t}\n\t\telse if (position === Position.Before) {\n\t\t\tparent.insertBefore(node, relativeElement);\n\t\t}\n\t\telse if (position === Position.Replace) {\n\t\t\tparent.replaceChild(node, relativeElement);\n\t\t}\n\t}\n\telse if (position === Position.FirstIn) {\n\t\trelativeElement.insertBefore(node, relativeElement.firstChild);\n\t}\n\telse {\n\t\t// LastIn\n\t\trelativeElement.appendChild(node);\n\t}\n}\n\n/**\n * Removes a node from the DOM.\n *\n * @param node The node to remove\n */\nexport function remove(node: Node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * Removes all instances of one ore more CSS class names from an HTMLElement.\n *\n * @param element The Element from which to remove CSS classes\n * @param classes An array of string CSS classes to remove from the Element\n *\n * @example\n * dom.removeClass(document.body, 'loading');\n *\n * @example\n * dom.removeClass(document.body, 'loading', 'pending');\n */\nexport function removeClass(element: HTMLElement, ...classes: string[]): void {\n\tlet targetElement = <any> element;\n\tif (!targetElement) {\n\t\treturn;\n\t}\n\tlet oldClasses: string[] = targetElement.className.split(/\\s+/);\n\tlet length = oldClasses.length;\n\tfor (let className of classes) {\n\t\tclassName = String(className);\n\t\tvalidateToken(className);\n\t\tlet index = oldClasses.indexOf(className);\n\t\twhile (index !== -1) {\n\t\t\toldClasses.splice(index, 1);\n\t\t\tindex = oldClasses.indexOf(className);\n\t\t}\n\t}\n\tif (oldClasses.length < length) {\n\t\ttargetElement.className = oldClasses.join(' ');\n\t}\n}\n\n/**\n * Toggles the presence of a CSS class name on an HTMLElement. An optional\n * second parameter can be used to force class addition or removal.\n *\n * @param element The Element to add or remove classes to or from\n * @param className The CSS class name add or remove\n * @param force Forces either class addition if true or class removal if false\n *\n * @example\n * dom.toggleClass(button, 'active');\n *\n * @example\n * dom.toggleClass(button, 'active', isActive);\n */\nexport function toggleClass(element: HTMLElement, className: string, force: boolean = !containsClass(element, className)): boolean {\n\tconst func = force ? addClass : removeClass;\n\tfunc(element, className);\n\treturn force;\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-dom/dom.ts","import { add } from 'dojo-core/has';\n\nadd('dom-element-matches', function () {\n\tlet node = document.body;\n\t// TS typings include the vendor-prefixed methods used here, but not the standard\n\tif (typeof (<any> node).matches === 'function') {\n\t\treturn 'matches';\n\t}\n\tif (typeof node.msMatchesSelector === 'function') {\n\t\treturn 'msMatchesSelector';\n\t}\n\tif (typeof node.webkitMatchesSelector === 'function') {\n\t\treturn 'webkitMatchesSelector';\n\t}\n});\n\nadd('dom-contextual-fragment', function() {\n\treturn Boolean(Range && Range.prototype.createContextualFragment);\n});\n\nexport { default } from 'dojo-core/has';\nexport * from 'dojo-core/has';\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-dom/has.ts","import { EventedListener, EventedListenersMap, TargettedEventObject } from 'dojo-compose/mixins/createEvented';\nimport Promise from 'dojo-shim/Promise';\n\nimport {\n\tReadOnlyRegistry,\n\tWidgetListenersMap,\n\tWidgetListenerOrArray\n} from '../createApp';\n\n// Use generics to avoid annoying repetition of the EventedListener<TargettedEventObject> type.\ntype ResolvedListeners<T> = [T[], undefined] | [undefined, Promise<T[]>];\nfunction carriesValue<T>(result: ResolvedListeners<T>): result is [T[], undefined] {\n\treturn result[0] !== undefined;\n}\n\ntype MixedResultOverride<T> = {\n\t// Property on the array to track whether it contains promises, which makes the withoutPromises() type\n\t// guard possible.\n\tcontainsPromises?: boolean;\n\t// These seem to need to be redeclared. Declared them as narrowly as possible for the actual usage below.\n\tpush(result: T[]): number;\n\tpush(result: Promise<T[]>): number;\n};\ntype MixedResults<T> = (T[][] | (T[] | Promise<T[]>)[]) & MixedResultOverride<T>;\nfunction withoutPromises<T>(mixed: MixedResults<T>): mixed is T[][] & MixedResultOverride<T> {\n\treturn mixed.containsPromises !== true;\n}\n\nfunction resolveListeners(\n\tregistry: ReadOnlyRegistry,\n\tref: WidgetListenerOrArray\n): ResolvedListeners<EventedListener<TargettedEventObject>> {\n\tif (Array.isArray(ref)) {\n\t\tconst mixed: MixedResults<EventedListener<TargettedEventObject>> = [];\n\t\tfor (const item of ref) {\n\t\t\tconst result = resolveListeners(registry, item);\n\t\t\tif (carriesValue(result)) {\n\t\t\t\tmixed.push(result[0]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmixed.containsPromises = true;\n\t\t\t\tmixed.push(result[1]);\n\t\t\t}\n\t\t}\n\n\t\tconst flattened: EventedListener<TargettedEventObject>[] = [];\n\t\tif (withoutPromises(mixed)) {\n\t\t\treturn [flattened.concat(...mixed), undefined];\n\t\t}\n\n\t\treturn [\n\t\t\tundefined,\n\t\t\tPromise.all(mixed)\n\t\t\t\t.then((results) => flattened.concat(...results))\n\t\t];\n\t}\n\n\tif (typeof ref !== 'string') {\n\t\treturn [ [ <EventedListener<TargettedEventObject>> ref ], undefined ];\n\t}\n\n\treturn [\n\t\tundefined,\n\t\tregistry.getAction(ref).then((action) => [ action ])\n\t];\n}\n\nexport default function resolveListenersMap(registry: ReadOnlyRegistry, listeners?: WidgetListenersMap): null | Promise<EventedListenersMap> {\n\tif (!listeners) {\n\t\treturn null;\n\t}\n\n\tconst map: EventedListenersMap = {};\n\tconst eventTypes = Object.keys(listeners);\n\treturn eventTypes.reduce((promise, eventType) => {\n\t\tconst result = resolveListeners(registry, listeners[eventType]);\n\t\tif (carriesValue(result)) {\n\t\t\tconst arr = result[0];\n\t\t\tmap[eventType] = arr.length > 1 ? arr : arr[0];\n\t\t\treturn promise;\n\t\t}\n\n\t\treturn result[1].then((arr) => {\n\t\t\tmap[eventType] = arr.length > 1 ? arr : arr[0];\n\t\t\treturn promise;\n\t\t});\n\t}, Promise.resolve(map));\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/resolveListenersMap.ts","import Promise from 'dojo-shim/Promise';\nimport Symbol from 'dojo-shim/Symbol';\n\n/**\n * Internal interface to asynchronously resolve a module by its identifier.\n */\nexport interface ResolveMid {\n\t/**\n\t * Resolves a module export based on its identifier.\n\t *\n\t * @param mid The module identifier\n\t * @param member If not provided the default export is returned. If the `RESOLVE_CONTENTS` symbol an object is\n\t *   returned containing all non-default expors. Else returns the requested member.\n\t * @return A promise for the resolved export(s). Does not reject if the module could not be loaded, or if the\n\t *   requested export does not exist.\n\t */\n\t<T>(mid: string, member?: string | symbol): Promise<T>;\n}\n\n/**\n * Function that maps a (relative) module identifier to an absolute one.\n */\nexport interface ToAbsMid {\n\t(moduleId: string): string;\n}\n\n/**\n * Special value that can be provided to the module resolver, indicating it should resolve the module contents, not\n * just a particular export.\n */\nexport const RESOLVE_CONTENTS = Symbol();\n\n/**\n * Creates a module resolver.\n *\n * @param toAbsMid Function to resolve relative module identifiers\n * @return The resolver function\n */\nexport default function makeResolver(toAbsMid: ToAbsMid): ResolveMid {\n\treturn function resolveMid<T>(mid: string, member: string | symbol = 'default'): Promise<T> {\n\t\treturn new Promise((resolve) => {\n\t\t\t// Assumes require() is an AMD loader!\n\t\t\trequire([toAbsMid(mid)], resolve);\n\t\t})\n\t\t.then((module: any) => {\n\t\t\tif (member === 'default') {\n\t\t\t\treturn module.__esModule ? module.default : module;\n\t\t\t}\n\t\t\telse if (member === RESOLVE_CONTENTS) {\n\t\t\t\tconst contents: { [member: string]: any } = {};\n\t\t\t\tfor (const member of Object.keys(module)) {\n\t\t\t\t\tif (member !== '__esModule' && member !== 'default') {\n\t\t\t\t\t\tcontents[member] = module[member];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn contents;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn module[member];\n\t\t\t}\n\t\t});\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/moduleResolver.ts","import { Handle } from 'dojo-core/interfaces';\nimport WeakMap from 'dojo-shim/WeakMap';\n\nimport {\n\tActionLike,\n\tIdentifier,\n\tStoreLike,\n\tWidgetLike\n} from '../createApp';\n\ntype Instance = ActionLike | StoreLike | WidgetLike;\nenum Type { Action, Store, Widget };\nconst errorStrings: { [type: number]: string } = {\n\t[Type.Action]: 'action',\n\t[Type.Store]: 'store',\n\t[Type.Widget]: 'widget'\n};\n\nexport default class InstanceRegistry {\n\tprivate readonly map = new WeakMap<Instance, { id: Identifier | symbol, type: Type }>();\n\n\taddAction(action: ActionLike, id: Identifier): Handle {\n\t\treturn this.add(action, id, Type.Action);\n\t}\n\n\tidentifyAction(action: ActionLike): Identifier {\n\t\treturn this.identify(action, Type.Action);\n\t}\n\n\taddStore(store: StoreLike, id: Identifier | symbol): Handle {\n\t\treturn this.add(store, id, Type.Store);\n\t}\n\n\tidentifyStore(store: StoreLike): Identifier | symbol {\n\t\treturn this.identify(store, Type.Store);\n\t}\n\n\taddWidget(widget: WidgetLike, id: Identifier): Handle {\n\t\treturn this.add(widget, id, Type.Widget);\n\t}\n\n\tidentifyWidget(widget: WidgetLike): Identifier {\n\t\treturn this.identify(widget, Type.Widget);\n\t}\n\n\tprivate add(instance: ActionLike, id: Identifier, type: Type): Handle;\n\tprivate add(instance: StoreLike, id: Identifier | symbol, type: Type): Handle;\n\tprivate add(instance: WidgetLike, id: Identifier, type: Type): Handle;\n\tprivate add(instance: Instance, id: Identifier | symbol, type: Type): Handle {\n\t\tif (this.map.has(instance)) {\n\t\t\tconst existing = this.map.get(instance);\n\t\t\tthrow new Error(`Could not add ${errorStrings[type]}, already registered as ${errorStrings[existing.type]} with identity ${existing.id}`);\n\t\t}\n\n\t\tthis.map.set(instance, { id, type });\n\t\tconst handle = {\n\t\t\tdestroy: () => {\n\t\t\t\tthis.map.delete(instance);\n\t\t\t}\n\t\t};\n\t\treturn handle;\n\t}\n\n\tprivate identify(instance: ActionLike, expectedType: Type): string;\n\tprivate identify(instance: StoreLike, expectedType: Type): string | symbol;\n\tprivate identify(instance: WidgetLike, expectedType: Type): string;\n\tprivate identify(instance: Instance, expectedType: Type): string | symbol {\n\t\tif (!this.map.has(instance)) {\n\t\t\tthrow new Error(`Could not identify ${errorStrings[expectedType]}`);\n\t\t}\n\n\t\tconst { id, type } = this.map.get(instance);\n\t\tif (type !== expectedType) {\n\t\t\tthrow new Error(`Could not identify ${errorStrings[expectedType]}`);\n\t\t}\n\n\t\treturn id;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/InstanceRegistry.ts","import { EventedListenersMap } from 'dojo-compose/mixins/createEvented';\nimport { assign } from 'dojo-core/lang';\nimport Promise from 'dojo-shim/Promise';\n\nimport {\n\tActionDefinition,\n\tActionFactory,\n\tActionLike,\n\tCustomElementDefinition,\n\tItemDefinition,\n\tReadOnlyRegistry,\n\tStoreDefinition,\n\tStoreFactory,\n\tStoreLike,\n\tWidgetDefinition,\n\tWidgetFactory,\n\tWidgetFactoryOptions,\n\tWidgetLike\n} from '../createApp';\nimport { ResolveMid } from './moduleResolver';\nimport resolveListenersMap from './resolveListenersMap';\n\nfunction resolveStore(registry: ReadOnlyRegistry, definition: ActionDefinition | WidgetDefinition): null | StoreLike | Promise<StoreLike> {\n\tconst { stateFrom } = definition;\n\tif (!stateFrom) {\n\t\treturn null;\n\t}\n\n\tif (typeof stateFrom !== 'string') {\n\t\treturn stateFrom;\n\t}\n\n\treturn registry.getStore(<string> stateFrom);\n}\n\ntype Factory = ActionFactory | StoreFactory | WidgetFactory;\ntype Instance = ActionLike | StoreLike | WidgetLike;\ntype FactoryTypes = 'action' | 'customElement' | 'store' | 'widget';\nconst errorStrings: { [type: string]: string } = {\n\taction: 'an action',\n\tcustomElement: 'a widget',\n\tstore: 'a store',\n\twidget: 'a widget'\n};\n\nfunction isInstance(value: any): value is Instance {\n\treturn value && typeof value === 'object';\n}\n\n// Used as a cast for definitions passed to resolveFactory(). The definitions need to be cast because\n// CustomElementDefinition does not have an `instance` property. Note that at this point the definition has already\n// been validated to ensure it has either a factory or an instance.\ninterface DestructurableDefinition {\n\tinstance?: Instance | string;\n\tfactory?: Factory | string;\n}\n\n/**\n * Resolve a factory for an action, custom element, store or widget.\n *\n * Custom element definitions must have a `factory` field. Other definitions have either `instance` or `factory`\n * fields. These may be module identifiers. If necessary resolve the module identifier, then if an instance was\n * defined create a wrapper function that can act as a factory for that instance.\n *\n * @param type What type of factory needs to be resolved\n * @param definition Definition of the action, store or widget that is resolved\n * @param resolveMid Function to asynchronously resolve a module identifier\n * @return A promise for the factory. Rejects if the resolved module does not export an appropriate default\n */\nfunction resolveFactory(type: 'action', definition: ActionDefinition, resolveMid: ResolveMid): Promise<ActionFactory>;\nfunction resolveFactory(type: 'customElement', definition: CustomElementDefinition, resolveMid: ResolveMid): Promise<WidgetFactory>;\nfunction resolveFactory(type: 'store', definition: StoreDefinition, resolveMid: ResolveMid): Promise<StoreFactory>;\nfunction resolveFactory(type: 'widget', definition: WidgetDefinition, resolveMid: ResolveMid): Promise<WidgetFactory>;\nfunction resolveFactory(type: FactoryTypes, definition: CustomElementDefinition | ItemDefinition<Factory, Instance>, resolveMid: ResolveMid): Promise<Factory>;\nfunction resolveFactory(type: FactoryTypes, definition: CustomElementDefinition | ItemDefinition<Factory, Instance>, resolveMid: ResolveMid): Promise<Factory> {\n\tconst { factory, instance } = <DestructurableDefinition> definition;\n\n\tif (typeof factory === 'function') {\n\t\treturn Promise.resolve(factory);\n\t}\n\telse if (isInstance(instance)) {\n\t\t// Cast to Factory since TypeScript gets confused with the overloaded Factory types that can return promises.\n\t\tconst factory = (() => instance) as Factory;\n\t\treturn Promise.resolve(factory);\n\t}\n\telse {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (instance) {\n\t\t\t\tresolveMid<Instance>(instance)\n\t\t\t\t\t.then((defaultExport) => {\n\t\t\t\t\t\tif (!defaultExport || typeof defaultExport !== 'object') {\n\t\t\t\t\t\t\treject(new Error(`Could not resolve '${instance}' to ${errorStrings[type]} instance`));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresolve(() => defaultExport);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Calling code ensures that factory at this point is a string, even though TypeScript can't infer that.\n\t\t\t\tresolveMid<Factory>(<string> factory)\n\t\t\t\t\t.then((defaultExport) => {\n\t\t\t\t\t\tif (typeof defaultExport !== 'function') {\n\t\t\t\t\t\t\treject(new Error(`Could not resolve '${factory}' to ${errorStrings[type]} factory function`));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresolve(defaultExport);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function makeActionFactory(definition: ActionDefinition, resolveMid: ResolveMid, registry: ReadOnlyRegistry): ActionFactory {\n\tif (!('factory' in definition || 'instance' in definition)) {\n\t\tthrow new TypeError('Action definitions must specify either the factory or instance option');\n\t}\n\tif ('instance' in definition) {\n\t\tif ('state' in definition) {\n\t\t\tthrow new TypeError('Cannot specify state option when action definition points directly at an instance');\n\t\t}\n\t\tif ('stateFrom' in definition) {\n\t\t\tthrow new TypeError('Cannot specify stateFrom option when action definition points directly at an instance');\n\t\t}\n\t}\n\n\tconst { id, state: initialState } = definition;\n\treturn ({ registryProvider, stateFrom: defaultActionStore }) => {\n\t\treturn Promise.all<any>([\n\t\t\tresolveFactory('action', definition, resolveMid),\n\t\t\tresolveStore(registry, definition)\n\t\t]).then(([_factory, _store]) => {\n\t\t\tconst factory = <ActionFactory> _factory;\n\t\t\tconst store = <StoreLike> _store || defaultActionStore;\n\n\t\t\tconst options = { registryProvider, stateFrom: store };\n\n\t\t\tif (store && initialState) {\n\t\t\t\treturn store.add(initialState, { id })\n\t\t\t\t\t// Ignore error, assume store already contains state for this widget.\n\t\t\t\t\t.catch(() => {})\n\t\t\t\t\t.then(() => factory(options));\n\t\t\t}\n\n\t\t\treturn factory(options);\n\t\t});\n\t};\n}\n\nexport function makeCustomElementFactory(definition: CustomElementDefinition, resolveMid: ResolveMid): WidgetFactory {\n\tlet promise: Promise<void> | null = null;\n\tlet factory: WidgetFactory;\n\treturn (options: WidgetFactoryOptions) => {\n\t\tif (factory) {\n\t\t\treturn factory(options);\n\t\t}\n\n\t\tif (!promise) {\n\t\t\t// Memoize the factory resolution.\n\t\t\tpromise = resolveFactory('customElement', definition, resolveMid).then((result) => {\n\t\t\t\tfactory = result;\n\t\t\t\tpromise = null;\n\t\t\t});\n\t\t}\n\n\t\treturn promise.then(() => {\n\t\t\treturn factory(options);\n\t\t});\n\t};\n}\n\nexport function makeStoreFactory(definition: StoreDefinition, resolveMid: ResolveMid): StoreFactory {\n\tif (!('factory' in definition || 'instance' in definition)) {\n\t\tthrow new TypeError('Store definitions must specify either the factory or instance option');\n\t}\n\tif ('instance' in definition && 'options' in definition) {\n\t\tthrow new TypeError('Cannot specify options when store definition points directly at an instance');\n\t}\n\n\tconst options = assign({}, definition.options);\n\n\treturn () => {\n\t\treturn resolveFactory('store', definition, resolveMid).then((factory) => {\n\t\t\treturn factory(options);\n\t\t});\n\t};\n}\n\nexport function makeWidgetFactory(definition: WidgetDefinition, resolveMid: ResolveMid, registry: ReadOnlyRegistry): WidgetFactory {\n\tif (!('factory' in definition || 'instance' in definition)) {\n\t\tthrow new TypeError('Widget definitions must specify either the factory or instance option');\n\t}\n\tif ('instance' in definition) {\n\t\tif ('listeners' in definition) {\n\t\t\tthrow new TypeError('Cannot specify listeners option when widget definition points directly at an instance');\n\t\t}\n\t\tif ('state' in definition) {\n\t\t\tthrow new TypeError('Cannot specify state option when widget definition points directly at an instance');\n\t\t}\n\t\tif ('stateFrom' in definition) {\n\t\t\tthrow new TypeError('Cannot specify stateFrom option when widget definition points directly at an instance');\n\t\t}\n\t\tif ('options' in definition) {\n\t\t\tthrow new TypeError('Cannot specify options when widget definition points directly at an instance');\n\t\t}\n\t}\n\n\tconst { options: rawOptions } = definition;\n\tif (rawOptions) {\n\t\tif ('id' in rawOptions || 'listeners' in rawOptions || 'stateFrom' in rawOptions) {\n\t\t\tthrow new TypeError('id, listeners and stateFrom options should be in the widget definition itself, not its options value');\n\t\t}\n\t\tif ('registryProvider' in rawOptions) {\n\t\t\tthrow new TypeError('registryProvider option must not be specified');\n\t\t}\n\t}\n\n\treturn ({ registryProvider, stateFrom: defaultWidgetStore }: WidgetFactoryOptions) => {\n\t\tconst { id, state: initialState } = definition;\n\t\tconst options: WidgetFactoryOptions = assign({\n\t\t\tid,\n\t\t\tregistryProvider\n\t\t}, rawOptions);\n\n\t\treturn Promise.all<any>([\n\t\t\tresolveFactory('widget', definition, resolveMid),\n\t\t\tresolveListenersMap(registry, definition.listeners),\n\t\t\tresolveStore(registry, definition)\n\t\t]).then(([_factory, _listeners, _store]) => {\n\t\t\tconst factory = <WidgetFactory> _factory;\n\t\t\tconst listeners = <EventedListenersMap> _listeners;\n\t\t\tconst store = <StoreLike> _store || defaultWidgetStore;\n\n\t\t\tif (listeners) {\n\t\t\t\toptions.listeners = listeners;\n\t\t\t}\n\t\t\tif (store) {\n\t\t\t\toptions.stateFrom = store;\n\t\t\t}\n\n\t\t\tif (store && initialState) {\n\t\t\t\treturn store.add(initialState, { id })\n\t\t\t\t\t// Ignore error, assume store already contains state for this widget.\n\t\t\t\t\t.catch(() => undefined)\n\t\t\t\t\t.then(() => factory(options));\n\t\t\t}\n\n\t\t\treturn factory(options);\n\t\t});\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/factories.ts","import { remove } from 'dojo-dom/dom';\nimport { from as arrayFrom } from 'dojo-shim/array';\nimport Promise from 'dojo-shim/Promise';\nimport Set from 'dojo-shim/Set';\n\nimport {\n\tActionDefinition,\n\tActionFactory,\n\tActionLike,\n\tCustomElementDefinition,\n\tStoreDefinition,\n\tStoreFactory,\n\tStoreLike,\n\tWidgetDefinition,\n\tWidgetFactory,\n\tWidgetLike\n} from '../createApp';\nimport { RESOLVE_CONTENTS, ResolveMid } from './moduleResolver';\nimport parseJsonAttribute from './parseJsonAttribute';\n\ninterface JsonObject {\n\t[key: string]: any;\n}\n\ninterface BaseTask {\n\treadonly element: Element;\n}\n\ninterface FactoryResolver {\n\treadonly factory: string;\n}\n\ninterface ImportResolver {\n\treadonly from: string;\n\treadonly importName?: string;\n}\n\ninterface ActionTask extends BaseTask {\n\treadonly id: string;\n\treadonly resolver: FactoryResolver | ImportResolver;\n\treadonly state?: JsonObject;\n\treadonly stateFrom?: string;\n\treadonly type: 'action';\n}\n\ninterface ElementTask extends BaseTask, FactoryResolver {\n\treadonly name: string;\n\treadonly type: 'element';\n}\n\ninterface MultipleActionsTask extends BaseTask {\n\treadonly from: string;\n\treadonly type: 'multiple-actions';\n}\n\ninterface StoreTask extends BaseTask {\n\treadonly id: string;\n\treadonly isDefault: boolean;\n\treadonly options?: JsonObject;\n\treadonly resolver: FactoryResolver | ImportResolver;\n\treadonly type: 'store';\n}\n\ninterface WidgetTask extends BaseTask {\n\treadonly id: string;\n\treadonly listeners?: JsonObject;\n\treadonly options?: JsonObject;\n\treadonly resolver: FactoryResolver | ImportResolver;\n\treadonly state?: JsonObject;\n\treadonly stateFrom?: string;\n\treadonly type: 'widget';\n}\n\ntype Task = ActionTask | ElementTask | MultipleActionsTask | StoreTask | WidgetTask;\n\nfunction isFactoryResolver(resolver: FactoryResolver | ImportResolver): resolver is FactoryResolver {\n\treturn (<any> resolver).factory;\n}\n\nfunction get(element: Element, name: string): string | undefined {\n\tconst value = element.getAttribute(name);\n\treturn value === null ? undefined : value;\n}\n\nconst TAG_NAMES = new Set(['app-action', 'app-actions', 'app-element', 'app-store', 'app-widget']);\n\nconst parsers = {\n\taction(element: Element): ActionTask {\n\t\tlet id = get(element, 'data-uid') || get(element, 'id');\n\t\tconst factory = get(element, 'data-factory');\n\t\tconst from = get(element, 'data-from');\n\t\tconst importName = get(element, 'data-import');\n\t\tconst stateFrom = get(element, 'data-state-from');\n\t\tconst stateJson = get(element, 'data-state');\n\n\t\tif (factory && !id) {\n\t\t\tthrow new Error('app-action requires data-uid or id attribute if data-factory is given');\n\t\t}\n\t\tif (!factory && !from) {\n\t\t\tthrow new Error('app-action requires data-from attribute if data-factory is not given');\n\t\t}\n\t\tif (factory && from) {\n\t\t\tthrow new Error('app-action cannot be used with both data-from and data-factory attributes');\n\t\t}\n\t\tif (stateFrom && !factory) {\n\t\t\tthrow new Error('app-action requires data-factory attribute if data-state-from is given');\n\t\t}\n\t\tif (stateJson && !factory) {\n\t\t\tthrow new Error('app-action requires data-factory attribute if data-state is given');\n\t\t}\n\n\t\tif (from && !id) {\n\t\t\tif (importName) {\n\t\t\t\tid = importName;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tid = <string> from.split('/').pop();\n\t\t\t}\n\t\t}\n\n\t\tif (!id) {\n\t\t\tthrow new Error(`Could not determine ID for app-action (from=${from} and import=${importName})`);\n\t\t}\n\n\t\tconst resolver = factory ? { factory } : { from: <string> from, importName };\n\t\tconst state = stateJson ? parseJsonAttribute<JsonObject>('data-state', stateJson) : undefined;\n\n\t\treturn {\n\t\t\telement,\n\t\t\tid,\n\t\t\tresolver,\n\t\t\tstate,\n\t\t\tstateFrom,\n\t\t\ttype: 'action'\n\t\t};\n\t},\n\n\tactions(element: Element): MultipleActionsTask {\n\t\tconst from = get(element, 'data-from');\n\t\tif (!from) {\n\t\t\tthrow new Error('app-actions requires data-from attribute');\n\t\t}\n\n\t\treturn {\n\t\t\telement,\n\t\t\tfrom,\n\t\t\ttype: 'multiple-actions'\n\t\t};\n\t},\n\n\telement(element: Element): ElementTask {\n\t\tconst factory = get(element, 'data-factory');\n\t\tconst name = get(element, 'data-name');\n\n\t\tif (!factory) {\n\t\t\tthrow new Error('app-element requires data-factory');\n\t\t}\n\t\tif (!name) {\n\t\t\tthrow new Error('app-element requires data-name');\n\t\t}\n\n\t\treturn {\n\t\t\telement,\n\t\t\tfactory,\n\t\t\tname,\n\t\t\ttype: 'element'\n\t\t};\n\t},\n\n\tstore(element: Element): StoreTask {\n\t\tlet id = get(element, 'data-uid') || get(element, 'id');\n\t\tconst factory = get(element, 'data-factory');\n\t\tconst from = get(element, 'data-from');\n\t\tconst importName = get(element, 'data-import');\n\t\tconst type = <'action' | 'widget' | undefined> get(element, 'data-type');\n\t\tconst optionsJson = get(element, 'data-options');\n\n\t\tif (factory && !id && !type) {\n\t\t\tthrow new Error('app-store requires data-uid, id or data-type attribute if data-factory is given');\n\t\t}\n\t\tif (!factory && !from) {\n\t\t\tthrow new Error('app-store requires data-from attribute if data-factory is not given');\n\t\t}\n\t\tif (factory && from) {\n\t\t\tthrow new Error('app-store cannot be used with both data-from and data-factory attributes');\n\t\t}\n\t\tif (type && id) {\n\t\t\tthrow new Error('data-type attribute must not be provided if app-store has data-uid or id attribute');\n\t\t}\n\t\tif (type && type !== 'action' && type !== 'widget') {\n\t\t\tthrow new Error('data-type attribute of app-store must have a value of \\'action\\' or \\'widget\\'');\n\t\t}\n\t\tif (optionsJson && !factory) {\n\t\t\tthrow new Error('app-store requires data-factory attribute if data-options is given');\n\t\t}\n\n\t\tif (from && !type && !id) {\n\t\t\tif (importName) {\n\t\t\t\tid = importName;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tid = <string> from.split('/').pop();\n\t\t\t}\n\t\t}\n\n\t\tif (!type && !id) {\n\t\t\tthrow new Error(`Could not determine ID for app-store (from=${from} and import=${importName})`);\n\t\t}\n\n\t\tconst options = optionsJson ? parseJsonAttribute<JsonObject>('data-options', optionsJson) : undefined;\n\t\tconst resolver = factory ? { factory } : { from: <string> from, importName };\n\n\t\tconst isDefault = Boolean(type);\n\t\tif (isDefault) {\n\t\t\tid = type;\n\t\t}\n\n\t\treturn {\n\t\t\tid: <string> id,\n\t\t\tisDefault,\n\t\t\telement,\n\t\t\toptions,\n\t\t\tresolver,\n\t\t\ttype: 'store'\n\t\t};\n\t},\n\n\twidget(element: Element): WidgetTask | null {\n\t\tlet id = get(element, 'data-uid') || get(element, 'id');\n\t\tconst factory = get(element, 'data-factory');\n\t\tconst from = get(element, 'data-from');\n\t\tconst importName = get(element, 'data-import');\n\t\tconst listenersJson = get(element, 'data-listeners');\n\t\tconst optionsJson = get(element, 'data-options');\n\t\tconst stateFrom = get(element, 'data-state-from');\n\t\tconst stateJson = get(element, 'data-state');\n\n\t\tif (stateFrom && !factory) {\n\t\t\tthrow new Error('app-widget requires data-factory attribute if data-state-from is given');\n\t\t}\n\t\tif (listenersJson && !factory) {\n\t\t\tthrow new Error('app-widget requires data-factory attribute if data-listeners is given');\n\t\t}\n\t\tif (optionsJson && !factory) {\n\t\t\tthrow new Error('app-widget requires data-factory attribute if data-options is given');\n\t\t}\n\t\tif (stateJson && !factory) {\n\t\t\tthrow new Error('app-widget requires data-factory attribute if data-state is given');\n\t\t}\n\n\t\t// Without factory or from, assume the widget has already been defined elsewhere.\n\t\tif (!factory && !from) {\n\t\t\treturn null;\n\t\t}\n\t\tif (factory && from) {\n\t\t\tthrow new Error('app-widget cannot be used with both data-from and data-factory attributes');\n\t\t}\n\n\t\tif (factory && !id) {\n\t\t\tthrow new Error('app-widget requires data-uid or id attribute if data-factory is given');\n\t\t}\n\n\t\tif (from && !id) {\n\t\t\tif (importName) {\n\t\t\t\tid = importName;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tid = from.split('/').pop();\n\t\t\t}\n\t\t}\n\n\t\tif (!id) {\n\t\t\tthrow new Error(`Could not determine ID for app-widget (from=${from} and import=${importName})`);\n\t\t}\n\n\t\tconst listeners = listenersJson ? parseJsonAttribute<JsonObject>('data-listeners', listenersJson) : undefined;\n\t\tconst options = optionsJson ? parseJsonAttribute<JsonObject>('data-options', optionsJson) : undefined;\n\t\tconst state = stateJson ? parseJsonAttribute<JsonObject>('data-state', stateJson) : undefined;\n\n\t\tconst resolver = factory ? { factory } : { from: <string> from, importName };\n\n\t\treturn {\n\t\t\telement,\n\t\t\tid,\n\t\t\tlisteners,\n\t\t\toptions,\n\t\t\tresolver,\n\t\t\tstate,\n\t\t\tstateFrom,\n\t\t\ttype: 'widget'\n\t\t};\n\t}\n};\n\nfunction getRegistrationTasks(root: Element): Task[] {\n\tconst allElements: Element[] = arrayFrom(root.getElementsByTagName('*'));\n\tallElements.unshift(root); // Be inclusive!\n\n\tconst tasks: Task[] = [];\n\tfor (const element of allElements) {\n\t\tlet name: string | undefined;\n\n\t\tconst tagName = element.tagName.toLowerCase();\n\t\tif (TAG_NAMES.has(tagName)) {\n\t\t\tname = tagName;\n\t\t}\n\t\telse {\n\t\t\tconst attrIs = (get(element, 'is') || '').toLowerCase();\n\t\t\tif (TAG_NAMES.has(attrIs)) {\n\t\t\t\tname = attrIs;\n\t\t\t}\n\t\t}\n\n\t\tlet task: Task | null = null;\n\t\tswitch (name) {\n\t\t\tcase 'app-action':\n\t\t\t\ttask = parsers.action(element);\n\t\t\t\tbreak;\n\t\t\tcase 'app-actions':\n\t\t\t\ttask = parsers.actions(element);\n\t\t\t\tbreak;\n\t\t\tcase 'app-element':\n\t\t\t\ttask = parsers.element(element);\n\t\t\t\tbreak;\n\t\t\tcase 'app-store':\n\t\t\t\ttask = parsers.store(element);\n\t\t\t\tbreak;\n\t\t\tcase 'app-widget':\n\t\t\t\ttask = parsers.widget(element);\n\t\t\t\tbreak;\n\t\t}\n\t\tif (task) {\n\t\t\ttasks.push(task);\n\t\t}\n\t}\n\n\treturn tasks;\n}\n\nfunction createActionDefinition(\n\tresolveMid: ResolveMid,\n\t{\n\t\tid,\n\t\tresolver,\n\t\tstate,\n\t\tstateFrom\n\t}: ActionTask\n): ActionDefinition {\n\treturn {\n\t\tid,\n\t\tfactory(options) {\n\t\t\tif (isFactoryResolver(resolver)) {\n\t\t\t\treturn resolveMid<ActionFactory>(resolver.factory).then((factory) => {\n\t\t\t\t\treturn factory(options);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn resolveMid<ActionLike>(resolver.from, resolver.importName || 'default');\n\t\t\t}\n\t\t},\n\t\tstate,\n\t\tstateFrom\n\t};\n}\n\nfunction loadMultipleActions(\n\tresolveMid: ResolveMid,\n\t{ from }: MultipleActionsTask\n): Promise<ActionDefinition[]> {\n\treturn resolveMid<{ [member: string]: ActionLike }>(from, RESOLVE_CONTENTS).then((contents) => {\n\t\treturn Object.keys(contents).map((member) => {\n\t\t\treturn {\n\t\t\t\tid: member,\n\t\t\t\tinstance: contents[member]\n\t\t\t};\n\t\t});\n\t});\n}\n\nfunction createCustomElementDefinition(\n\tresolveMid: ResolveMid,\n\t{\n\t\tfactory,\n\t\tname\n\t}: ElementTask\n): CustomElementDefinition {\n\treturn {\n\t\tfactory(options) {\n\t\t\treturn resolveMid<WidgetFactory>(factory)\n\t\t\t\t.then((factory) => factory(options));\n\t\t},\n\t\tname\n\t};\n}\n\nfunction createStoreDefinition(\n\tresolveMid: ResolveMid,\n\t{\n\t\tid,\n\t\toptions,\n\t\tresolver\n\t}: StoreTask\n): StoreDefinition {\n\treturn {\n\t\tid,\n\t\tfactory(options: any) {\n\t\t\tif (isFactoryResolver(resolver)) {\n\t\t\t\treturn resolveMid<StoreFactory>(resolver.factory)\n\t\t\t\t\t.then((factory) => factory(options));\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn resolveMid<StoreLike>(resolver.from, resolver.importName || 'default');\n\t\t\t}\n\t\t},\n\t\toptions\n\t};\n}\n\nfunction createWidgetDefinition(\n\tresolveMid: ResolveMid,\n\t{\n\t\tid,\n\t\tlisteners,\n\t\toptions,\n\t\tresolver,\n\t\tstate,\n\t\tstateFrom\n\t}: WidgetTask\n): WidgetDefinition {\n\treturn {\n\t\tid,\n\t\tfactory(options) {\n\t\t\tif (isFactoryResolver(resolver)) {\n\t\t\t\treturn resolveMid<WidgetFactory>(resolver.factory)\n\t\t\t\t\t.then((factory) => factory(options));\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn resolveMid<WidgetLike>(resolver.from, resolver.importName || 'default');\n\t\t\t}\n\t\t},\n\t\tlisteners,\n\t\toptions,\n\t\tstate,\n\t\tstateFrom\n\t};\n}\n\n/**\n * Provides resulting definition objects that were extracted from the root element.\n */\nexport interface Result {\n\t/**\n\t * Actions that should be loaded into the app.\n\t */\n\tactions: ActionDefinition[];\n\n\t/**\n\t * Custom elements that should be loaded into the app.\n\t */\n\tcustomElements: CustomElementDefinition[];\n\n\t/**\n\t * Default action and widget stores that should be loaded into the app.\n\t *\n\t * The 'action' ID indicates that the definition is for the default action store.\n\t * The 'widget' ID indicates that the definition is for the default widget store.\n\t */\n\tdefaultStores: StoreDefinition[];\n\n\t/**\n\t * Stores that should be loaded into the app.\n\t */\n\tstores: StoreDefinition[];\n\n\t/**\n\t * Widgets that should be loaded into the app.\n\t */\n\twidgets: WidgetDefinition[];\n}\n\n/**\n * Extract action, custom element, store and widget definitions that should be loaded into the app.\n *\n * @param resolveMid Function to asynchronously resolve a module identifier\n * @param root The element within which registration elements can be found\n * @return A promise for the definition objects\n */\nexport default function extractRegistrationElements(resolveMid: ResolveMid, root: Element): Promise<Result> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst result: Result = {\n\t\t\tactions: [],\n\t\t\tcustomElements: [],\n\t\t\tdefaultStores: [],\n\t\t\tstores: [],\n\t\t\twidgets: []\n\t\t};\n\t\tconst promises: Promise<void>[] = [];\n\n\t\tfor (const task of getRegistrationTasks(root)) {\n\t\t\tswitch (task.type) {\n\t\t\t\tcase 'action':\n\t\t\t\t\tresult.actions.push(createActionDefinition(resolveMid, <ActionTask> task));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'element':\n\t\t\t\t\tresult.customElements.push(createCustomElementDefinition(resolveMid, <ElementTask> task));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'multiple-actions': {\n\t\t\t\t\tconst promise = loadMultipleActions(resolveMid, <MultipleActionsTask> task)\n\t\t\t\t\t\t.then((actions) => {\n\t\t\t\t\t\t\tresult.actions.push(...actions);\n\t\t\t\t\t\t});\n\t\t\t\t\tpromises.push(promise);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'store': {\n\t\t\t\t\tconst { isDefault } = <StoreTask> task;\n\t\t\t\t\tconst definition = createStoreDefinition(resolveMid, <StoreTask> task);\n\t\t\t\t\tif (isDefault) {\n\t\t\t\t\t\tresult.defaultStores.push(definition);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tresult.stores.push(definition);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'widget':\n\t\t\t\t\tresult.widgets.push(createWidgetDefinition(resolveMid, <WidgetTask> task));\n\t\t\t\t\t// Forcibly add the possibly derived ID to the element, so the <app-widget> can be realized.\n\t\t\t\t\ttask.element.setAttribute('data-uid', (<WidgetTask> task).id);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (task.type !== 'widget') {\n\t\t\t\tremove(task.element);\n\t\t\t}\n\t\t}\n\n\t\tif (promises.length > 0) {\n\t\t\tPromise.all(promises)\n\t\t\t\t.then(() => resolve(result))\n\t\t\t\t.catch(reject);\n\t\t}\n\t\telse {\n\t\t\tresolve(result);\n\t\t}\n\t});\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/extractRegistrationElements.ts","import { ComposeFactory } from 'dojo-compose/compose';\nimport Promise from 'dojo-shim/Promise';\nimport { Child } from 'dojo-widgets/mixins/interfaces';\n\nimport {\n\tActionLike,\n\tIdentifier,\n\tReadOnlyRegistry,\n\tStoreLike,\n\tWidgetFactoryOptions,\n\tWidgetLike\n} from '../createApp';\n\n/**\n * Registry to (asynchronously) get instances by their ID.\n */\nexport interface Registry<I, T> {\n\t/**\n\t * Asynchronously get an instance by its ID.\n\t *\n\t * @param id Identifier for the instance that is to be retrieved\n\t * @return A promise for the instance. The promise rejects if no instance was found.\n\t */\n\tget(id: I): Promise<T>;\n\n\t/**\n\t * Look up the identifier for which the given value has been registered.\n\t *\n\t * Throws if the value hasn't been registered.\n\t *\n\t * @param value The value\n\t * @return The identifier\n\t */\n\tidentify(value: T): I;\n}\n\ninterface UnderlyingRegistry {\n\tgetAction(id: Identifier): Promise<ActionLike>;\n\tidentifyAction(action: ActionLike): Identifier;\n\tgetStore(id: Identifier | symbol): Promise<StoreLike>;\n\tidentifyStore(store: StoreLike): Identifier | symbol;\n\tcreateWidget<\n\t\tU extends Child,\n\t\tO extends WidgetFactoryOptions\n\t>(factory: ComposeFactory<U, O>, options?: O): Promise<[string, U]>;\n\tgetWidget(id: Identifier): Promise<WidgetLike>;\n\thasWidget(id: Identifier): Promise<boolean>;\n\tidentifyWidget(widget: WidgetLike): Identifier;\n}\n\n/**\n * Registry to (asynchronously) get widget instances by their ID, as well as create new instances that are then added\n * to the registry.\n */\nexport interface WidgetRegistry<I, T extends Child> extends Registry<I, T> {\n\t/**\n\t * Create a new instance and add it to the registry.\n\t *\n\t * @param factory Factory to create the new instance\n\t * @param options Options to be passed to the factory. Automatically extended with the `registryProvider` option,\n\t *   and the `stateFrom` option if an `id` was present and the application factory has a default store.\n\t * @return A promise for a tuple containing the ID of the created widget, and the widget instance itself.\n\t */\n\tcreate<U extends T, O>(factory: ComposeFactory<U, O>, options?: O): Promise<[string, U]>;\n\n\t/**\n\t * Checks if an instance exists in the registry for a given identifier.\n\t *\n\t * @param id identifier of the instance to check exists in the registry.\n\t * @return a Promise that resolves to a boolean indicating if the instance exists in the registry.\n\t */\n\thas(id: I): Promise<boolean>;\n}\n\n/**\n * Provides access to read-only registries for actions, stores and widgets.\n */\nexport default class RegistryProvider {\n\tprivate actionRegistry: Registry<Identifier, ActionLike>;\n\tprivate storeRegistry: Registry<Identifier | symbol, StoreLike>;\n\tprivate widgetRegistry: WidgetRegistry<Identifier, WidgetLike>;\n\n\tprivate readonly underlyingRegistry: UnderlyingRegistry;\n\tconstructor(registry: ReadOnlyRegistry) {\n\t\tthis.underlyingRegistry = Object.freeze({\n\t\t\tgetAction: registry.getAction.bind(registry),\n\t\t\tidentifyAction: registry.identifyAction.bind(registry),\n\t\t\tgetStore: registry.getStore.bind(registry),\n\t\t\tidentifyStore: registry.identifyStore.bind(registry),\n\t\t\tcreateWidget: registry.createWidget.bind(registry),\n\t\t\tgetWidget: registry.getWidget.bind(registry),\n\t\t\thasWidget: registry.hasWidget.bind(registry),\n\t\t\tidentifyWidget: registry.identifyWidget.bind(registry)\n\t\t});\n\t}\n\n\t/**\n\t * Get an action, store or widget registry.\n\t *\n\t * @param type The type of registry that is required.\n\t * @return The registry.\n\t */\n\tget(type: 'actions'): Registry<Identifier, ActionLike>;\n\tget(type: 'stores'): Registry<Identifier | symbol, StoreLike>;\n\tget(type: 'widgets'): WidgetRegistry<Identifier, WidgetLike>;\n\tget(type: string): Registry<any, any>;\n\tget(type: string): Registry<any, any> {\n\t\tswitch (type) {\n\t\t\tcase 'actions':\n\t\t\t\treturn this.actionRegistry || (this.actionRegistry = {\n\t\t\t\t\tget: this.underlyingRegistry.getAction,\n\t\t\t\t\tidentify: this.underlyingRegistry.identifyAction\n\t\t\t\t});\n\t\t\tcase 'stores':\n\t\t\t\treturn this.storeRegistry || (this.storeRegistry = {\n\t\t\t\t\tget: this.underlyingRegistry.getStore,\n\t\t\t\t\tidentify: this.underlyingRegistry.identifyStore\n\t\t\t\t});\n\t\t\tcase 'widgets':\n\t\t\t\treturn this.widgetRegistry || (this.widgetRegistry = {\n\t\t\t\t\tcreate: this.underlyingRegistry.createWidget,\n\t\t\t\t\tget: this.underlyingRegistry.getWidget,\n\t\t\t\t\thas: this.underlyingRegistry.hasWidget,\n\t\t\t\t\tidentify: this.underlyingRegistry.identifyWidget\n\t\t\t\t});\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`No such store: ${type}`);\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-app/lib/RegistryProvider.ts","import Map from 'dojo-shim/Map';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { Handle } from 'dojo-interfaces/core';\n\nconst noop = () => {};\n\ninterface Entry<V> {\n\thandle: Handle;\n\tvalue: V;\n}\n\ninterface State<V> {\n\tentryMap: Map<Identity, Entry<V>>;\n\tidMap: WeakMap<V, Identity>;\n}\n\nconst privateStateMap = new WeakMap<IdentityRegistry<any>, State<any>>();\n\nfunction getState<V>(instance: IdentityRegistry<V>): State<V> {\n\treturn privateStateMap.get(instance);\n}\n\n/**\n * Registry identities can be strings or symbols. Note that the empty string is allowed.\n */\nexport type Identity = string | symbol;\n\n/**\n * A registry of values, mapped by identities.\n */\nexport default class IdentityRegistry<V extends Object> {\n\tconstructor() {\n\t\tprivateStateMap.set(this, {\n\t\t\tentryMap: new Map<Identity, Entry<V>>(),\n\t\t\tidMap: new WeakMap<V, Identity>()\n\t\t});\n\t}\n\n\t/**\n\t * Look up a value by its identifier.\n\t *\n\t * Throws if no value has been registered for the given identifier.\n\t *\n\t * @param id The identifier\n\t * @return The value\n\t */\n\tget(id: Identity): V {\n\t\tconst entry = getState<V>(this).entryMap.get(id);\n\t\tif (!entry) {\n\t\t\tthrow new Error(`Could not find a value for identity '${id.toString()}'`);\n\t\t}\n\n\t\treturn entry.value;\n\t}\n\n\t/**\n\t * Determine whether the value has been registered.\n\t * @param value The value\n\t * @return `true` if the value has been registered, `false` otherwise\n\t */\n\tcontains(value: V): boolean {\n\t\treturn getState<V>(this).idMap.has(value);\n\t}\n\n\t/**\n\t * Remove from the registry the value for a given identifier.\n\t * @param id The identifier\n\t * @return `true` if the value was removed, `false` otherwise\n\t */\n\tdelete(id: Identity): boolean {\n\t\tconst entry = getState<V>(this).entryMap.get(id);\n\t\tif (!entry) {\n\t\t\treturn false;\n\t\t}\n\n\t\tentry.handle.destroy();\n\t\treturn true;\n\t}\n\n\t/**\n\t * Determine whether a value has been registered for the given identifier.\n\t * @param id The identifier\n\t * @return `true` if a value has been registered, `false` otherwise\n\t */\n\thas(id: Identity): boolean {\n\t\treturn getState<V>(this).entryMap.has(id);\n\t}\n\n\t/**\n\t * Look up the identifier for which the given value has been registered.\n\t *\n\t * Throws if the value hasn't been registered.\n\t *\n\t * @param value The value\n\t * @return The identifier otherwise\n\t */\n\tidentify(value: V): Identity {\n\t\tif (!this.contains(value)) {\n\t\t\tthrow new Error('Could not identify non-registered value');\n\t\t}\n\n\t\treturn getState<V>(this).idMap.get(value);\n\t}\n\n\t/**\n\t * Register a new value with a new identity.\n\t *\n\t * Throws if a different value has already been registered for the given identity,\n\t * or if the value has already been registered with a different identity.\n\t *\n\t * @param id The identifier\n\t * @param value The value\n\t * @return A handle for deregistering the value. Note that when called repeatedly with\n\t *   the same identifier and value combination, the same handle is returned\n\t */\n\tregister(id: Identity, value: V): Handle {\n\t\tconst entryMap = getState<V>(this).entryMap;\n\t\tconst existingEntry = entryMap.get(id);\n\t\tif (existingEntry && existingEntry.value !== value) {\n\t\t\tconst str = id.toString();\n\t\t\tthrow new Error(`A value has already been registered for the given identity (${str})`);\n\t\t}\n\n\t\tconst existingId = this.contains(value) ? this.identify(value) : null;\n\t\tif (existingId && existingId !== id) {\n\t\t\tconst str = (<Identity> existingId).toString();\n\t\t\tthrow new Error(`The value has already been registered with a different identity (${str})`);\n\t\t}\n\n\t\t// Adding the same value with the same id is a noop, return the original handle.\n\t\tif (existingEntry && existingId) {\n\t\t\treturn existingEntry.handle;\n\t\t}\n\n\t\tconst handle = {\n\t\t\tdestroy: () => {\n\t\t\t\thandle.destroy = noop;\n\t\t\t\tgetState<V>(this).entryMap.delete(id);\n\t\t\t}\n\t\t};\n\n\t\tentryMap.set(id, { handle, value });\n\t\tgetState<V>(this).idMap.set(value, id);\n\n\t\treturn handle;\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// node_modules/dojo-core/IdentityRegistry.ts","import createRenderMixin from 'dojo-widgets/mixins/createRenderMixin';\nimport createParentListMixin from 'dojo-widgets/mixins/createParentListMixin';\nimport createRenderableChildrenMixin from 'dojo-widgets/mixins/createRenderableChildrenMixin';\nimport createStatefulChildrenMixin from 'dojo-widgets/mixins/createStatefulChildrenMixin';\n\nconst createContainer = createRenderMixin\n\t.mixin(createParentListMixin)\n\t.mixin(createRenderableChildrenMixin)\n\t.mixin(createStatefulChildrenMixin);\n\nexport default createContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/widgets/common/createContainer.ts","import { ComposeFactory } from 'dojo-compose/compose';\nimport createStateful from 'dojo-compose/bases/createStateful';\nimport { Stateful, StatefulOptions, StateChangeEvent, State } from 'dojo-interfaces/bases';\nimport Map from 'dojo-shim/Map';\nimport Promise from 'dojo-shim/Promise';\nimport WeakMap from 'dojo-shim/WeakMap';\nimport { List, Map as ImmutableMap } from 'immutable';\nimport { Child, ChildListEvent, CreatableRegistry, RegistryProvider } from './interfaces';\nimport { isList } from '../util/lang';\n\nexport interface StatefulChildrenState {\n\t/**\n\t * Any children that the widget should \"own\"\n\t */\n\tchildren?: string[];\n}\n\nexport interface StatefulChildrenOptions<C extends Child, S extends StatefulChildrenState> extends StatefulOptions<S> {\n\t/**\n\t * The registry provider that should be used to resolve a widget registry and subsequently, widgets\n\t */\n\tregistryProvider?: RegistryProvider<C>;\n}\n\nexport interface CreateChildrenMap<C extends Child, O extends StatefulOptions<State>> {\n\t[label: string]: {\n\t\tfactory: ComposeFactory<C, O>;\n\t\toptions?: O;\n\t};\n}\n\n/**\n * Interface that represents and item from a returned `.createChildren()` map\n */\nexport interface CreateChildrenResultsItem<C extends Child> {\n\tid: string;\n\twidget: C;\n}\n\n/**\n * Interface that describes the children results returned from `.createChildren()`\n */\nexport interface CreateChildrenResults<C extends Child> {\n\t[label: string]: CreateChildrenResultsItem<C>;\n}\n\nexport type StatefulChildren<C extends Child> = {\n\t/**\n\t * The children that are associated with this widget\n\t */\n\tchildren: List<C> | ImmutableMap<string, C>;\n\n\t/**\n\t * Creates an instance based on the supplied factory and adds the child to this parent\n\t * returning a promise which resolves with the ID and the instace.\n\t *\n\t * @param factory The factory to use to create the child\n\t * @param options Any options that should be used when creating the child\n\t */\n\tcreateChild<D extends C, O extends StatefulOptions<S>, S extends State>(\n\t\tfactory: ComposeFactory<D, O>, options?: O): Promise<[string, D]>;\n\n\t/**\n\t * Creates a set or map of instances based upon the supplied data\n\t *\n\t * @param children the set or map of children factories and options\n\t */\n\tcreateChildren(children: [ComposeFactory<C, any>, any][]): Promise<[string, any][]>;\n\tcreateChildren(children: CreateChildrenMap<C, any>): Promise<CreateChildrenResults<C>>;\n\n\t/**\n\t * The ID for this widget\n\t */\n\treadonly id: string | null;\n}\n\nexport type StatefulChildrenMixin<C extends Child, S extends StatefulChildrenState> = Stateful<S> & StatefulChildren<C>;\n\nexport interface StatefulChildrenMixinFactory extends ComposeFactory<StatefulChildrenMixin<Child, StatefulChildrenState>, StatefulChildrenOptions<Child, StatefulChildrenState>> {\n\t<C extends Child>(options?: StatefulChildrenOptions<C, StatefulChildrenState>): StatefulChildrenMixin<C, StatefulChildrenState>;\n}\n\ninterface ManagementState {\n\t/**\n\t * A map of children to widget instances, so they don't have to be requested subsequently from the registry\n\t */\n\tcache?: Map<string | symbol, Child>;\n\n\t/**\n\t * The current set of children widgets\n\t */\n\tcurrent?: List<string>;\n\n\t/**\n\t * A generation number to avoid race conditions when managing children\n\t */\n\tgeneration: number;\n\n\t/**\n\t * A instance UID to be used when generating child widget IDs\n\t */\n\tchildrenUID: number;\n\n\t/**\n\t * This widget's ID which was potentially passed in creation options\n\t */\n\tid: string | undefined;\n\n\t/**\n\t * A reference to the widget registry that is used for resolving and creating children\n\t */\n\tregistry: CreatableRegistry<Child>;\n}\n\n/**\n * Map that holds state for manageChildren and manageChildrenState by widget instance.\n */\nconst managementMap = new WeakMap<StatefulChildrenMixin<Child, StatefulChildrenState>, ManagementState>();\n\n/**\n * Internal statechange listener which deals with managing the children when a state\n * change occurs on the parent\n *\n * @param evt The state change event of the parent\n */\nfunction manageChildren(evt: StateChangeEvent<StatefulChildrenState, StatefulChildrenMixin<Child, StatefulChildrenState>>): void {\n\tconst parent = evt.target;\n\n\t/* Assume this function cannot be called without the widget being in the management map */\n\tconst internalState = managementMap.get(parent);\n\n\t/* Initialize cache */\n\tconst { cache = new Map<string | symbol, Child>() } = internalState;\n\n\tif (!internalState.cache) {\n\t\tinternalState.cache = cache;\n\t}\n\t/* Initialize current children IDs */\n\tif (!internalState.current) {\n\t\tinternalState.current = List<string>();\n\t}\n\n\tconst currentChildrenIDs = evt.state.children ? List(evt.state.children) : List<string>();\n\tif (currentChildrenIDs.equals(internalState.current)) {\n\t\t/* There are no changes to the children */\n\t\treturn;\n\t}\n\n\t// Increment the generation vector. Used when children are replaced asynchronously to ensure\n\t// no newer state is overriden.\n\tconst generation = ++internalState.generation;\n\n\tinternalState.current = currentChildrenIDs;\n\tconst resolvingWidgets: [ Promise<Child>, string, number ][] = [];\n\n\t/* Sometimes we are dealing with children that are a list, somtimes, a Map */\n\tconst childrenList: Child[] = [];\n\tconst childrenMap: { [ id: string ]: Child } = {};\n\tconst childrenIsList = isList(parent.children);\n\n\t/* Iterate through children ids, retrieving reference to widget or otherwise\n\t * requesting the widget from the registry */\n\tcurrentChildrenIDs.forEach((id, key) => {\n\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t// istanbul ignore else\n\t\tif (id !== undefined && key !== undefined) {\n\t\t\tif (cache.has(id)) {\n\t\t\t\tif (childrenIsList) {\n\t\t\t\t\tchildrenList[key] = <Child> cache.get(id);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchildrenMap[id] = <Child> cache.get(id);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst widgetPromise = internalState.registry.has(id).then((exists) => {\n\t\t\t\t\tif (exists) {\n\t\t\t\t\t\treturn internalState.registry.get(id);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t/* Tuple of Promise, child ID, position in child list */\n\t\t\t\tresolvingWidgets.push([ widgetPromise, id, key ]);\n\t\t\t}\n\t\t}\n\t});\n\n\t/* If we have requests for widgets outstanding, we need to wait for them to be\n\t * resolved and then populate them in the children */\n\tif (resolvingWidgets.length) {\n\t\tPromise.all(resolvingWidgets.map(([ promise ]) => promise))\n\t\t\t.then((widgets) => {\n\t\t\t\t/* Only replace children if there is no newer state that either already has, or soon will,\n\t\t\t\t * replace the original listeners. */\n\t\t\t\tif (internalState.generation !== generation) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twidgets.forEach((widget, idx) => {\n\t\t\t\t\tconst [ , id, key ] = resolvingWidgets[idx];\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\tif (childrenIsList) {\n\t\t\t\t\t\t\tchildrenList[key] = widget;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tchildrenMap[id] = widget;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcache.set(id, widget);\n\t\t\t\t\t\twidget.own({\n\t\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\t\tcache.delete(id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (childrenIsList) {\n\t\t\t\t\t\t\tchildrenList.splice(key, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t/* Some parents have a List, some have a Map, so setting them varies */\n\t\t\t\tparent.children = isList(parent.children) ? List(childrenList) : ImmutableMap<string, Child>(childrenMap);\n\t\t\t}, (error) => {\n\t\t\t\t/* A promise got rejected for some reason */\n\t\t\t\tparent.emit({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttarget: parent,\n\t\t\t\t\terror: error\n\t\t\t\t});\n\t\t\t});\n\t}\n\telse {\n\t\t/* Otherwise we can just set the children */\n\t\tparent.children = isList(parent.children) ? List(childrenList) : ImmutableMap<string, Child>(childrenMap);\n\t}\n}\n\n/**\n * Internal function to manage the state of the children when a child list event occurs\n *\n * @param evt The child list event from the parent\n */\nfunction manageChildrenState(evt: ChildListEvent<any, Child>) {\n\tconst parent: StatefulChildrenMixin<Child, StatefulChildrenState> = evt.target;\n\n\t/* Assume this function cannot be called without the widget being in the management map */\n\tconst { registry } = managementMap.get(parent);\n\n\tconst evtChildren = evt.children;\n\n\tlet currentChildrenIDs: List<string>;\n\tif (isList(evtChildren)) {\n\t\tcurrentChildrenIDs = <List<string>> evtChildren.map((widget) => {\n\t\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t\t// istanbul ignore else\n\t\t\tif (widget) {\n\t\t\t\treturn registry.identify(widget);\n\t\t\t}\n\t\t});\n\t}\n\telse {\n\t\tcurrentChildrenIDs = List(evtChildren.keys());\n\t}\n\n\tconst storedChildren = parent.state.children ? List(parent.state.children) : List<string>();\n\tif (!currentChildrenIDs.equals(storedChildren)) {\n\t\tconst children = currentChildrenIDs.toArray();\n\t\tparent.setState({ children });\n\t}\n}\n\nfunction isCreateChildrenMap<C extends Child, O extends StatefulOptions<S>, S extends State>(value: any): value is CreateChildrenMap<C, O> {\n\treturn typeof value === 'object' && !Array.isArray(value);\n}\n\nconst createStatefulChildrenMixin: StatefulChildrenMixinFactory = createStateful\n\t.mixin({\n\t\tmixin: <StatefulChildren<any>> {\n\t\t\tcreateChildren(\n\t\t\t\tthis: StatefulChildrenMixin<Child, StatefulChildrenState>,\n\t\t\t\tchildren: CreateChildrenMap<Child, StatefulOptions<State>> | [ComposeFactory<Child, StatefulOptions<State>>, any][]\n\t\t\t): Promise<[string, any][]> | Promise<CreateChildrenResults<any>> {\n\t\t\t\tif (managementMap.has(this)) {\n\t\t\t\t\tconst management = managementMap.get(this);\n\t\t\t\t\tconst { registry, id } = management;\n\t\t\t\t\tif (isCreateChildrenMap(children)) {\n\t\t\t\t\t\t/* Because we have a map, but Promise.all only takes an array, we have to \"flatten\" the map into\n\t\t\t\t\t\t* two arrays, of promises and labels */\n\t\t\t\t\t\tconst promises: Promise<[ string, Child ]>[] = [];\n\t\t\t\t\t\tconst labels: string[] = [];\n\t\t\t\t\t\tfor (const label in children) {\n\t\t\t\t\t\t\tconst { factory, options = {} } = children[label];\n\t\t\t\t\t\t\tif (!options.id) {\n\t\t\t\t\t\t\t\t/* See createChild for explination of this logic */\n\t\t\t\t\t\t\t\toptions.id = `${id || this.id}-child-${++management.childrenUID}`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpromises.push(registry.create(factory, options));\n\t\t\t\t\t\t\tlabels.push(label);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Promise\n\t\t\t\t\t\t\t.all(promises)\n\t\t\t\t\t\t\t.then((items) => {\n\t\t\t\t\t\t\t\t/* create a handle which will destroy the children created */\n\t\t\t\t\t\t\t\tconst instances = items.map(([ , child ]) => child );\n\t\t\t\t\t\t\t\tthis.own({\n\t\t\t\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\t\t\t\treturn instances.map((instance) => instance.destroy());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t/* Now we need to constitute our map to return it */\n\t\t\t\t\t\t\t\tconst results: CreateChildrenResults<Child> = {};\n\t\t\t\t\t\t\t\tconst newChildren = items.map(([ id, widget ], idx) => {\n\t\t\t\t\t\t\t\t\tresults[labels[idx]] = { id, widget };\n\t\t\t\t\t\t\t\t\treturn id;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconst children = this.state.children ? [ ...this.state.children, ...newChildren ] : newChildren;\n\t\t\t\t\t\t\t\tthis.setState({ children });\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn Promise\n\t\t\t\t\t\t\t.all(children.map(([ factory, options ]) => {\n\t\t\t\t\t\t\t\tif (!options.id) {\n\t\t\t\t\t\t\t\t\t/* depending upon the construction lifecycle, the this.id may not have been properly set and will\n\t\t\t\t\t\t\t\t\t* auto-generate an ID, therefore we have copied the ID out of options, if it was present and will\n\t\t\t\t\t\t\t\t\t* use that as a base for autogenerating the child widget's ID */\n\t\t\t\t\t\t\t\t\toptions.id = `${id || this.id}-child-${++management.childrenUID}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn registry.create(factory, options);\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t.then((items) => {\n\t\t\t\t\t\t\t\t/* create a handle which will destroy the children created */\n\t\t\t\t\t\t\t\tconst instances = items.map(([ , child ]) => child );\n\t\t\t\t\t\t\t\tthis.own({\n\t\t\t\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\t\t\t\treturn instances.map((instance) => instance.destroy());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tconst newChildren = items.map(([ id ]) => id);\n\t\t\t\t\t\t\t\tconst children = this.state.children ? [ ...this.state.children, ...newChildren ] : newChildren;\n\t\t\t\t\t\t\t\tthis.setState({ children });\n\t\t\t\t\t\t\t\treturn items;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn Promise.reject(new Error('Unable to resolve registry'));\n\t\t\t},\n\n\t\t\tcreateChild<C extends Child>(\n\t\t\t\tthis: StatefulChildrenMixin<Child, StatefulChildrenState>,\n\t\t\t\tfactory: ComposeFactory<C, any>,\n\t\t\t\toptions: any = {}\n\t\t\t): Promise<[string, C]> {\n\t\t\t\treturn this.createChildren([ [ factory, options ] ]).then(([ tuple ]) => tuple);\n\t\t\t}\n\t\t},\n\t\tinitialize(instance: StatefulChildrenMixin<Child, StatefulChildrenState>, { registryProvider, id, state }: StatefulChildrenOptions<any, any> = {}) {\n\t\t\tif (registryProvider) {\n\t\t\t\tconst registry = registryProvider.get('widgets');\n\t\t\t\tmanagementMap.set(instance, {\n\t\t\t\t\tregistry,\n\t\t\t\t\tgeneration: 0,\n\t\t\t\t\tchildrenUID: 0,\n\t\t\t\t\tid\n\t\t\t\t});\n\n\t\t\t\tinstance.own(instance.on('state:changed', manageChildren));\n\t\t\t\tinstance.own(instance.on('childlist', manageChildrenState));\n\n\t\t\t\t/* Stateful will have already fired the statechange event at this point */\n\t\t\t\tif (state) {\n\t\t\t\t\tinstance.setState(state);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\nexport default createStatefulChildrenMixin;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createStatefulChildrenMixin.ts","import { DNode } from 'dojo-interfaces/widgetBases';\nimport { List } from 'immutable';\nimport compose, { ComposeFactory } from 'dojo-compose/compose';\nimport { from as arrayFrom } from 'dojo-shim/array';\nimport { Child, ChildEntry } from './interfaces';\n\nexport interface RenderableChildrenOptions {\n\t/**\n\t * An optional method which can be used to sort the children\n\t */\n\tsort?: <C extends Child>(valueA: ChildEntry<C>, valueB: ChildEntry<C>) => number;\n}\n\nexport interface RenderableChildrenMixin {\n\t/**\n\t * Return an array of VNodes/strings the represent the rendered results of the children of this instance\n\t */\n\tgetChildrenNodes(): DNode[];\n\n\t/**\n\t * An optional method which can be used to sort the children when they are rendered\n\t * @param valueA The first entry to be compared\n\t * @param valueB The second entry to be compared\n\t */\n\tsort?<C extends Child>(valueA: ChildEntry<C>, valueB: ChildEntry<C>): number;\n}\n\nexport interface RenderableChildrenFactory extends ComposeFactory<RenderableChildrenMixin, RenderableChildrenOptions> {}\n\nconst createRenderableChildrenMixin: RenderableChildrenFactory = compose<RenderableChildrenMixin, RenderableChildrenOptions>({\n\t/* When this gets mixed in, if we had the children as part of the interface, we would end up overwritting what is\n\t * likely a get accessor for the children, so to protect ourselves, we won't have it part of the interface */\n\tgetChildrenNodes(this: RenderableChildrenMixin & { children: List<Child>; }): DNode[] {\n\t\tconst { children, sort } = this;\n\t\t/* children is not guarunteed to be set, therefore need to guard against it */\n\t\tif (children) {\n\t\t\tconst results: DNode[] = [];\n\t\t\tif (sort) {\n\t\t\t\tarrayFrom(<ChildEntry<Child>[]> <any> children.entries()).sort(sort)\n\t\t\t\t\t.forEach(([ , child ]) => results.push({ children: [], render: child.render.bind(child) }));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t// Workaround for https://github.com/facebook/immutable-js/pull/919\n\t\t\t\t\t// istanbul ignore else\n\t\t\t\t\tif (child) {\n\t\t\t\t\t\tresults.push({ children: [], render: child.render.bind(child) });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn results;\n\t\t}\n\t\telse {\n\t\t\treturn [];\n\t\t}\n\t}\n}, (instance, options) => {\n\tif (options) {\n\t\tinstance.sort = options.sort;\n\t}\n});\n\nexport default createRenderableChildrenMixin;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createRenderableChildrenMixin.ts","import createRenderMixin from './../bases/createWidgetBase';\n\nexport {\n\tWidget as RenderMixin,\n\tWidgetState as RenderMixinState,\n\tWidgetOptions as RenderMixinOptions\n} from 'dojo-interfaces/widgetBases';\n\nexport default createRenderMixin;\n\n\n\n// WEBPACK FOOTER //\n// src/mixins/createRenderMixin.ts"],"sourceRoot":""}